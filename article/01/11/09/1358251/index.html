<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org story by ziggy: MakeMaker Article on DeveloperWorks</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>MakeMaker Article on DeveloperWorks</h1>
<h2><a href="/user/ziggy/">ziggy</a> on 2001-11-09T13:58:50</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><a href="http://dague.net/sean">sdague</a> writes <i>"The <a href="http://www.ibm.com/developerworks">IBM DeveloperWorks</a> site recently published an article of mine entitled <a href="http://www-106.ibm.com/developerworks/linux/library/l-make.html">Building Perl Projects with MakeMaker</a> in which I give an overview of setting up a project using ExtUtils::MakeMaker and Test.pm.   For those who saw <a href="http://dague.net/mmprez">my YAPC::NA talk on this</a>, it is similar material, but with far more detail."</i></p>
<p></p>


<hr/>



<h2>lib directory</h2>
<h3><a href="/user/Matts/">Matts</a> on 2001-11-09T15:16:25</h3>
I'm not 100% settled on how to structure a Perl project yet. And I've written a few (38 or something at the last count!).
<br>
<br>I've got some where I have a lib directory (e.g. AxKit), and some where I have a "last-part-of-the-path" directory (e.g. XML::XPath has an XPath/ directory containing the modules), and some where I start the directory at root, e.g. in XML::SAX, I have an XML/ directory, and XML/SAX/, etc.
<br>
<br>The last format makes it quite easier to write one-off test scripts in the root directory and run them from there without having to run make and run "perl -Mblib". I'm not sure if that's a good thing or not, but it occasionally makes life easier. With lib/ I feel like I have directory trees just too deep to manage. But YMMV.
<br>
<br>I'm also not sure if I'm glad MakeMaker just figures it out for me. Maybe it would have been better for me if it just enforced a structure on me. *shrug*.



<h2>More than just .pm and .pl files?</h2>
<h3><a href="/user/koolade/">koolade</a> on 2001-11-09T17:27:43</h3>
It's a good article, and MakeMaker's served me well when I'm just packaging<nobr> <wbr></nobr>.pm and<nobr> <wbr></nobr>.pl files.  But when I look to put together entire projects, I'm afraid I haven't been able to get around the learning curve.  I typically have files other than perl source that I need to distribute--html files, images, config files, etc.--and I haven't been able to figure out how to cleanly install all these with MakeMaker.
<br>
<br>For example, I'd like to install a project that looks something like this:
<br>
<br>/path/to/lib/MyModule.pm
<br>/path/to/bin/myprogram.pl
<br>/path/to/conf/myconfig.conf
<br>/path/to/html/myinterface.html
<br>/path/to/images/mydesign.png
<br>
<br>Of course, there are multiple files per directory, but you get the idea.  Is there a clean way to use MakeMaker to install the whole think?  I know I can have MakeMaker run a separate install script that can copy all those files, but I'm clueless on how to communicate with the script changes to PREFIX, etc.
<br>
<br>Also, does anyone know how I can easily change the "use lib" statement in<nobr> <wbr></nobr>/path/to/bin/myprogram.pl to reflect changes to PREFIX, LIB, etc.?
<br>
<br>Excuse my ignorance, but the MakeMaker docs haven't shed any light for me on this, and I haven't been able to find too many examples out there.



<blockquote>

<h2>Re:More than just .pm and .pl files?</h2>
<h3><a href="/user/Matts/">Matts</a> on 2001-11-09T20:22:59</h3>
We did this for O'Reilly's W*bBoard (which we of course never wrote. Ahem). Email me (matt@take23.org), if you want a copy of the Makefile.PL. It's complex (553 lines), but it does pretty much what you're after.



<h2>Re:More than just .pm and .pl files?</h2>
<h3><a href="/user/autarch/">autarch</a> on 2001-11-11T17:48:15</h3>
As Matt said, we did this for WebBoard for Unix (which will probably never be released.  Thanks Chatspace!  Thanks Tim!).
<br>
<br>I also used a lot of the same techniques in the Makefile.PL I use for Alzabo (which is on CPAN).
<br>
<br>Basically, MakeMaker sucks at this big time.  Ken Williams' Module::Build will hopefully mature into something that does this sort of thing better.
<br> <br>-dave





</blockquote>


<h2>Just wishing</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2001-11-09T19:58:34</h3>
<p>First of all, thanks.  I wish I'd had this earlier!<nobr> <wbr></nobr>:)</p>

<p>Lately I've been doing a lot of projects with the GNU autotools.  They're not very well suited for Perl out of the box, but some customizations help.  I'm finding cases where I like to write a library or class and have autoconf tell my program to include an extra library directory:</p>

<tt>
our($prefix, $exec_prefix);
BEGIN
{
  $prefix = "@prefix@";
  $exec_prefix = "@exec_prefix@";
}
use lib "@libdir@";
</tt>

<p>MakeMaker is excellent and taught me a lot, but doesn't do everything I want.  I'd like to see a new system for Perl 6, perhaps more tightly integrated (or just feature compared with) the autotools.</p>

<p>But I'm just rambling.  Those of you who produce the code are the ones who will make the decisions.<nobr> <wbr></nobr>:)</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

