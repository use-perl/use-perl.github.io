<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org story by pudge: Why Tcl is Better than Perl</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Why Tcl is Better than Perl</h1>
<h2><a href="/user/pudge/">pudge</a> on 2000-07-03T16:04:42</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>There is a piece about <a href="http://dev.scriptics.com/advocacy/perl.html">Why Tcl is better than Perl</a> on the <a href="http://dev.scriptics.com/">Tcl Developer Xchange site</a>, hosted by parent company <a href="http://www.scriptics.com/">Scriptics</a>, erm, <a href="http://www.ajubasolutions.com/">Ajuba</a>.

<p>The piece offers many insights into why Tcl is better, noting that Perl is rarely extended; it can be used in many fewer situations and for many fewer purposes than Tcl; Perl is based on 8-bit characters; Perl is write-only; the commercial tools available for Perl development are not complete and run only under Windows.

</p><p> <b>Note</b>: remember that this site of ours is for civilized discussion.</p></p>
<p></p>


<hr/>



<h2>regexes</h2>
<h3><a href="/user/pudge/">pudge</a> on 2000-07-03T20:51:33</h3>
<em>The new Tcl regular expression package has all of the advanced features that Perl has, plus Unicode support which Perl is lacking.</em>

<p>I am trying to think how the statement could be more wrong.  The Tcl regex package does not have all the advanced features Perl has in its regex engine.  I don't know when this thing was written, but I doubt very much it supports all the perl 5.005 features, let alone the 5.6 features.  This isn't necessarily a bad thing, but it is still a wrong thing.

</p><p>As to lack of Unicode support, well, that's just plain false.  Maybe this is just an old document, I don't know.  It certainly should be dated.</p>



<h2>Re:regexes</h2>
<h3><a href="/user/technik/">technik</a> on 2000-07-03T21:45:20</h3>
I remember this from a while ago. The bottom of the document includes (c)1998-2000 and was last updated March 9,2000. The last update was probably s/Scriptics/Ajuba/
<br>
<br>I think we can take this for what it is- marketing.



<h2>Re:regexes</h2>
<h3><a href="/user/Abigail/">Abigail</a> on 2000-07-03T23:28:44</h3>
<em>The Tcl regex package does not have all the advanced features Perl has in its regex engine.</em>
<p>
From the last section of the document:<br>
</p><blockquote><div>
Tcl has most but not all of the advanced features of Perl's regular expressions and it also has some of its own unique features.
</div></blockquote>
<p> <em>
As to lack of Unicode support, well, that's just plain false.
</em>
</p><p>Really? Then Dominus must be lying in his <a href="http://www.perl.com/pub/2000/07/p5pdigest/THISWEEK-20000702.html" title="perl.com">summary</a perl.com> when he writes:
</p><blockquote><div>
Now here's a dirty secret: Overloading the regex engine this way is difficult, and hasn't been done yet.Regex matching ignores the UTF8 flag in its target. Instead, it uses the old method that was abandoned: if it was compiled with use utf8 in scope, it assumes that its argument is in UTF8 format, and if not, it assumes its argument is a byte string.
</div></blockquote>
<p>
<em>Maybe this is just an old document, I don't know. It certainly should be dated.</em>
</p><p>
Again, from the article:
</p><blockquote><div>
Please make sure that this page does not become yet another out of date comparison. Make the effort to keep up to date with changes in Perl and update the comparison if necessary. It would be useful if you could indicate at the top of the
page which versions you are comparing and when.
</div></blockquote>
<blockquote><div>
Paul Duffin, June 8 02:17:57, 2000
</div></blockquote>
<p>
-- Abigail</p>



<h2>Re:regexes</h2>
<h3><a href="/user/pudge/">pudge</a> on 2000-07-04T01:55:28</h3>
<em>From the last section of the document</em>

<p>That was from a reader comment, not from the article.

</p><p> <em>&gt;As to lack of Unicode support, well, that's just plain false.</em>

</p><p> <em>Really? Then Dominus must be lying in his summary when he writes</em>

</p><p>Huh?  Unicode regexes are supported, as Dominus' quote says.  Apparently support could be better, but that still makes the statement patently false.

</p><p>And also the last thing you mention is not from the article, but from a reader comment.

</p><p>Of course, a lot more is demonstrably false about the article.  Leaving out the misleading and irrelevant statements (and those having to do with Unicode that may just be out of date), the patently false include gems like <em>if you come back to a Perl script after a couple of months, you probably won't be able to understand it anymore</em> (whether or not someone else can read your code is another story); <em>the commercial (development) tools available for Perl are less complete and run only under Windows</em> (last I checked, Unix/Solaris/etc. was more complete than TclPro AND is still commercial); <em> though it is possible in principle to extend Perl, it is rarely done in practice</em> (perhaps it is done too often!); <em>Tcl can be used in many more situations, for many more purposes, than Perl</em> (heh!).

</p><p>BTW, I don't understand what "I think we can take this for what it is- marketing" means, technik.  Perhaps that is because I have for years realized that I have no idea what "marketing" is, and I am not sure it even exists.  I think perhaps the concept is a fiction.</p>



<h2>Pointless lies</h2>
<h3><a href="/user/jericson/">jericson</a> on 2000-07-04T06:24:59</h3>
Misconceptions
<p>
If you explore the Tcl Web sites, you'll find various claims about why Tcl is superior to Perl.  Many of these claims are either incorrect or out-of-date, including all of the following:</p>



<h2>They would say that wouldnt they.</h2>
<h3><a href="/user/jns/">jns</a> on 2000-07-04T09:43:15</h3>
They are a commercial company selling products which are based on Tcl - in the modern marketing mind they have to rubbish the competition<nobr> <wbr></nobr>...
<br> <br>/J\



<h2>Re:They would say that wouldnt they.</h2>
<h3><a href="/user/pudge/">pudge</a> on 2000-07-04T12:25:49</h3>
Again, I don't know what "marketing" is, though.



<h2>Re:They would say that wouldnt they.</h2>
<h3><a href="/user/Silver/">Silver</a> on 2000-07-04T20:12:04</h3>
<i>Again, I don't know what "marketing" is, though.</i> <p>

Perhaps this will help you understand, grasshopper:</p><p>

At the bank for which I used to work, there was a robbery. This is not unusual, since there are a lot of stupid people out there, except that it was <i>unusually</i> stupid... a daylight robbery, a downtown bank branch which was glass on all four walls (giving cameras and drive-through customers a good view of the guy before the dye pack blew up in his face), etc.</p><p>

It was sufficiently entertaining that it made the news on all four local stations.</p><p>

During the filming, one of the camera crews panned past a poster advertising the bank's CD rate.  During the 5pm news, the phone center received several calls about opening CD's, including one who specifically mentioned having seen the rate on a newscast.</p><p>

The marketing director was thrilled, because for $5000 the bank got, in his mind, a prime-time TV commercial on every channel.</p><p>

<i>That</i> is marketing.</p><p>



<h2>Re:regexes</h2>
<h3><a href="/user/Abigail/">Abigail</a> on 2000-07-04T21:34:20</h3>
<em>Unicode regexes are supported, as Dominus' quote says.</em>
<p>
Uhm, no. Regexes don't check whether the string they match against are UTF8 strings or not. They follow the abondened "all or nothing" strategy.
</p><p>
<tt>
#!/opt/perl/bin/perl&nbsp;-w<br>
<br>
use&nbsp;strict;<br>
<br>
sub&nbsp;one_char&nbsp;{$_&nbsp;[0]&nbsp;=~&nbsp;/^.$/;}<br>
<br>
{&nbsp;&nbsp;use&nbsp;utf8;<br>
&nbsp;&nbsp;&nbsp;my&nbsp;$str1&nbsp;=&nbsp;v1024;&nbsp;&nbsp;&nbsp;#&nbsp;Unicode&nbsp;ch    ar&nbsp;1024.<br>
&nbsp;&nbsp;&nbsp;my&nbsp;$str2&nbsp;=&nbsp;v32;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Unico    de&nbsp;char&nbsp;&nbsp;&nbsp;32.<br>
&nbsp;&nbsp;&nbsp;print&nbsp;"Matched&nbsp;1\n"&nbsp;if&nbsp;one_char&nbsp;$str1;<br>
&nbsp;&nbsp;&nbsp;print&nbsp;"Matched&nbsp;2\n"&nbsp;if&nbsp;one_char&nbsp;$str2;<br>
}<br>
<br>
__END__<br>
</tt>
</p><p>This prints:<br> <tt>Matched 2</tt> <br>
which clearly indicates that Perl regexes <strong>don't</strong> support Unicode. Or, at least, they support it enough to not complain, yet they produce bogus results - which is worse than complaining and refusing to continue.
</p><p>
-- Abigail
</p><p>
PS, why does use.perl.org introduce line breaks in my code? Now there's an bogus space in "ch ar", and in "Unico de".</p>



<h2>Re:Pointless lies</h2>
<h3><a href="/user/alleria/">alleria</a> on 2000-07-05T05:47:56</h3>
Hmm, I guess your post got cut off, but there are lots:
<br>not binary clean.
<br>everything is a string. no numerics whatsoever.
<br>no standardardized OO implementation.
<br>not as many prefab modules (a la CPAN)
<br>
<br>are just some of the first that floated to the top of my head.
<br>
<br>At this point. Perl can do everything that Python and Tcl can, and more. IMO. I personally think that it's also superior to C/C++ for all applications programming as well, but then again, I'm crazy.<nobr> <wbr></nobr>;p



<h2>Re:regexes</h2>
<h3><a href="/user/pudge/">pudge</a> on 2000-07-05T13:07:34</h3>
<em>&gt;Unicode regexes are supported, as Dominus' quote says.</em>

<p> <em>Uhm, no. Regexes don't check whether the string they match against are UTF8 strings or not.</em>

</p><p>And this does not appear in any way make my statement above false.  It mitigates the statement, it clarifies it, it makes it look worse that originally one might have thought, but it does not make it false.

</p><p>However, your code is curious.  Does it fail because v1024 is UTF-16 and not UTF-8?

</p><p>As to the "line breaks": they are inserted spaces.  When a linke of text does not have any spaces in it for x chars, we insert one, so that malicious users can't fuX0r a browser by putting in very long lines of text.  This is old code in Slash; if there is a better way to deal with it, I'm all ears.  One thing you could do is put in an arbitrary space or linebreak between a pair of &amp;nbsp;'s.  Something I could possibly do is in the regex to find long lines of text, count &amp;nbsp;'s as whitespace.</p>



<h2>Re:regexes</h2>
<h3><a href="/user/Abigail/">Abigail</a> on 2000-07-06T22:19:53</h3>
<em>And this does not appear in any way make my statement above false. It mitigates the statement, it clarifies it, it makes
       it look worse that originally one might have thought, but it does not make it false.</em>
<p>
I wouldn't call the fact that regexes ignore the fact that a string is in UTF-8 format "supporting Unicode". It makes the term "support" meaningless. The criticism on this point is correct.
</p><p> <em>However, your code is curious. Does it fail because v1024 is UTF-16 and not UTF-8? </em>
</p><p>
That is a question showing you don't understand Unicode. Unicode is a mapping from numbers to characters. <tt>v1024</tt> is a string consisting of one character, the 1024th Unicode character. UTF-16 and UTF-8 are 2 of several ways of <strong>encoding</strong> characters. UTF-16 isn't supported by Perl, if <tt>v1024</tt> would result in a UTF-16 encoding, you found a serious bug. In the code I gave, <tt>use&nbsp;utf8;</tt> is in effect, so <tt>v1024</tt> results in a UTF-8 string. Being Unicode, it is a one character string. But due to the encoding, it is a multi-byte string. The regex machine does not understand that.
</p><p>-- Abigail</p>



<h2>Style</h2>
<h3><a href="/user/grufolone/">grufolone</a> on 2000-07-07T08:22:30</h3>
I have used TCL for a while, mostly for exploiting Tk, and what I say is that in my opinion Tcl code is by far less "neat" and "clean" than Perl code could be. Like nearly any other programming language, it makes you type a lot of conceptually unnecessary details; in this sense Perl is a different animal, and thats why I love it.
<br>
<br>



<h2>Re:regexes</h2>
<h3><a href="/user/pudge/">pudge</a> on 2000-07-08T13:47:01</h3>
It does not make the term "support" meaningless.  Sorry, it just doesn't.  If the regex engine supports UTF-8 when the utf8 pragma is in effect, then UTF-8 is de facto supported, though not supported in the way you want it to be.

<p>As to my not understanding Unicode: I understand the basics of how it works.  I understand encodings.  I do not know specifics if Unicode, or the specifics of the various Unicode encodings.  I did not know if v1024 is a proper character in UTF-8, because if it were, and the perl docs were true, then it would be supported by the regex engine.  You say it is; so I believe it is.  So why do the Perl docs say that this should work, and yet, according to you, it doesn't?</p>



<h2>Re:regexes</h2>
<h3><a href="/user/Abigail/">Abigail</a> on 2000-07-08T19:49:47</h3>
<em>I did not know if v1024 is a proper character in UTF-8, because if it were, and the perl docs were true, then it would be supported by the regex engine.</em>
<p>
But, as I telling you, and showing you with code, the regex machine does not properly support Unicode. It follows the old model, abandoned by the rest of Perl. Only were the old and new model happen to coincide it "works", but that's purely by accident.
</p><p>
Old model: everything is assumed to be in Unicode if, and only if, the <tt>utf8</tt> pragma is in effect.<br>
New model: something is in Unicode if and only if the appropriate flag in the SV is set.
</p><p>
<em>So why do the Perl docs say that this should work</em>
</p><p>
They do? <tt>man perlunicode</tt> starts with<br>
</p><blockquote><div>
<tt>WARNING: The implementation of Unicode support in Perl is incomplete.</tt>
</div></blockquote>
and one paragraph later:
<blockquote><div>
<tt>
Regular Expressions<br>
The existing regular expression compiler does not produce polymorphic opcodes. This means that the determination on whether to match Unicode characters is made when the pattern is compiled, based on whether the pattern contains Unicode characters, and not when the matching happens at run time.  This needs to be changed to adaptively match Unicode if the string to be matched is Unicode.
</tt>
</div></blockquote>
<p>
If you know of parts of the documentation that say regexes properly support Unicode, please use <tt>perlbug</tt> so the documentation can be rectified.
</p><p>
-- Abigail</p>



<h2>Re:regexes</h2>
<h3><a href="/user/pudge/">pudge</a> on 2000-07-09T01:24:28</h3>
From perldoc utf8:

<p> <tt>
In the absence of inputs marked as UTF-8, regular expressions within the<br>
scope of this pragma will default to using character semantics instead<br>
of byte semantics.
</tt> </p>

<p>Perhaps I am wrong, but that tells me that regexes will be forced to treat text as utf8 if the utf8 pragma is in effect.</p>



<h2>Re:regexes</h2>
<h3><a href="/user/Abigail/">Abigail</a> on 2000-07-09T04:58:25</h3>
<em>Perhaps I am wrong, but that tells me that regexes will be forced to treat text as utf8 if the utf8 pragma is in effect.</em>
<p>
Exactly my point. Considering what the rest of Perl does, that is outdated, and hence <strong>wrong</strong>. It might give the right answer by accident. But it will often give the wrong answer.
</p><p>
-- Abigail</p>



<h2>Re:regexes</h2>
<h3><a href="/user/pudge/">pudge</a> on 2000-07-09T12:13:22</h3>
But<nobr> <wbr></nobr>... if this were true -- that it will be forced to be treated as utf8 -- then why did it not treat v1024 as utf8?
<br>
<br>Oh wait, I think I am being a moron.  This is because the regex is outside the pragma's scope.  Sigh.  It does do exactly what I thought, but your code failed because I can't read; I'm sorry for wasting your time about that whole thing.
<br>
<br>Now, as to being "wrong": should it be different?  Yes, that would be nice.  But the fact remains that it does work, even though it is a kludge.  UTF-8 IS supported in regexes, with this workaround.  It is not ideal.  It is not the way it should be.  UTF-8 is supported, just not as well as it should be.



<h2>web/db toolkit for tcl, but not for Perl</h2>
<h3><a href="/user/markjugg/">markjugg</a> on 2000-09-04T15:32:00</h3>
I'm a heavy perl programmer myself, but I have to say, there's one plus I see to tcl. This is not a merit of the language itself, but what's been done with it: There's an excellent web/db toolkit written in tcl called the ACS, or <a href="http://acs.arsdigita.com/" title="arsdigita.com">Arsdigita Community System</a arsdigita.com>. This toolkit supports a huge amount of web/db functionality (a recent version included over 3000 scripts). Something like this could certainly be done in Perl, but there's not one like this available know that I know of. There are smaller projects-- but nothing of this scale.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

