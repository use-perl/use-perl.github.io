<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org story by kudra: Perl 6 summary, 19-25 November, 2006</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 summary, 19-25 November, 2006</h1>
<h2><a href="/user/kudra/">kudra</a> on 2006-11-26T13:12:00</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><b>This week on the Perl 6 mailing lists</b>
<p>"...of course [that] can't be a bug as there are no specs ;)"</p>

<p>-- Leopold Toetsch, in '[perl #40968] [BUG] :multi doesn't seem to work right'</p></p>
<p><p> <b>Language</b> </p>
<p> <i> <a href="http://groups.google.com/group/perl.perl6.language/browse_frm/thread/bd6e492ac7ce0729/c03b9a1ad322e812?#c03b9a1ad322e812">Smart Matching clarification</a> </i> </p>
<p>Last week,
Jonathan Lang brought up some information relating to hashes and was
wondering if the matching operator ought to be modified since the concept for
hash keys has since changed.  Larry Wall replied that <code>===</code> was correct,
but that the decisions on sorting may need to be rethought.  Jonathan
thought that not only was the current description suboptimal, it might
not even be possible.  Darren Duncan added in his opinion that .keys should return a Set.  Jonathan had some concerns about the idea.
Meanwhile, Paul Seamons made another suggestion based upon Template Toolkit's
handling of the concept.</p>

<p>This week, Darren went in to more detail on the methods which ought to
be available for Set, Seq and Bag.  TSa also added comments on the
relationship between Seq, Bag and Set.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.language/browse_frm/thread/4ca5015a7eb6c39f/03faed9207d79b00?#03faed9207d79b00">Closures, compile time, pad protos</a> </i> </p>
<p>Yuval Kogman initiated a thread on scoping and closures with some code examples.
Anatoly Vorobey tried to further clarify the question.  They were not clear
on how inner lexically scoped subroutines view their enclosing environments.
There was some question on how compile-time pads are linked at runtime.
Juerd's had a question which led Yuval to further define the original
question.</p>

<p>Buddha Buck added some comments based upon an understanding of other languages;
Anatoly joined in the discussion.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.language/browse_frm/thread/338934a977a8f878/36315357e1b0e06b?#36315357e1b0e06b">Synopsis 26</a> </i> </p>
<p>Damian Conway attached S26 and thanked everyone who offered feedback on
the first draft.  He also stated that the Pod-to-XTML module and Perl 5
implementation of the POD parser will be available soon.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.language/browse_frm/thread/5e4aee99795a2b75/f7e37c29ea7df04b?#f7e37c29ea7df04b">implementation for subset types</a> </i> </p>
<p>TSa wanted to propose an addition to the subset type definitions, namely
an implementation body like classes and roles.  A rectangle example from
an earlier thread was included.  Jonathan Lang replied with an alternate
code example.</p>

<p> <b>Parrot Porters</b> </p>
<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/1fd0d3b432c2e425/664324a6e0a3d691?#664324a6e0a3d691">RFC:  Proposal for dynamic binding</a> </i> </p>
<p>Bob Rogers responded to Leopold Toetsch's earlier request for an
analysis of the impact of using STM for dynamic binding with a detailed
comparison.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/15f2f3d20aa5dc33/131325eb55c32ff5?#131325eb55c32ff5">set_pmc + setref/deref: anyone using them?</a> </i> </p>
<p>Earlier,
Matt Diephouse wanted to know if anyone would be upset if he removed
the <code>set_pmc</code> vtable and the <code>setref</code> and <code>deref</code> opcodes.  Allison
Randal thought it sounded like a bad idea to simply remove opcodes
because they were broken.  She wanted to know what problem they were
intended to solve, and what the replacement strategy for is.</p>

<p>This week, Matt explained what he knew about the history of the opcode.
Allison agreed with him that <code>set_pmc</code> needs to be split from <code>assign_pmc</code>
and that they may need to be renamed.  She asked for a more complete
proposal for creating the new reference pmc so that the effects can
be carefully considered.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/2723d054f33c5ff6/181856578361ee2e?#181856578361ee2e">[perl #40884] [CAGE] update parrothist.pod from email archives </a> </i> </p>
<p>Earlier, Paul Cochrane took a stab at ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40884">[perl #40884]</a>, which
was Chip Salzenberg's request for Parrot release names to be recorded.
Will Coleda completed the task and gave a brief overview of the history
of the naming schemes.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/575a49e7aa9cf5bb/01b2469853e47bab?#01b2469853e47bab">pmc2c.pl:  Proposed Strategy for Revisions and Testing</a> </i> </p>
<p>Last week, following his introduction to Parrot at the Chicago Hackathon,
James E Keenan posted a proposal on how <code>pmc2c.pl</code> could be tested.
He hoped for some feedback at an early point to prevent him from wasting
effort on useless patches.</p>

<p>He proposed extracting as much functionality as possible in to subroutines
which are then placed in a package.  He also wondered about some options
which were described in the documentation but didn't appear to be used.</p>

<p>This week, James clarified that <code>gen_def()</code> is indeed not used.  Jonathan
Worthington took responsibility for this, and said that he thought it was
unneeded.  James stated his intention to deprecate it.</p>

<p>Allison Randal advised James to begin with an extensive and tested refactor,
with Particle's help.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/0778bcd1d78d2119/2ea37cd190a148fc?#2ea37cd190a148fc">[perl #40945] [PATCH] languages/abc test suit, basic tests </a> </i> </p>
<p>Nuno Carvalho created ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40945">[perl #40945]</a> to add more features
for testing the abc language.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/0d1649a21c0b9990/408524982e3c7b0e?#408524982e3c7b0e">[perl #40946] [PATCH] languages/abc TODO file </a> </i> </p>
<p>In ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40946">[perl #40946]</a>, Nuno Carvalho included a patch which is
a TODO file for the abc language tests.  This is a list of missing tests
for features.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/b9cf6b21337d7276/3fa41f1e4948acbb?#3fa41f1e4948acbb">[perl #40951] [tcl] namespace &quot;lost&quot; inside an if statement. </a> </i> </p>
<p>In ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40951">[perl #40951]</a>, Will Coleda included some example code
demonstrating how a Tcl namespace is lost inside of an if statement.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/7c09d20845221b86/00b2c734d6960ef9?#00b2c734d6960ef9">[perl #40947] [PATCH] languages/abc test suit, function tests </a> </i> </p>
<p>Nuno Carvalho created ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40947">[perl #40947]</a> to submit a patch
to add some simple abc functions to the abc test suite.  It was applied
as r15714.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/2fa60d5fb9b20ff0/36606f57e44a9b49?#36606f57e44a9b49">[perl #40953] [PATCH] languages/abc test harness, correct todo option </a> </i> </p>
<p>In ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40953">[perl #40953]</a>, Nuno Carvalho included a patch to correct the
abc test harness's todo option.  It was applied.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/58e40971c9c42d39/708970b0d67ba91a?#708970b0d67ba91a">Re: [perl #40955] [BUG] :anon .subs aren&#39;t anchored to a namespace</a> </i> </p>
<p>Matt Diephouse created ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40955">[perl #40955]</a>.  In it, he explained the
relationship between namespaces and subroutines.  Namespaces contain
subroutines, and subroutines are anchored to namespaces.  Matt wrote that
anonymous subroutines should not be in a namespace, but should still
be anchored to one; in Parrot this is not the case.  He included a test
case to demonstrate the problem.</p>

<p>Although the issue was resolved in r15674, this ticket generated some
discussion.  Allison Randal replied that she thought anonymous subroutines
should not be anchored to a namespace.  She thought that what Matt had
in mind was a new concept, and asked for code examples and use cases which
would allow her to define the concept better.  </p>

<p>Matt responded with a Perl 5 example, and Allison replied.  She proposed
starting a new thread, which Matt did with
'<a href="%23198c87380611220102v575b8ff7lcc2672c77b1474cf@mail.gmail.com">:anon Subs and Namespaces</a>'.
Ben Morrow also replied to the original ticket-based thread.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/efdd72880e1fa991/368c89f0cf52e2d8?#368c89f0cf52e2d8">[perl #40958] [BUG] - can&#39;t iterate subclass of ResizablePMCArray </a> </i> </p>
<p>Patrick R. Michaud reported a problem with using iterators on subclasses
of <code>ResizeablePMCArray</code>.  This was ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40958">[perl #40958]</a>.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/2acdd552424fac62/660ebeb53c8f592c?#660ebeb53c8f592c">[perl #40950] [PATCH] Compiling Parrot with the new Borland C++ </a> </i> </p>
<p>Steve Peters created ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40950">[perl #40950]</a> which contains a patch to
get Parrot to compile with the new Borland C++.  He noted that more patches
would probably follow.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/2cc10bbbfd3e0e0d/43bbe61e6e72efbf?#43bbe61e6e72efbf">[perl #40959] Parrot compile fails on OpenBSD/ppc in src/asmfun.s </a> </i> </p>
<p>In ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40959">[perl #40959]</a>, Steve Peters reported a compilation
failure and included the error messages.  chromatic thought the error
looked familiar and proposed a solution.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/36fdd8e13929b1f9/3494fc79f2b92ae4?#3494fc79f2b92ae4">[perl #40960] [BUG] :multi namespace pollution </a> </i> </p>
<p>In ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40960">[perl #40960]</a>, Matt Diephouse reported that making a :multi
sub affects the namespace by adding an extra entry for the :multi variant.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl5.porters/browse_frm/thread/1fb283a4bb88f32e/98d8b37c232081ec?#98d8b37c232081ec">Some thoughts on Microsoft Visual C++ 8.0</a> </i> </p>
<p>Ron Blaschke posted a summary of Microsoft's Visual C++ compilers and their
take on bundled code.  Steve Hay replied that he spent a while working
on the same issues for Perl 5.  Ron replied with a link to a page he had
found on building C/C++ isolated applications and side-by-side assemblies.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/348ff48d297121f0/c61fdc3db64928b5?#c61fdc3db64928b5">3 subroutines with same name</a> </i> </p>
<p>James E Keenan included some snippets from three different files where a
subroutine with the same name, <code>gen_c</code>, is used.  All of these are in
places where he plans to refactor.  chromatic suggested whichever one
is currently used should be considered authoritative.  He thought it
would be nice to compare the output of all three to see if there
are significant differences between them.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/233fc63dd60c4172/79aabad6d4ca9bba?#79aabad6d4ca9bba">:anon Subs and Namespaces</a> </i> </p>
<p>This thread continues from '<a href="%2345635F6C.6000502@perl.org">Re: [perl #40955] [BUG] :anon .subs aren't anchored to a namespace</a>'.</p>

<p>Matt Diephouse tried to explain the anonymous subroutine namespace issue
he is experiencing from the perspective of what Tcl needs.  He posted
some examples of the Tcl PIR.  Allison Randal replied that it seemed like
the same problem as Perl 5's 'main' routine.  She also tried to explain
why having anonymous subroutines anchored to a namespace would cause
problems in Parrot.  She suggested a feature which allows a post-compilation
modification of the namespace a compilation unit uses for default lookups.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/0a37fdbd6ec62d85/3c2bcea257e3ec84?#3c2bcea257e3ec84">[perl #40968] [BUG] :multi doesn&#39;t seem to work right </a> </i> </p>
<p>Patrick R. Michaud filed ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40968">[perl #40968]</a> to report a problem
with underscore arguments in ':multi'.  Leopold Toetsch replied with
some thoughts on how they ought to work, but felt that it wasn't exactly
a bug.  Patrick gave some more detailed examples of why the current
semantics are not useful.  chromatic answered that he did not see any
reason not to make the primitive types and their related PMCs equivalent
in the distance value function.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/39f0c232f5beeb71/1f776b9dd5218ca8?#1f776b9dd5218ca8">[perl #40966] [BUG] Parrot core dumps in perl6 (possible GC/pointer bug?) </a> </i> </p>
<p>In ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40966">[perl #40966]</a>, Patrick R. Michaud reported a possible
GC or pointer bug.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/3d0e749d6ea4a898/5e131ddc43c3e6c8?#5e131ddc43c3e6c8">[perl #40972] Iterator over Env under Win32 </a> </i> </p>
<p>Bernhard Schmalhofer noticed an iterator test which was being skipped
under Win32 and wondered if it still needed to be skipped.  His post
was recorded as ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40972">[perl #40972]</a>.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/6ffee8cbe4229063/b8bd6256a9741108?#b8bd6256a9741108">pmc2c.pl --dump : What Files Does Makefile Supply as @ARGV</a> </i> </p>
<p>James E Keenan had a question about how the Parrot Makefile uses <code>pmc2c.pl</code>.
Specifically, he wanted to know what files the Makefile places in @ARGV.
chromatic replied that he did not see anything except the .pmc files.</p>

<p> <i> <a href="http://groups.google.com/group/perl.perl6.internals/browse_frm/thread/dbacb3d12b702d67/4c1441c1e9ea1535?#4c1441c1e9ea1535">[perl #40646] [TODO] PGE - add tests for &lt;alpha+[_]&gt;, &lt;alpha-[Jj]&gt;, etc. </a> </i> </p>
<p>Patrick R. Michaud created ticket <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=40646">[perl #40646]</a> to request some new tests.
He recently added code to add combined enumerated classes to PGE.
Nuno Carvalho added some tests to the <code>rx_subrule</code> but noted that two
were unexpectedly failing.  Patrick noted why the tests were failing and
corrected them.</p>

<p> <b>Acknowlegements</b> </p>
<p>This summary was prepared using
<a href="http://search.cpan.org/dist/Mail-Summary-Tools/">Mail::Summary::Tools</a>,
available on CPAN.</p>

<p>If you appreciate Perl, consider <a href="http://donate.perlfoundation.org/">contributing to the Perl
Foundation</a> to help support the
development of Perl.</p>

<p>Thank you to everyone who has pointed out mistakes and offered
suggestions for improving this series.  Comments on this summary can be
sent to Ann Barcomb, <a href="&amp;%23x6D;&amp;%2397;&amp;%23x69;&amp;%23x6C;&amp;%23x74;&amp;%23111;:&amp;%23107;&amp;%23x75;&amp;%23100;&amp;%23x72;&amp;%2397;&amp;%2364;&amp;%23100;&amp;%23111;&amp;%23109;&amp;%23x61;&amp;%23105;&amp;%23110;&amp;%23116;j&amp;%23101;&amp;%23x2E;&amp;%2399;&amp;%23x6F;&amp;%23109;">&#107;&#x75;&#100;&#x72;&#97;&#64;&#100;&#111;&#109;&#x61;&#105;&#110;&#116;j&#101;&#x2E;&#99;&#x6F;&#109;</a>.</p>

<p> <b>Distribution</b> </p>
<p>This summary can be found in the following places:</p>

<ul>
<li> <a href="http://use.perl.org/">use.perl.org</a> </li>
<li> <a href="http://pugs.blogs.com/">The Pugs blog</a> </li>
<li> <a href="http://lists.cpan.org/showlist.cgi?name=perl6-announce">The perl6-announce mailing
list</a> </li>
<li> <a href="http://www.oreillynet.com/onlamp/blog/">ONLamp</a> </li>
</ul>

<p> <b>See Also</b> </p>
<ul>
  <li> <a href="http://blog.perlfoundation.org/">Perl Foundation activities</a> </li>
  <li> <a href="http://dev.perl.org/perl6">Perl 6 Development</a> </li>
  <li> <a href="http://planetsix.perlfoundation.org/">Planet Perl Six</a> </li>
</ul></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

