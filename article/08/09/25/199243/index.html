<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org story by brian_d_foy: Perl 6 Design Minutes for 03 September 2008</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 03 September 2008</h1>
<h2><a href="/user/brian_d_foy/">brian_d_foy</a> on 2008-09-25T19:29:00</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>The Perl 6 design team met by phone on 03 September 2008.  Larry, Allison, Patrick, Jerry, Jesse, Nicholas, and chromatic attended.</p>
<p><strong>Larry:</strong><ul>
<li>I was at the Lightweight Languages Conference in Tokyo last week</li><li>about a thousand people there</li><li>a large Ruby presence, as well as some of the other "scripting" languages</li><li>gave another variant on my talk</li><li>seemed well-received</li><li>mostly just vacationing and touring around otherwise</li><li>did some work getting STD and the test suite to agree with each other</li><li>now have symbol table checking in STD</li><li>a global scale, not lexical</li><li>can tell when you call an undefined function</li><li>found surprisingly few difficulties with the existing parsing</li><li>that makes me happy</li><li>hanging out on IRC and email, doing a little bit of spec work</li><li>the standard parser can parse itself in under 30 seconds</li><li>I have other ideas to make it faster</li><li>not sure I want to implement them yet</li><li>it might adversely impact other work with installing a real LTM</li><li>they remain ideas for the moment</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>most of you saw the announcement about Paula</li><li>we celebrated last Friday</li><li>mostly answering questions and debugging problems on Rakudo</li><li>expect to be back full-time on hacking tomorrow</li><li>Jonathan's out on vacation this week</li><li>Moritz and Carl and other people have been continuing to make progress</li><li>I've been responding to them</li><li>not a lot has happened beyond testing improvement</li><li>the primary coders are on vacation or busy with other things</li></ul><p> <strong>Allison:</strong> </p><ul>
<li>another nice quiet and productive week</li><li>we have a new, much cleaner dispatch route in Parrot</li><li>it uses signature objects, which are like Perl 6's Captures</li><li>everything you need to invoke a sub is all in one place now, not spread out over lots of calls and varargs and unpacking varargs and...</li></ul><p> <strong>c:</strong> </p><ul>
<li>you realize that code has always been haunted, right?</li></ul><p> <strong>Allison:</strong> </p><ul>
<li>I'm ripping out some of the old code, but some of it will stick around</li><li>we can make another branch to clean it up</li><li>the branch has some problems in TGE</li><li>I probably haven't caught all old dispatch instances yet</li><li>we're ready to launch the new Parrot website</li><li>doing some work on that</li><li>almost ready to launch the new Parrot mailing lists too</li><li>just need to ask Ask or Robert for subscriber lists</li></ul><p> <strong>c:</strong> </p><ul>
<li>started a couple of arguments online</li><li>need to work on the "How to Help the Patchmonster" document</li><li>worked on vtable cleanup in Parrot, had MMD problems, may have to wait a bit</li><li>otherwise applying patches</li><li>should have more time in the next couple of weeks</li></ul><p> <strong>Nicholas:</strong> </p><ul>
<li>I love parallel tests in blead, and I'm missing them in 5.10</li></ul><p> <strong>Jesse:</strong> </p><ul>
<li>I've been working and traveling for the past two weeks</li><li>also been trying to goad chromatic to post suggestions to p5p</li></ul><p> <strong>Allison:</strong> </p><ul>
<li>which seems to have worked</li></ul><p> <strong>Jesse:</strong> </p><ul>
<li>is there anything I can do to help you?</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>I just need time and energy</li><li>so maybe saying "Get back to work!"</li></ul><p> <strong>Jesse:</strong> </p><ul>
<li>I can do that</li></ul><p> <strong>Jerry:</strong> </p><ul>
<li>haven't had any commits recently</li><li>helping lots of people with implementation questions</li><li>talked to Evan Phoenix about the Rubinius VM</li><li>he had some questions about Parrot's architecture and design decisions</li><li>good chat</li><li>we started talking about bytecode and AST translation</li><li>they're lacking a well-defined AST now</li><li>just S-expressions</li><li>we'll chat more frequently</li><li>there are only so many people interested in implementing VMs</li><li>we should all get together</li><li>still talking to Microsoft</li><li>they want to know what an ideal testing environment would look like in their labs</li><li>I need to figure that out</li><li>it could be good for Perl 6, Parrot, and Perl 5</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>is that worth taking to the mailing list?</li><li>Allison mentioned something about old MMD and new MMD</li><li>what's the difference from a PIR perspective?</li></ul><p> <strong>Allison:</strong> </p><ul>
<li>absolutely none</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>there should be no difference in PGE and TGE then</li></ul><p> <strong>Allison:</strong> </p><ul>
<li>there are a few places internally which are C code</li><li>if there's a direct C call into the old MMD system, bam!</li><li>I've been replacing them with the new C-style calls</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>it's just that PGE is exposing the bugs</li><li>it's not a source</li></ul><p> <strong>Allison:</strong> </p><ul>
<li>that's why it's so perplexing</li><li>I haven't been able to trace it back to a particular call</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>I'll look at it too</li><li>I'm happy to see Parrot taking this new model</li></ul><p> <strong>Allison:</strong> </p><ul>
<li>we can avoid a lot of indirection</li></ul><p> <strong>Larry:</strong> </p><ul>
<li>there have been discussions of different levels of test harness support</li><li>we need to straighten out the namespace</li><li>"What does <code>use Test;</code> mean?"</li><li>it has overloaded meanings for many people</li><li>should that be the minimal thing, and everything else be larger</li><li>or should the minimal test thing be built into the language</li></ul><p> <strong>Jesse:</strong> </p><ul>
<li>that would be fascinating</li></ul><p> <strong>Jerry:</strong> </p><ul>
<li>and everything's <code>multi</code> and can be overridden?</li></ul><p> <strong>Allison:</strong> </p><ul>
<li> <code>ok()</code> and <code>is()</code> are easy to write</li><li>easy to include in the language</li></ul><p> <strong>Larry:</strong> </p><ul>
<li>just in the standard Prelude</li><li>it's like POD's play to bring documentation into the language to make it easy</li><li>it could be a module that Prelude brings in</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>just a module that implements these?</li><li>they print what they print now?</li><li>I'm happy with that</li><li>I'd like to define the minimal set of functions that the test suite can rely on</li></ul><p> <strong>Larry:</strong> </p><ul>
<li>or the fancy set should be the default set</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>I can argue it that way too</li><li>but that seems to be the wrong way</li><li>I'm happy for any clarity the Perl 6 designers throw in there</li></ul><p> <strong>Jerry:</strong> </p><ul>
<li>for a Perl 6 implementation to be a real implementation, it uses the core tests only</li><li>and builds on top of those</li><li>any other fancy test library is out of the core and builds on Perl 6?</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>the test suite functions are part of the official test suite</li></ul><p> <strong>Nicholas:</strong> </p><ul>
<li>that scared me slightly in how the perl 5 core bootstraps itself to testing, and trusting/testing its test system</li><li>the very early tests run inline</li><li>you can't be sure that <code>require</code> works</li><li>the next step uses a file named <em>test.pl</em> </li><li>doesn't use <code>++</code> for example</li><li>everything beyond the core ops tests are free to use <code>Test::More</code> </li><li>written in proper grown-up Perl</li><li>uses constructs which may have failed earlier</li></ul><p> <strong>Larry:</strong> </p><ul>
<li>we still have two of those things</li><li>the third level is potentially possible</li><li>the core definition of standard Perl 6 could have a fancier test module</li><li>the test prelude we're talking about is the equivalent of that <em>test.pl</em> </li></ul><p> <strong>c:</strong> </p><ul>
<li>and if you're implementing this, you can hardcode these as special cases in the compiler</li><li>and then you can rewrite them in your Prelude when you have that working</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>we can get rid of the line <code>use Test;</code> in our tests now</li></ul><p> <strong>Larry:</strong> </p><ul>
<li>that's part of the motivation</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>we don't have to worry about getting our namespaces working first</li><li>I'm in favor of that</li><li>that would have sped up a lot of stuff in Rakudo development</li></ul><p> <strong>Larry:</strong> </p><ul>
<li>the only other major argument against it is the notion that the function names are Huffman-coded for testing</li><li>not necessarily general use in a language</li><li>a user might want an <code>ok()</code> function that does something else</li><li>that's okay, if we do the overriding properly</li><li>but there's a conflict with the current spec because there are two different meanings of <code>is</code> </li><li>I can change the meaning of <code>is Dog;</code>&gt; within a class</li><li>it can be specific, so it only parses on <code>is</code> followed by a type name</li></ul><p> <strong>Jerry:</strong> </p><ul>
<li>or it's only a single parameter</li></ul><p> <strong>Larry:</strong> </p><ul>
<li>multidispatch could handle that, but it's declaration</li><li>declarators need compile-time resolution</li><li>it needs compile-time distinguishing</li><li>the other <code>is</code> has multiple arguments</li><li>this one never does</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>it hasn't been a problem in Rakudo yet</li></ul><p> <strong>Larry:</strong> </p><ul>
<li>it's doable</li><li>the question is if it's too much of a hack</li><li>or if there's a better way</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>that depends on what the meaning of "is" is</li><li>what kind of equivalence does it do?</li></ul><p> <strong>Larry:</strong> </p><ul>
<li>in the header, it's either a trait</li><li>or if it's a type name, it turns into an <code>isa</code> </li><li>there's some argument of some kind</li></ul><p> <strong>Patrick:</strong> </p><ul>
<li>what if I say <code>is $a, 3</code>?</li></ul><p> <strong>Larry:</strong> </p><ul>
<li>or we can do <code>is_eq</code>, <code>is_eqv</code> </li><li>or just <code>ok</code> </li></ul><p> <strong>c:</strong> </p><ul>
<li>but you do lose diagnostic messages</li></ul><p> <strong>Larry:</strong> </p><ul>
<li>unless it's a macro</li><li>but that could be too clever</li></ul><p> <strong>c:</strong> </p><ul>
<li>what if someone thinks <code>is</code> is infix?</li><li>equivalent to <code>==</code> or <code>eq</code>?</li></ul><p> <strong>Nicholas:</strong> </p><ul>
<li>or <code>is</code> can do smart match</li><li>you have smart match in Perl 6</li></ul></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

