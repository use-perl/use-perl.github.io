<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of dug: Test Driven Development</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Test Driven Development</h1>
<h2><a href="/user/dug/">dug</a> on 2007-09-17T21:27:13</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Yeah, yeah, I know.  I'm a little late to the game.  I've known in theory that
TDD is a good idea for quite some time.  But, as they say, "In theory, theory
and practice are the same".<br/><br/>I needed to write a plugin module for work today.  I stubbed out the module
using module-starter and wrote the POD.  Writing the API documentation first
had the nice effect of keeping it simple.  I don't like writing documentation,
so I'm not about to document publicly something that might not be useful.<br/><br/>Then I wrote the tests.  I like breaking things, and thinking about how to
break things.  Thinking about how to break things that don't exist yet was
fun!  Writing tests made me think through the API in ways that I hadn't when I
wrote the POD.  Based on the thinking I had to do when writing tests, I ended 
up re-writing sections of the documentation to clarify how certain methods 
should act.<br/><br/>Then I wrote the code.  I thought that I only wrote enough code to pass the 
tests, but once the tests were passing I dug in and re-factored the code,
shortening it a fair bit.<br/><br/>I'm a TDD fanboy, coming out late!
</p>


<hr/>



<h2>Specification- and Test-Driven Development</h2>
<h3><a href="/user/kid51/">kid51</a> on 2008-07-21T18:49:29</h3>
<blockquote><div><p> <i>
I stubbed out the module using module-starter and wrote the POD. Writing the API documentation first had the nice effect of keeping it simple.<nobr> <wbr></nobr>...
</i></p></div> </blockquote><p>
Several years ago I gave a talk to New Orleans Perlmongers on writing a module in the CPAN style.  As a gag, I said, "First you write your documentation, then you write your tests, and only then do you write your code."
</p><p>
It was a gag then, but over the next couple of years I began to wonder, "What if I really <i>did</i> write my documentation first?" I.e., what if I wrote myself a specification first.
</p><p>
I tried it and I liked it.  With practice, I was able to write 80% of the POD for a module before writing a single line of code.  As you discovered, it forced me to think about the interface very early on in the process.
</p><blockquote><div><p> <i>
Then I wrote the tests.<nobr> <wbr></nobr>.... Writing tests made me think through the API in ways that I hadn't when I wrote the POD. Based on the thinking I had to do when writing tests, I ended up re-writing sections of the documentation to clarify how certain methods should act.
</i></p><p><i>
Then I wrote the code. I thought that I only wrote enough code to pass the tests, but once the tests were passing I dug in and re-factored the code, shortening it a fair bit.</i></p></div>
</blockquote><p>
The experience you describe is one I have had repeatedly since I started writing in a more specification-driven and test-driven manner.  Thanks for sharing it.</p>



<blockquote>

<h2>Re:Specification- and Test-Driven Development</h2>
<h3><a href="/user/zby/">zby</a> on 2009-07-28T20:28:35</h3>
I've made <a href="http://perlalchemy.blogspot.com/2009/05/api-design.html" title="blogspot.com">a list of online resources on API design</a blogspot.com> - I think all of them advice writing APIs and example code using that API before writing implementation.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

