<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of DAxelrod: A CPAN Revolution</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>A CPAN Revolution</h1>
<h2><a href="/user/DAxelrod/">DAxelrod</a> on 2006-08-05T15:03:24</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Incremental, backward-compatible change has its place. But sometimes it's good to be able to break your ties with the past and change how you look at things.</p>

<p>I've become convinced that we need to do this with CPAN.</p>

<p>Don't get me wrong, the CPAN is not only wonderful, it's one of Perl's best strengths. That doesn't mean we can't make it much, much better.</p>

<p>Ok, so what do I mean when I say CPAN? I'm referring to a lot of different things.</p>
<ul>
<li>Module packaging (including metadata and versioning)</li>
<li>Installation mechanisms for modules</li>
<li>Package managers</li>
<li>Package repositories</li>
<li>Specification of dependencies</li>
<li>Interfaces, both APIs and UIs</li>
<li>Probably some other things I've forgotten</li>
</ul>

<p>It would be a benefit to look not only at our own past, but the accomplishments of other people solving similar problems. There are plenty of packaging systems, library management technologies, etc. and in the great Perl tradition, we should steal as many of their good design ideas as possible.</p>

<p>Step one is to come up with some sort of spec. Step zero is research. What have we designed? What have others designed? What are our needs?</p>

<p>It's going to be an exciting ride.</p> </p>


<hr/>



<h2>Second system effect?</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2006-08-05T16:06:26</h3>
<p>I don&#8217;t consider it an unfortunate aspect of its history that CPAN is crufty. All successful large systems start as successful small systems &#8211; organic growth is directly correlated with success. In effect, all big systems have some measure of cruft, though some more so than others.</p>

<p>I am highly skeptical of a push to rebuild CPAN from scratch in an integrated fashion. There are a lot of moving parts involved, and each of them is complex in its own right, so it would take a very long time &#8211; and there&#8217;s still no guarantee that the new design will work.</p>

<p>Even if, against all odds, you manage to succeed, the new system will then have to compete with the existing CPAN (you weren&#8217;t going to propose that CPAN be abandoned as soon as it works, were you?) &#8211; much like the biggest competitor to Microsoft Office is older versions of Microsoft Office. You&#8217;ll have to overcome a lot of inertia.</p>

<p>To even dream of retiring CPAN one day, you&#8217;ll have to move across all the distributions, thousands of which have not been maintained in years &#8211; so such a move would cause a lot of unnecessary bit rot.</p>

<p>A better idea than rewriting from scratch is to keep improving CPAN one aspect at a time, moving things forward steadily without breaking anything. Refactoring, in a word. This isn&#8217;t just theory; it is already reality and has been for years. There is ongoing work on a better installer (two of them, in fact). Packaging, being that it&#8217;s not something that should be addressed by the CPAN itself, has had a lot of work where it should be done: depending on your system, you use PPMs, Debian packages, RPMs, Gentoo ebuilds or something else. <code>search.cpan.org</code> wasn&#8217;t around from the start. The CPAN Testers project is newer than that, and the CPAN Ratings system was introduced just two or three years ago (I forget how long it has been); AnnoCPAN is even newer. The source to most of these things is available at least on request.</p>

<p>If you want a better CPAN, seek out whichever of these projects strikes your fancy and lend a hand.</p>



<blockquote>

<h2>Re:Second system effect?</h2>
<h3><a href="/user/DAxelrod/">DAxelrod</a> on 2006-08-07T01:58:01</h3>
<blockquote><div>I don&#8217;t consider it an unfortunate aspect of its history that CPAN is crufty.</div></blockquote>
<p>Neither do I. Any large system that hasn't grown organically is going to have deep flaws. All I'm interested in is taking a step back, looking at how we've grown, and maybe considering growth in a slightly different direction.</p>
<blockquote><div>I am highly skeptical of a push to rebuild CPAN from scratch in an integrated fashion.</div></blockquote>
<p>I would be, too. That's not what I'm suggesting, nor planning to do, nor hoping anyone else will do. Especially not the integrated part. The Perl culture is very rarely compatible with a single way to do anything, and that's another one of its strengths.</p>
<p>You go on to mention a large number of wonderful projects that are making the CPAN better. These are exactly what motivated me to think about this.</p>
<blockquote><div>If you want a better CPAN, seek out whichever of these projects strikes your fancy and lend a hand.</div></blockquote>
<p>This is precisely what I was planning. My decisions on how to lend a hand will be a result of my thinking.</p>
<p>Thank you for your reaction, though. Now that I've seen a (completely valid) interpretation of what I wrote that was different than what I meant, I have some further clarifying to do. Another entry will come soon.</p>
<p><small>(As a side note, it's freakin' awesome to see the smart people in this community who I've respected for years actually taking the time to read what I write. Even if they disgree with me. Especially if they disagree with me.)</small></p>





</blockquote>


<h2>It isn't 'one of'</h2>
<h3><a href="/user/hfb/">hfb</a> on 2006-08-06T07:41:37</h3>
<p>
it is 'the' primary, and mostly the only, reason people using perl have remained instead of migrating to ruby or other technologies. Perhaps the only thing that makes perl unique and special is CPAN. People too often forget this and stupidly think that over-engineering it, like p6, will be a revolution in newness and functionality. The road is littered with bodies of the puppy dogs of enthusiasm unleashed every year about this time after the conferences are over and are eager to tackle a 'big problem' only to find that, well...there's a reason some problems remain over time.
</p>
<p>
I've kept up with the 6PAN conversations and though I suspect I will only consider it a worthwhile conversation if P6 ever comes to pass...it suffers from many of the problems that have kept p6 from being released years ago...when you turn something like this into an exercise of academic wankitude the committee will kill it by talking it to death. And killing backwards compat...doubly, perhaps even trebly so.
</p>
<p>
Life is messy. So is CPAN.
</p>



<blockquote>

<h2>Re:It isn't 'one of'</h2>
<h3><a href="/user/DAxelrod/">DAxelrod</a> on 2006-08-07T02:15:48</h3>
<blockquote><div>Perhaps the only thing that makes perl unique and special is CPAN.</div></blockquote>
<p>I disagree. I think that the CPAN is a part of the larger culture surrounding Perl, and that this culture is the reason Perl is unique and successful. (I also happen to believe that the roots of this community lie partially in the design  of the language itself, but that's a different musing.) The people continuing to work in, on, and around Perl are what keep it alive.</p>
<blockquote><div>I've kept up with the 6PAN conversations</div></blockquote>
Wonderful, I hope I'll be able to tap your knowledge a little bit further, both for pointers to these conversations (I've found many already) and for your oppinions regarding them. Expect me to pepper you with questions at some point.<nobr> <wbr></nobr>:)
<blockquote><div>I suspect I will only consider it a worthwhile conversation if P6 ever comes to pass...</div></blockquote>
<p>That's one of the driving forces behind my ideas. Just about every other part of Perl is being reconsidered, why not the CPAN?</p>
<blockquote><div>when you turn something like this into an exercise of academic wankitude the committee will kill it by talking it to death</div></blockquote>
<p>This is an extremely good point. One way to attempt to avoid academic wankitude is to figure out what problem you're actually trying to solve, rather than to endlessly say "Wouldn't it be cool if..."</p>
<blockquote><div>And killing backwards compat...doubly, perhaps even trebly so.</div></blockquote>
<p>I don't see <strong>having</strong> to break backwards compatibility. I'd rather not completely rule out backwards compatibility, on the other hand. Given that Perl 6 is an opportunity to break some backwards compatibility, it's good to have all the incompatibility happen at the same time.</p>
<blockquote><div>Life is messy. So is CPAN.</div></blockquote>
<p>And that's not something I'm interested in breaking.</p>





</blockquote>


<h2>Back-compatibility is compulsory</h2>
<h3><a href="/user/Alias/">Alias</a> on 2006-08-07T06:09:08</h3>
You can't avoid back-compatibility. You just can't.<br><br>CPAN is so central to the success of Perl 5 that even Perl 6 won't break back-compatibility.<br><br>So let's forget about that right now.<br><br>Large changes are also very tricky.<br><br>There's some small things we can do, in fact we've been experimenting with them in the JSAN implementation.<br><br>Things like:<br><br>- Multiple Indexes<br><br>- Mirror Validation and HTTP-centric rather than FTP-centric transport<br><br>There's also plans from the Win32 side of things like a GUI failure-reporting CPAN client.<br><br>But apart from things currently being brokenish (which we can blame more on CPANPLUS, Module::Build and Module::Install), there's not a whole lot wrong with CPAN as things stand.



<blockquote>

<h2>Re:Back-compatibility is compulsory</h2>
<h3><a href="/user/DAxelrod/">DAxelrod</a> on 2006-08-07T14:31:47</h3>
<blockquote><div>You can't avoid back-compatibility. You just can't.</div></blockquote>
<p>Well, the incompatible syntax of Perl 6 will be doing that anyway. The fact is, there will eventually be code on the CPAN that perl 5 cannot run.* If we do it very carefully, we can use this opportunity to do some really nice things for those Perl 6 modules.</p>
<blockquote><div>But apart from things currently being brokenish (which we can blame more on CPANPLUS, Module::Build and Module::Install)</div></blockquote>
<p>Wouldn't it be nice to have an infrastructure where we could have all those without brokenishness? Part of it is submitting patches to those projects. Part of it may be thinking carefully about how everything is structured.</p>
<p><small>* Even with v6.pm, (which is another awesome project), I don't see how you could wrap all the P6 code so that it would look like P5 + v6.pm to perl 5. I could be wrong.</small></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

