<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jdavidb: Module installs becoming more interactive :(</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Module installs becoming more interactive :(</h1>
<h2><a href="/user/jdavidb/">jdavidb</a> on 2008-11-04T16:09:27</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I applaud the fact that module installation is becoming a more granular and customizable process.  But absolutely not at the expense of reversing the trend in the past few years to eliminating interaction.</p>

<p>Today I got several "Module X is required temporarily during installation, but do you want to install it permanently?" questions while trying to update from CPAN.  This is absolutely wrong.  Any system advanced enough to recognize the difference between modules required for build and modules required at runtime is advanced enough to have been written by someone advanced enough to know that this is absolutely wrong and archaic.</p></p>


<hr/>



<h2>TTY</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2008-11-04T16:19:59</h3>
<blockquote><div><p> <tt>if ( !-t STDIN ) {<br>&nbsp; &nbsp; $do_not_prompt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 1;<br>&nbsp; &nbsp; $do_not_install_permanently = 1;<br>}</tt></p></div> </blockquote><p>Or something like that.  You would think we toolchain developers would get tired of people yelling at us<nobr> <wbr></nobr>:)</p>



<h2>build_requires_install_policy</h2>
<h3><a href="/user/srezic/">srezic</a> on 2008-11-04T20:14:31</h3>
Set the CPAN configuration option build_requires_install_policy.



<blockquote>

<h2>Re:build_requires_install_policy</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2008-11-11T15:35:47</h3>
<p>How about the owner of that module defaults it for me, instead?</p>



<blockquote>

<h2>Re:build_requires_install_policy</h2>
<h3><a href="/user/srezic/">srezic</a> on 2008-11-11T19:55:33</h3>
How should the module author know what your installation policy is --- do you prefer to keep your system as small as possible by not installing unnecessary modules (see build_requires in the META.yml spec), or do you rather like to install everything?



<blockquote>

<h2>Re:build_requires_install_policy</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2008-11-13T14:39:25</h3>
<p>The authors of the installation framework should know that interactive questions should not be asked at install time.</p>



<blockquote>

<h2>Re:build_requires_install_policy</h2>
<h3><a href="/user/srezic/">srezic</a> on 2008-11-13T20:09:52</h3>
See this thread title. You can set this CPAN.pm config var to "yes" or "no", and you will never be asked. Currently it's probably "yes/ask" or "no/ask".





</blockquote>

</blockquote>

</blockquote>

</blockquote>


<h2>OTOH....</h2>
<h3><a href="/user/bart/">bart</a> on 2008-11-04T21:34:26</h3>
"This is the third time in under 24 hours I've temporarily downloaded and built this particular module, are you sure you don't want me to install it, permanently?"



<blockquote>

<h2>Re:OTOH....</h2>
<h3><a href="/user/bart/">bart</a> on 2008-11-09T12:07:51</h3>
I've been thinking a bit about this, and I'm wondering if it wouldn't be a good idea to have a middle ground: semi-permanently installed modules, or a more permanent CPAN cache, one that isn't emptied so often when CPAN.pm tries to save space by removing distributions from its cache. CPAN.pm could automatically store modules there that are only required to run tests, without asking. The more often a module is used, the more "sticky" it becomes, thus, less likely to be removed. A module that hasn't been used in months could be removed.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

