<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jdavidb: What happened to File::Find::Rule?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>What happened to File::Find::Rule?</h1>
<h2><a href="/user/jdavidb/">jdavidb</a> on 2009-02-16T19:40:45</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>What happened to File::Find::Rule?  It apparently hasn't been updated since 2006.  Once upon a time, it was the hottest module on CPAN.</p>

<p>Is it still a good idea to use this instead of File::Find/find2perl?  Have I got the right module?</p></p>


<hr/>



<h2>Use FIle::Next</h2>
<h3><a href="/user/petdance/">petdance</a> on 2009-02-16T22:47:06</h3>
I far prefer File::Next's iterator approach, which is why I wrote it.<nobr> <wbr></nobr>:-)  I find it makes more sense to just make a little filter callback rather than front-load all these rules like in F:F:R.<br/><br/>It's all adapted from MJD's iterators in Higher Order Perl.  ack is based on it.



<h2>Stable</h2>
<h3><a href="/user/acme/">acme</a> on 2009-02-17T03:42:42</h3>
File::Find::Rule is stable and perfect. It's just a wrapper around File::Find which doesn't make you have to worry about callbacks.



<blockquote>

<h2>Re:Stable</h2>
<h3><a href="/user/richardc/">richardc</a> on 2009-02-17T09:48:34</h3>
Perfect might be a step too far, but as nobody's been screaming out at me that it's become broken, I'm going to have to go with 'it's done'.



<blockquote>

<h2>Re:Stable</h2>
<h3><a href="/user/Shlomi Fish/">Shlomi Fish</a> on 2009-02-18T16:17:54</h3>
<p>
Well, you still need to take care of <a href="http://rt.cpan.org/Public/Dist/Display.html?Name=File-Find-Rule" title="cpan.org">the bugs in RT</a cpan.org> (i.e: fix them or close them) or people may conclude, like J. David did., that F-F-R is abandoned. While you're in the neighbourhood, you may wish to <a href="http://cpants.perl.org/dist/kwalitee/File-Find-Rule" title="perl.org">deal with the Kwalitee problems</a perl.org>.
</p>



<blockquote>

<h2>Re:Stable</h2>
<h3><a href="/user/richardc/">richardc</a> on 2009-02-18T16:35:11</h3>
Hm, see I thought my positions on rt.cpan.org and Kwalitee were known at this point.  I don't play either game.
<p>
I deal with bugs that are mailed to me using the contact details in the AUTHOR block.  If I want to use an rt queue then I can point people at it in the documentation, but you can see I haven't.  That one automatically exists doesn't make it any more appealing to me, though I am grateful that the facility exists for people who do find it useful.
</p><p>
As to Kwalitee, I don't have the time in the day to game that system.  I also don't feel that it has any direct effect on the fitness of the code, but that's a different argument.
</p><p>
I'm trying to be an active module author here, but when I have to cruise comments on blog posts to find out that people want me to change my code, something somewhere broke.</p>



<blockquote>

<h2>Re:Stable</h2>
<h3><a href="/user/Shlomi Fish/">Shlomi Fish</a> on 2009-02-18T18:17:29</h3>
<p>
The CPANTS kwalitee is not very important, I just mentioned it in the same breath. However, if you don't want people to use rt.cpan.org, then you can use a META.yml field to point them to the right URL for the correct bug tracker. (See Ack's META.yml for an example). This URL may as well be a page on your homepage (or on a wiki) that says "Email me your bugs.". And you should close the bugs there with a nice comment saying "Please email them to me". (After you've done the META.yml change).
</p>





</blockquote>

</blockquote>

</blockquote>

</blockquote>


<h2>Consider File::Finder</h2>
<h3><a href="/user/merlyn/">merlyn</a> on 2009-02-17T04:08:07</h3>
I've always found File::Finder more intuitive.  But that's because I wrote it.<nobr> <wbr></nobr>:)



<blockquote>

<h2>Re:Consider File::Finder</h2>
<h3><a href="/user/jplindstrom/">jplindstrom</a> on 2009-02-17T17:16:17</h3>
<p>Well, it not installing on Windows (due to <a href="http://rt.cpan.org/Public/Bug/Display.html?id=13993" title="cpan.org">http://rt.cpan.org/Public/Bug/Display.html?id=13993</a cpan.org>) is a blocker for me (even if I'm developing on a Unix) when there are perfectly fine options that are cross platform and won't cause problems for anyone else.</p>





</blockquote>


<h2>Stability</h2>
<h3><a href="/user/jns/">jns</a> on 2009-02-17T09:51:13</h3>
I don't have a competing module to hype up, but I'm not sure exactly what is wrong with "hasn't been updated since 2006" - if it doesn't have any bugs and works with the latest versions of perl and the modules on which it depends then I can't see any reason which it should have been updated. Infact I would say this is a good thing - the author made a well designed, bug free module in the first place.



<blockquote>

<h2>Re:Stability</h2>
<h3><a href="/user/djberg96/">djberg96</a> on 2009-02-17T18:38:15</h3>
I see 5 open bugs and 1 feature request. One of the bugs is 2 years old.
<p>
<a href="http://rt.cpan.org/Public/Dist/Display.html?Name=File-Find-Rule" title="cpan.org">http://rt.cpan.org/Public/Dist/Display.html?Name=File-Find-Rule</a cpan.org></p>





</blockquote>


<h2>may we all live in *un*interesting times</h2>
<h3><a href="/user/nicholas/">nicholas</a> on 2009-02-17T09:54:48</h3>
<blockquote><div><p>It apparently hasn't been updated since 2006.</p></div></blockquote><p>Wasn't that a comment made of one of MJD's modules too? Maybe not for that particular year. But it too was about a module that works nicely, doesn't need feature creep, or new an unexpected surprises.</p><p>I like to turn "change is inevitable, progress is not" around, and think about the amount of progress any particular change gives. To me it implies that not all change is worth it.</p>



<h2>Just Works</h2>
<h3><a href="/user/vek/">vek</a> on 2009-02-17T14:42:24</h3>
<p>I use F::F::R all the time.  Please don't fall into the trap of assuming that just because it hasn't been updated in a couple of years, it should be avoided.</p><p>Try it out.  Let us know how it worked out for you.</p>



<h2>FFR is still the best searching module</h2>
<h3><a href="/user/Alias/">Alias</a> on 2009-02-17T23:31:55</h3>
<p>... mainly because of the complexity of plugins you can write for it.</p><p><a href="http://search.cpan.org/perldoc?File::Find::Rule::Perl" title="cpan.org">File::Find::Rule::Perl</a cpan.org></p><p><a href="http://search.cpan.org/perldoc?File::Find::Rule::PPI" title="cpan.org">File::Find::Rule::PPI</a cpan.org></p><p><a href="http://search.cpan.org/perldoc?File::Find::Rule::VCS" title="cpan.org">File::Find::Rule::VCS</a cpan.org></p><p>(And soon)</p><p>File::Find::Rule::NoIndex</p>



<h2>File-Find-Object-Rule</h2>
<h3><a href="/user/Shlomi Fish/">Shlomi Fish</a> on 2009-02-18T16:31:37</h3>
<p>
Inspired by this discussion and the recent inter-blog discussion about File::Find I decided to unleash
<a href="http://search.cpan.org/dist/File-Find-Object-Rule/" title="cpan.org">File-Find-Object-Rule</a cpan.org>, which I've been working on for some time, to the CPAN today after a small amount of cleanup. (I hope the link works by the time you read it, if not see <a href="http://svn.berlios.de/svnroot/repos/web-cpan/File-Find-Object/trunk/File-Find-Object-Rule/" title="berlios.de">the svn trunk on Berlios</a berlios.de>.)
</p><p>
File-Find-Object-Rule is a fork of File-Find-Rule that was adapted to use <a href="http://www.shlomifish.org/open-source/projects/File-Find-Object/" title="shlomifish.org">File-Find-Object</a shlomifish.org> instead of File::Find. Read the link for why File-Find-Object is superior to File::Find. There are still some anachronisms in the first version I released (0.0100), but I hope to fix them soonish.
</p>



<h2>File::Find</h2>
<h3><a href="/user/bart/">bart</a> on 2009-02-23T07:56:51</h3>
<p>While everybody's hyping up their own favourite <a href="http://search.cpan.org/perldoc?File::Find" title="cpan.org">File::Find</a cpan.org> replacement, I just want to chime in and say that, for a lot of the replacement modules, I just like File::Find better. In particular, <a href="http://search.cpan.org/perldoc?File::Find::Rule" title="cpan.org">File::find::Rule</a cpan.org>, which I find just incomprehensible, and horrible.</p><p>I wonder if many of the "problems" people see for File::Find are actually problems. So it uses global variables as fake parameters... but they're dynamically limited in scope to (the immediate surroundings of) the callback sub. So I don't mind ist so much. The situation is actually very much alike to the keyword <code>this</code> in plenty of OO languages. Besides, <a href="http://search.cpan.org/perldoc?File::Next" title="cpan.org">File::Next</a cpan.org> does the same.<nobr> <wbr></nobr>:)</p><p>But you do have to do it the proper way: use an anonymous sub, not a reference to a global function. That way, you end up with a closure, instead of something that depends on global variables (not File::Find's own global variables, but yours).</p><p>Do</p><blockquote><div><p> <tt>use Cwd;<br>sub traverse {<br>&nbsp; &nbsp; my @files;<br>&nbsp; &nbsp; find sub {<br>&nbsp; &nbsp; &nbsp; &nbsp; push @files, $File::Find::name if<nobr> <wbr></nobr>/.txt$/ and -f;<br>&nbsp; &nbsp; }, cwd;<br>&nbsp; &nbsp; return @files;<br>}</tt></p></div> </blockquote><p>Not</p><blockquote><div><p> <tt>use Cwd;<br>sub wanted {<br>&nbsp; &nbsp; push @files, $File::Find::name if<nobr> <wbr></nobr>/.txt$/ and -f;<br>}<br>@files = ();<br>find \&amp;wanted, cwd;</tt></p></div> </blockquote>



<blockquote>

<h2>Re:File::Find</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2009-02-23T10:41:09</h3>
<p>The point is, <code>push @files, $File::Find::name</code> is what <em>everyone</em> does. So at best it&#8217;s unnecessary noise and the module should do that automatically.</p><p>However, the reason everyone does that is because performing complex work from within a callback is a pain. State machines are no fun to write. An iterator interface is much nicer to work with when you have something complex to do, and just as easy to use when you really just want to collect the file names. It&#8217;s much friendlier to use in programs that run code out of an event loop, too (goes back to not having to write a state machine).</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

