<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jdavidb: More DateTime damage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>More DateTime damage</h1>
<h2><a href="/user/jdavidb/">jdavidb</a> on 2007-08-07T19:57:17</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Well, we've <a href="http://marc.info/?l=perl-datetime&m=110451908609630&w=2">been aware of the problems forever</a> and chosen not to fix them.  As somebody said here recently, the developers know exactly why the module evolved the way it did and works the way it does and how to do what they want, but the users only see the public interface and can only use that to figure out how to do what they want to do.</p>

<p>DateTime::Duration is a useless piece of manure for my purposes.  Sometimes it gets me what I want, but not often, and when it does I always have an uneasy feeling that it didn't really do what I wanted.  Apparently the solution is expressed in that linked message, (<i>from 2004</i>), that what should be provided is the "stopwatch duration."  Yes, of course.  What the heck else are you providing?  Whatever it is, it isn't helping me.</p>

<p><a href ="http://marc.info/?l=perl-datetime&m=108682352228500&w=2">
Well, division doesn't really work, whether you do it as multiplication or
not ;)

What is half a minute?  How long is half a month?</a></p>

<p>Half a minute is 30 stinkin' seconds.  Half a month is a little harder, but if I'm adding half a month to a moment in time, then the code can figure out exactly what it is.</p>

<p>I need a class that works with DateTime and represents a meaningful, usable interval of time.  <a href="http://use.perl.org/user/jdavidb/journal/10543">Oracle has these</a>.  Time::Piece has these.  There's even an <a href="http://en.wikipedia.org/wiki/ISO_8601#Time_interval">ISO standard for representing them</a>.  So why doesn't DateTime, Perl's preferred date/time handling system, have them?</p>

<p>Please, somebody respond with cursing and helpful information I could've found myself if I'd looked harder. :)</p>

<p><b>Update:</b> It appears that the problem is that subtraction between DateTimes is overloaded to the subtract_datetime method, which produces the DateTime::Duration objects that I cannot use (I presume they are useful to somebody), instead of to the subtract_datetime_absolute method, which produces DateTime::Duration objects which I can use.  Apparently my brain works differently, or the cases I want to deal with are just very different from the norm.  I have trouble believing this, but it must be so.  But clearly others have had trouble with this, and as the message I linked to shows, some have felt that newbies are going to think the same way I do.</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

