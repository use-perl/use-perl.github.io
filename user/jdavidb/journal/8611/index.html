<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jdavidb: Emacs macros
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Emacs macros
</h1>
<h2><a href="/user/jdavidb/">jdavidb</a> on 2002-10-25T20:18:02</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I'm sure I'm not the only person out there still learning emacs.While cutting and pasting jjohn's 10-line code snippets to make the
SOAP journal client (Don't waste an opportunity to learn!  Examine and
understand each piece before going on!) I wanted an easy way to delete
the source code line numbers and associated spacing.  In vi, I'm quite
familiar with how I'd do that: 7x to delete 7 characters, followed by
n, followed by dot to repeat.  Unfortunately the same approach in
emacs fails because the "repeat" command repeats the act of going to
the next line.</p>

<p>With the help of a coworker and the documentation, I figured out
how to get what I wanted: c-x ( starts recording a keyboard macro,
then I hit c-a to go to the beginning of the current line (I'm writing
this macro defensively :) ), then c-u 7d to delete seven characters,
including the spaces and line number, then c-n to go to the next
line.  Finally I close out the macro with c-x ) .  Now, I can execute
my macro once with c-x e , or I can tell it to repeat ten times (say,
each time I paste one of those snippets), using c-u, as in c-u 10 c-x
e.</p>

<p>Have you ever noticed that emacs is cool?</p>

<p>Oh, and, if you hadn't guessed, this is my first post from emacs
with the new client.  Thanks, Joe!</p>

<p>Addendum-- or, if I'd waited until the end of the article, I would
have learned that I could just download the program.  But then I
wouldn't have learned this really cool emacs trick, would I?  I might
look foolish at this point, but I'm satisfied. :)</p>
</p>


<hr/>



<h2>or...</h2>
<h3><a href="/user/da/">da</a> on 2002-10-25T20:44:45</h3>
<strong> <tt>C-space</tt> </strong> to mark at the beginning of the first line;<br>
cursor down to the 7th row of the last line;<br>
<strong> <tt>C-X r k</tt> </strong> to delete the characters (mnemonic: region-kill)



<blockquote>

<h2>oops...</h2>
<h3><a href="/user/da/">da</a> on 2002-10-25T20:53:29</h3>
Whoops, sorry; it's short for rectangle-kill.



<h2>Re:or...</h2>
<h3><a href="/user/kjones4/">kjones4</a> on 2002-10-26T00:05:17</h3>
Or, in VIM ctrl-shift-v (for visual block mode), then use your arrow keys, then x to delete. Newer versions of VIM use ctrl-v instead of ctrl-shift-v.



<h2>Re:or...</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2002-10-26T03:35:54</h3>
<p>:) Sounds like emacs subscribes to Perl's TMTOWTDI philosophy.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

