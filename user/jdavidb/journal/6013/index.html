<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jdavidb: YAPC day 2: Tie::File</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>YAPC day 2: Tie::File</h1>
<h2><a href="/user/jdavidb/">jdavidb</a> on 2002-06-27T18:04:31</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I think I'm going to wind up seeing all of MJD's presentations.
Actually, I considered going to on-topic or back to mod_perl just for
more variety.  MJD's good, though, so it's not like I'm suffering.  To
be honest, I think I could probably --
<p>That's funny.  MJD just told Simon to leave since he wasn't saying
anything interesting.  I'm not saying I know as much as Simon, but I
would have left if he did.  I was really just here because this was
the most convenient room for me to plug into the network. :)
<p>Tie::File.  Easy.  Tie an array to a file; now the array is the
lines of your file.  I've never done this, but I wanted to.  As I was
going to say, I could probably figure this out from the
documentation.  Or MJD's slides, conveniently available in the orange
YAPC book.
<p>You could rewrite grep very easily with Tie::File:
<code>
use Tie::File;<br>
#tie the file; I didn't see how to do that; you can read the docs<br>
grep $pattern, @file_lines<br>
</code>
<p>"$#array is kind of a drag, but Larry did it to us."  I forgave him,
and I'm sure it will be fixed in Perl 6.
<p>I wish I had wireless just so I could pull and install modules as
they are mentioned.
<p>Tie::File does allow for concurrent access, since changes are pretty
much done immediately.  DB_File reads everything into memory, so you
can have race conditions if you try concurrent access.  File locking
management with Tie::File is on the way.  (0.96 should be out next
month.)
<p>Tie::File does caching.  LRU.
<p>Apparently Tie::File does everything I'd want it to in the way I
want it to.  It's just that I've never felt like putting that much
work into the rushed programs I'm always having to produce, and this
is in a module.
<p>Tie::File is pure Perl.
<p>Lines in a tied file are chomped, but if you put a newline at the
end of an element it will realize and not add another when it writes
out the file.  However, if you add newlines in the middle of a line,
you should be aware of what you're doing.  &lt;rant ranter="me, not
mark">READ THE DOCS AND DON'T GIVE US 19100 LOCALTIME BUG REPORTS ALL
OVER AGAIN, PLEASE!!&lt;/rant>  (I still can't believe how many people
just blindly used that function without reading the docs.  I wouldn't
use it until I knew what it DID.)  So the answer is, don't do that.
Good answer.
<p>The smiling baby at the end of some of MJD's slides was found by
searching Google for "happy baby." :)
<p>You can't <code>@F = sort @F;</code> and there's nothing that can be
done.  Yet.
<p>Simon left with about ten minutes left.  But not before suggesting
Mark investigate using mmap.  This was kind of a talk where anyone
could have figured out the module themselves, I think, but we did get
to talk about how some features should work and implementation and so
on.  After the mailing list judo talk I'm definitely reluctant to make
suggestions publicly for fear of being identified as a peanut gallery
member (I'm trying to keep that a secret.  Until it's not true
anymore.)
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

