<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jdavidb: Java gravel of the day: We're in outer space: copying files</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Java gravel of the day: We're in outer space: copying files</h1>
<h2><a href="/user/jdavidb/">jdavidb</a> on 2008-03-05T21:32:43</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Sure you can copy files in Java!  It's easy!  All you have to do is write a routine to read the contents of one file and write it to another file!</p>

<p>What do you mean, there should be a library routine to do this?  What do you mean, you want to portably take advantage of whatever OS facilities exist to do this?</p>

<p>Is there something about "copying files in Java is easy" that doesn't make sense to you?</p></p>


<hr/>



<h2>How Often Do You Need This?</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2008-03-06T10:05:56</h3>
<p>My question for Java developers is always the same:  can you, without looking at the docs, write the code to open a file, read the first line from the file (delimited by a newline) and print said line?  The answer is invariably "no, but<nobr> <wbr></nobr>...".</p>

<p>The counter-argument is that since they don't need to do this very often, there's no need to optimize this.  When you're working in an "enterprise" environment, you're not constantly opening and reading files.  Just to prove this point, I ran this on our codebase here:</p> <p><blockquote> <div><tt>ack '^(?!\s*#)\s*\bopen\b' lib/ -l | wc -l</tt></div> </blockquote>  <p>Hmm, that shows six modules.  Further investigation shows that we open files seven times (actually, a bit more as that's a na&iuml;ve regex).  So maybe opening and reading files <em>is</em> common?</p>

<p>Or maybe, as I suspect, since it's so easy in Perl, we reach for it more.</p>



<blockquote>

<h2>Re:How Often Do You Need This?</h2>
<h3><a href="/user/lachoy/">lachoy</a> on 2008-03-10T03:51:24</h3>
If you do need it, you stick it in a library. Something like:<p><blockquote> <div><tt>String line = FileUtil.slurpLines( path | file )[0];</tt></div> </blockquote> Or if you want it from the classpath, not just a file path:<p><blockquote> <div><tt>String line = new Resource( classpath-ref ).slurpLines()[0];</tt></div> </blockquote> File handling is one of my Java interview questions<nobr> <wbr></nobr>:-)





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

