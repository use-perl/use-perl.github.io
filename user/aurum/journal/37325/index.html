<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of aurum: Progress, of sorts</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Progress, of sorts</h1>
<h2><a href="/user/aurum/">aurum</a> on 2008-09-02T03:35:11</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I now have a script which produces output that looks like this.  Each capital letter represents a manuscript.  (OK, so in real life the words are lined up in columns, but I can't make use.perl play nicely with Unicode characters inside an &lt;ecode&gt; tag, which is the one that would preserve spacing.)</p>
<code>
Word variation!  Context: 
&#1396;&#1387;&#1398;&#1401;&#1381;&#1410; &#1409;&#1377;&#1397;&#1405; &#1406;&#1377;&#1397;&#1408;&#1405; &#1378;&#1377;&#1382;&#1396;&#1377;&#1403;&#1377;&#1398; &#1381;&#1410; &#1381;&#1410; &#1377;&#1399;&#1389;&#1377;&#1407;&#1377;&#1410;&#1400;&#1408; &#1412;&#1398;&#1398;&#1400;&#1410;&#1385;&#1381;&#1377;&#1396;&#1378; &#1379;&#1407;&#1381;&#1377;&#1388; &#1379;&#1408;&#1381;&#1409;&#1377;&#1412; &gt;&gt; &#1387; &#1382;&#1399;&#1377;&#1408;&#1377;&#1379;&#1408;&#1377;&#1391;&#1377;&#1398; &#1379;&#1408;&#1381;&#1377;&#1388;&#1405; &#1382;&#1392;&#1377;&#1408;&#1387;&#1410;&#1408;&#1387;&#1409; &#1377;&#1396;&#1377;&#1409;, &#1382;&#1400;&#1408;&#1405; &#1387; &lt;&lt; &#1378;&#1377;&#1382;&#1400;&#1410;&#1396; &#1386;&#1377;&#1396;&#1377;&#1398;&#1377;&#1391;&#1377;&#1409; &#1392;&#1381;&#1407;&#1377; &#1392;&#1381;&#1407;&#1377;&#1412;&#1398;&#1398;&#1381;&#1377;&#1388; &#1392;&#1377;&#1405;&#1400;&#1410; &#1381;&#1394;&#1377;&#1412;&#1417; &#1384;&#1398;&#1380; &#1377;&#1397;&#1398;&#1412;&#1377;&#1398;&#1381;&#1377;&#1409; &#1407;&#1381;&#1405;&#1400;&#1394;&#1377;&#1409;&#1398; &#1381;&#1410;

Base  &#1387; &#1382;&#1399;&#1377;&#1408;&#1377;&#1379;&#1408;&#1377;&#1391;&#1377;&#1398; &#1379;&#1408;&#1381;&#1377;&#1388;&#1405;  &#1382;&#1392;&#1377;&#1408;&#1387;&#1410;&#1408;&#1387;&#1409; &#1377;&#1396;&#1377;&#1409;, &#1382;&#1400;&#1408;&#1405; &#1387;
----                                              
ABH:    &#1382;&#1399;&#1377;&#1408;&#1377;&#1379;&#1408;&#1377;&#1391;&#1377;&#1398; &#1379;&#1408;&#1381;&#1377;&#1388;&#1405;  &#1382;&#1392;&#1377;&#1408;&#1387;&#1410;&#1408;&#1387;&#1409; &#1377;&#1396;&#1377;&#1409;  &#1382;&#1400;&#1408;&#1405; &#1387;
G:      &#1382;&#1399;&#1377;&#1408;&#1377;&#1379;&#1408;&#1377;&#1391;&#1377;&#1398; &#1379;&#1408;&#1381;&#1377;&#1388;&#1405;&#1398; &#1392;&#1377;&#1408;&#1387;&#1410;&#1408;&#1387;&#1409;  &#1377;&#1396;&#1377;&#1409;  &#1382;&#1400;&#1408;&#1405; &#1387;
C:    &#1387; &#1386;&#1377;&#1396;&#1377;&#1398;&#1377;&#1391;&#1377;&#1391;&#1377;&#1398; &#1379;&#1408;&#1381;&#1377;&#1388;&#1405;  &#1392;&#1377;&#1408;&#1387;&#1410;&#1408;&#1387;&#1409;  &#1377;&#1396;&#1377;&#1409;&#1398; &#1382;&#1400;&#1408;&#1405;  
J:      &#1382;&#1399;&#1377;&#1408;&#1377;&#1379;&#1408;&#1377;&#1391;&#1377;&#1398; &#1379;&#1408;&#1381;&#1377;&#1388;&#1405;  &#1382;&#1395;&#1387;&#1409;      &#1377;&#1396;&#1377;&#1409;  &#1382;&#1400;&#1408;  &#1387;
DFI:    &#1382;&#1399;&#1377;&#1408;&#1377;&#1379;&#1408;&#1377;&#1391;&#1377;&#1398; &#1379;&#1408;&#1381;&#1377;&#1388;&#1405;  &#1382;&#1395;&#1387;&#1409;      &#1377;&#1396;&#1377;&#1409;  &#1382;&#1400;&#1408;&#1405; &#1387;
E:      &#1382;&#1399;&#1377;&#1408;&#1377;&#1379;&#1408;&#1377;&#1391;&#1377;&#1398; &#1379;&#1408;&#1381;&#1377;&#1388;&#1405;  &#1382;&#1395;        &#1377;&#1396;&#1377;&#1409;  &#1382;&#1400;&#1408;&#1405; &#1387;
</code>

<p>Of course it doesn't take any input yet.  One thing at a time.</p>
</p>


<hr/>



<h2>Formatting -- yours and use.perl.org's</h2>
<h3><a href="/user/theorbtwo/">theorbtwo</a> on 2008-09-02T07:36:11</h3>
I had a long reply using Text::Unidecode here, but use.perl.org *really* doesn't want to format things the way I want it to (half the time it seems to double-encode my unicode, and never do multiline code or pre tags!), so I'll try using words instead of pictures to explain what I'm trying to talk about.<br/><br/>First, the easy question: How are those alternate readings sorted?  It doesn't seem to be by first ms with that reading, nor by number of readings -- is it just hash order?<br/><br/>Second, the hard question -- what do you mean by alignment?  Does it align each word with it's other varients, or just the beginning of each alternate reading?  How do you keep the forms of zsharagrakan (thanks, Text::Unidecode) aligned with each-other and treat the i as a word that is sometimes not there -- edit distance?



<blockquote>

<h2>Re:Formatting -- yours and use.perl.org's</h2>
<h3><a href="/user/aurum/">aurum</a> on 2008-09-02T11:08:51</h3>
<p>Q1) Alternate readings are unsorted.  That is intentional - I don't want to inadvertently give priority to the reading in ms A, or the reading with the most words, or anything.</p><p>Q2) Alignment can occur in one of two ways.  The first is by a small enough edit distance, as you say - it's how I keep the instances of "zsharagrakan" aligned.  That was my "fuzzy match."  The second is what is called a "negative variant" - the words aren't alike at all, but they coincide in placement.  This is why "zhamanakakan" is lined up with "zsharagrakan".  In the case of the 'i' at the beginning, it means that none of the manuscripts besides C have a word in that place, so it is in fact being treated as a word that is sometimes not there.</p><p>What this doesn't display (yet) is the "fuzzymatch" and "variant" relationships that have been calculated between words.  I'm hoping it will become obvious what to do with that information when I start handling user input.</p>



<h2>Re:Formatting &amp;#8211; yours and use.perl.org's</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2008-09-02T19:10:32</h3>
<blockquote><div><p>half the time it seems to double-encode my unicode</p></div> </blockquote><p>Put posts and comments through &#8220;<code>encode 'us-ascii', $your_post, Encode::HTMLCREF</code>&#8221;. That will make them come out as intended.</p><blockquote><div><p>and never do multiline code or pre tags!</p></div> </blockquote><p>That&#8217;s on purpose; Slashcode has its own special <code>&lt;ecode&gt;</code> tag for that purpose (whose distinguishing features are: 1. you can write raw angle brackets and ampersands inside, and Slash will turn them into entities for you; 2. it uses <code>&lt;pre&gt;</code>, so very long lines will wrap properly (something that you can achieve in modern browsers via CSS by saying <code>white-space: pre-wrap</code>)).</p><p>(IMO it should nowadays just use Markdown. (Slash is older than Markdown, mind.) But since I have global shortcuts to translate the clipboard from Markdown to HTML, I don&#8217;t personally care either way.)</p>



<blockquote>

<h2>Re:Formatting &amp;#8211; yours and use.perl.org's</h2>
<h3><a href="/user/theorbtwo/">theorbtwo</a> on 2008-09-02T20:41:25</h3>
Ah.  Perlmonks does that to, but it calls the new tag code.  (Or c, for the lazy.)



<h2>Re:Formatting &amp;#8211; yours and use.perl.org's</h2>
<h3><a href="/user/aurum/">aurum</a> on 2008-09-03T11:06:45</h3>
<p><div class="quote"><p>Slashcode has its own special <code>&lt;ecode&gt;</code> tag for that purpose (whose distinguishing features are: 1. you can write raw angle brackets and ampersands inside, and Slash will turn them into entities for you;</p></div><p>This is the part that doesn't play nicely with UTF-8, actually, although the <code>&lt;ecode&gt;</code> tag is almost always what I want - the Armenian characters get converted into entities upon comment submit, and those entities themselves have their ampersands turned into entities upon ecode conversion.</p>



<blockquote>

<h2>Re:Formatting &amp;#8211; yours and use.perl.org's</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2008-09-04T18:07:39</h3>
<p>The conversion to entities is your browser&#8217;s doing, actually. It sees that the form should be submitted in ISO-Latin1, so it turns all the non-Latin1 characters into entities. Slashcode can&#8217;t actually know that you didn&#8217;t mean to send them that way. There is therefore no way to get around this.</p><p>All you can do is use plain <code>&lt;code&gt;</code> tags with <code>&lt;br&gt;</code> tags for linebreaks, sequences of <code>&amp;nbsp;</code> for tabs, and manual escaping for ampersands and less-thans. It&#8217;s a pain to do manually, but a tolerable amount of work with a good editor.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

