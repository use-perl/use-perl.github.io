<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Beatnik: Net::SSH::Perl and Cisco</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Net::SSH::Perl and Cisco</h1>
<h2><a href="/user/Beatnik/">Beatnik</a> on 2006-06-20T11:08:47</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Trying to get Net::SSH::Perl to connect to a Cisco switch is a pain in the ass. Before, I used Net::Telnet::Cisco but since the customer decided to move everything to a new IOS version, we're stuck with adding support for Net::SSH::Perl. Initially, it seemed like there was nothing we could do but port the scripts to expect but as it turned out, there were some comments on <a href="http://www.cpanforum.com/dist/Net-SSH-Perl">CPAN Forum</a>. Unfortunatly, the suggested patches only work if you want to run a single command.. and not if you have to run enable mode first. Looks like I'll have to get my Expect shoes out anyway :(</p>


<hr/>



<h2>Net:::Telnet and IOS</h2>
<h3><a href="/user/purlah/">purlah</a> on 2006-06-29T04:38:54</h3>
it turns out i have to deal with this this week as well. i think this will become an increasingly common problem, and what we should do is fashion appropriate modifications into the command structure of Net::Telnet so it can be used as a drop-in replacement rather than having to rewrite everything via Expect (although that may get called on the backend).. anyway, let me know please if you have made progress on this yet.



<blockquote>

<h2>Re:Net:::Telnet and IOS</h2>
<h3><a href="/user/dhammans/">dhammans</a> on 2006-08-20T12:59:29</h3>
I'm having the same problem. I have a bunch of Net::Telnet::Cisco scripts that need to be converted for SSH only use; the US DOD mandates that telnet never be used for switch management functions so we're having to convert everything.<br/><br/>Did you guys make any headway? I'm not a big fan of expect either...



<blockquote>

<h2>Re:Net:::Telnet and IOS</h2>
<h3><a href="/user/Beatnik/">Beatnik</a> on 2006-08-20T19:51:44</h3>
Expect worked fine for us.. but then a co-worker pointed out to me that he got stuck in a similar and got a way out by actually just RTFM. He found the solution in the <a href="http://search.cpan.org/dist/Net-Telnet/" title="cpan.org">Net::Telnet</a cpan.org> example. It included an example with forking SSH. I still have to implement this solution but it worked for him<nobr> <wbr></nobr>:)



<blockquote>

<h2>Re:Net:::Telnet and IOS</h2>
<h3><a href="/user/J73/">J73</a> on 2007-11-19T23:59:45</h3>
I had the same problem and cobbled online examples together into a script that works for my IOS routers.  Tweak the regexps defining the prompts and change the commands to make it work for CatOS devices.  Any ugliness is undoubtedly my fault, because I don't really know perl.
<a href="http://rapidshare.com/files/70916304/Net-SSH-IOS.pl.html/" title="rapidshare.com">http://rapidshare.com/files/70916304/Net-SSH-IOS.pl.html/</a rapidshare.com>





</blockquote>


<h2>Re:Net:::Telnet and IOS</h2>
<h3><a href="/user/oliver/">oliver</a> on 2007-01-29T00:08:17</h3>
<p>I know this is an old thread... but automating Cisco things has popped to the top of some people's stacks with these recent IOS expliots being announced.</p>

<p>Anyway, check out my module for this, which is a wrapper around Net::Telnet and supports Telnet, SSH and Serial line scripted command sequences.</p>

<p> <a href="http://search.cpan.org/user/oliver/Net-Appliance-Session-0.09/" title="cpan.org">Net::Appliance::Session 0.09</a cpan.org> (0.12 will be out this week, with some nice new features)</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

