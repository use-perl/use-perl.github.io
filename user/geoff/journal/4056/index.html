<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of geoff: mod_perl 2.0</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>mod_perl 2.0</h1>
<h2><a href="/user/geoff/">geoff</a> on 2002-04-09T14:35:07</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>so, the <a href="http://perl.apache.org/dist/mod_perl-1.99_01.tar.gz">new beta</a> of mod_perl 2.0 has been released, alongside the <a href="http://www.apache.org/dist/httpd/Announcement2.html">"General Availability"</a> release of Apache 2.0.<br><br>
in general, I think this is really great - it's nice to see these two technologies make strides forward and (most importantly) entering some sort of API freeze.  however, with the next generation of Apache technologies now available, we're starting to see questions like <a href="http://marc.theaimsgroup.com/?l=apache-modperl&m=101810614532077&w=2">this</a> - basically, now that the 2.0 API is somewhat stabilized, what does that mean for the 1.3 tree?<br><br>now, I'm in no position to speak for the <a href="www.apache.org">ASF</a> as I'm not a member (nor would I speak for them even if I were :) but as someone who authored a (recent) book that is entirely 1.3 centric I thought I'd share my thoughts on what I think this means.  after all, even as I was writing my proposal, development on mod_perl 2.0 was underway - I had to be able to justify writing a 1.3 book (most importantly to myself) right?<br><br><br/><br/>probably the most sigificant factor for me was that much of the tecniques that have been developed in mod_perl 1.3 won't change - access to the request record is still via <code>$r</code>, most of the API (like <code>Apache::Table</code>) is still pretty much the same, and the basic methodology hasn't changed (you still use a <code>PerlTransHandler</code> to handle URI->file mapping).  Furthermore, there's the <code>Apache::compat</code> layer for back compatibility to 1.3 for things like <code>Apache::File</code>, so (after things settle down) just about all of your 1.3 code will run (relatively) unmodified on the 2.0 architecture.  kudos to Doug and company for making that happen.<br><br>
about the only things I can think of that will change significantly is stuff like the current <code>Apache::Filter</code> - output filtering is entirely different and will require quite a learning curve.  Also, the custom configuration directive API will change entirely, so the 1.3 model is obsolete in 2.0.  The good thing is, though, that the concepts behind these techniques are the same, so what needs to change is the implementation of your code, not the separation of functionality in the architecture you designed under 1.3.  so, again, lots of the concepts that have sprung up in the mod_perl community over the years, those that I was trying to present and clarify, will still be valid in the 2.0 architecture.<br><br><br/><br/>another thing that I think is important for people to understand is that major architecture changes like this just don't happen overnight - they take years.  just look at the latest report from <a href="https://secure1.securityspace.com/s_survey/data/man.200203/revisions.html">Security Space</a>: nearly 80,000 <i>production</i> boxes are still running Apache <i>1.2</i>.  when I think about the risk involved in ugrading a production grade server I personally get very nervous.  How long do you think it would take a company like e-toys (if they still existed) to migrate their architecture?  it's not something that you enter into hastily, that's for sure.  and in the meanwhile, there are still bugs to fix, enhancements to write, and other things that have to happen to the existing 1.3 code (for which you still need a reference).<br><br>
all that said, I think that mod_perl 2.0 has some great advantages that people won't find until they start to delve into it.  stuff like the threaded MPM might allow for all kinds of interesting behaviors we can't even fathom now.  I'm personally the most excited about input filters and the effect that will have on both normal HTTP processing and other protocols as well.  really cool stuff, that's for sure.  And the code in mod_perl 2.0 is much cleaner now, which should help in both the development and maintenance arenas.<br><br><br/><br/>I only wish I had a job that allowed me to play with the new, cool stuff.  so far, I'm way behind the learning curve with 2.0, and I had wanted to contribute more on the development front, but the current economic state just seems to make that impossible for me now.  but I guess that's ok, something will come up.  and in the meanwhile I can still help keep 1.3 humming along, nice and stable, for as long as necessary.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

