<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of geoff: fighting foreign spam</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>fighting foreign spam</h1>
<h2><a href="/user/geoff/">geoff</a> on 2004-06-10T13:07:16</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I've been getting an increasing amount of foreign language spam lately - foreign as in german, not the typical asian variants.  ordinarily, I don't notice that my spam volume is increasing, except that these have been getting past my filter and ending up in my inbox, I suspect because I haven't taught my filters to pick up on the non-english tokens.<br><br><br/><br/>do people with <code>.de</code> addresses get more native language spam?<br><br><br/><br/>this got me thinking - why do I have to train my filters at all?  I mean, certainly there is enough spam (english and non-english) floating around the world that a decent corpus could be assembled, regularly added to, and made available.  this would have a number of advantages, like a larger corpus for more accurate results.  it would also enable SA users to react to new spam forms more quickly than they could on their own - users contribute spam consistently and download a new database regularly and *poof* you have one killer spam-fighting machine.
</p>


<hr/>



<h2>razor</h2>
<h3><a href="/user/rjbs/">rjbs</a> on 2004-06-10T13:17:09</h3>
Sounds like you're thinking of Vipul's Razor.<br> <br>http://razor.sourceforge.net/



<blockquote>

<h2>Re:razor</h2>
<h3><a href="/user/geoff/">geoff</a> on 2004-06-10T13:34:52</h3>
yeah, I knew it was a good idea<nobr> <wbr></nobr>:)  but really what I want is not another plugin I need to administer.<br> <br><br/><br/>what I originally thought about was it would be cool to take a german friend and add the results from his <code>sa-learn</code> sessions to my own, but I'm not sure if there is a routine for merging databases like that or not.  making it a globally shared database was just the logical extension.



<blockquote>

<h2>Re:razor</h2>
<h3><a href="/user/rjbs/">rjbs</a> on 2004-06-10T13:44:22</h3>
--dump and --import<br> <br>sa-learn can --dump its database and --import other databases.  --import suggests that it is for old formats, but I'd guess (with no evidence) that it works with current formats.  It also says it clobbers the current DB_FILE, but I'd guess (with no evidence) that it could be rewritten to allow merging.<br> <br>Then you just need CBAN.





</blockquote>

</blockquote>


<h2>corpuses (corpi?) don't work that way</h2>
<h3><a href="/user/babbage/">babbage</a> on 2004-06-10T13:49:34</h3>
<p>The problem with a universal corpus is that one person's spam is another person's ham.

</p><p>Just to pick a random example, almost any message received by you or me that is written in German is going to be spam. My command of the language doesn't go much deeper than "wo ist der Bierhaus, fraulein?", so anyone sending me an email in German is probably trying to sell me something. So for me, German text is at least a 98% confident indicator of spam.

</p><p>On the other hand, there are hundreds of millions of German speakers out there who probably have a different opinion on my conclusion. I can hardly blame them.

</p><p>The whole point of statistical filters like Bayes is that they let individuals come up with statistical descriptions of their <i>own</i> spam/ham corpus. While you could apply some of these techniques to a universal corpus, it wouldn't be anywhere near as accurate or useful as one built around your own mail patterns.

</p><p>Moreover, part of the reason that individual statistical filters are effective is that they are hetergeneous: because everyone has a different profile, it's difficult or impossible for spammers to come up with messages that will be misinterpreted as ham for everyone. If you have any kind of standard, widely used spam characteristics -- like the heuristics encoded into SpamAssassin's rules -- then spammers can exploit those properties to "cloak" their messages as ham; hence, spam headers that include Mutt, Pine, Outlook, Mozilla, Eudora, and AOL as the mail agent, because each of those gives a few "ham" points in SpamAssassin; hence, revisions to later versions of SpamAssassin to penalize messages that cite multiple mail agents.

</p><p>A universal spam corpus is an appealing idea, and there are research contexts where having one makes sense, but as examples like the mail agent headers show, filtering techniques built around a universal profile would often be easy to defeat. It would be nice if there were easier ways to package them, but generally speaking it seems like individual profiles seem to be the way to go.</p>



<blockquote>

<h2>Re:corpuses (corpi?) don't work that way</h2>
<h3><a href="/user/jmm/">jmm</a> on 2004-06-10T14:44:03</h3>
I think that you can set things up so that your own private ruleset is used to actively delete spam, while the public ruleset would be used to flag spam while still pasing it on.  Then, you can scan the flagged items fairly quickly and use them to update your private ruleset.





</blockquote>


<h2>locale stuff</h2>
<h3><a href="/user/perrin/">perrin</a> on 2004-06-10T16:17:33</h3>
You can block most of this in SA by using the locale settings, and adding something like "score CHARSET_FARAWAY 5.0" to your user_prefs.



<blockquote>

<h2>Re:locale stuff</h2>
<h3><a href="/user/Matts/">Matts</a> on 2004-06-10T16:28:02</h3>
Actually what you want is the ok_languages setting. Just set this to be "en" (or whatever languages you can read) and be done with it.





</blockquote>


<h2>foreign spam</h2>
<h3><a href="/user/malte/">malte</a> on 2004-06-10T17:13:47</h3>
<p>I'm (in Germany) have been getting a lot of italian spam lately that was getting across sa. Usually almost all of the spam I get is English, though, maybe one or two german messages per day.</p>

<p>When we first got sa installed at my company, the sysad decided all English mail must be spam and gave it a 4 point spam bonus. I got him to reverse that decision, though<nobr> <wbr></nobr>:)</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

