<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of advent: 1st Dec 2003</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>1st Dec 2003</h1>
<h2><a href="/user/advent/">advent</a> on 2003-12-01T02:15:27</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Comments for <a href="http://perladvent.org/2003/1st/">Perl Advent Calendar Entry 1st Dec 2003</a>.  Comments posted below may be displayed on perladvent.org.</p>


<hr/>



<h2>what about multiple values?</h2>
<h3><a href="/user/podmaster/">podmaster</a> on 2003-12-01T12:53:53</h3>
<tt>Maybe i'm missing it, but they don't seem to be handled at all (which is a shortcoming)<br> <br>E:\&gt;perl - 1=a 1=b 1=c 1=d<br>use CGI qw[ param Vars ];<br>use CGI::Untaint;<br>my $u = CGI::Untaint-&gt;new( Vars() );<br>print "$_\n" for $u-&gt;extract(-as_printable =&gt; 1);<br>warn 1;<br>print "$_\n" for param(1);<br>__END__<br>1 at - line 5.<br>a<br>b<br>c<br>d<br> </tt>



<blockquote>

<h2>Re:what about multiple values?</h2>
<h3><a href="/user/podmaster/">podmaster</a> on 2003-12-01T12:58:40</h3>
<small>*sigh* i really wish I hit preview a couple more times </small>
<p>
I was talking about the 1st, CGI::Untaint (obviously).
I think it does hit the hammer, but not exactly on the head<nobr> <wbr></nobr>:)(face maybe, shoulder?)</p>



<h2>Re:what about multiple values?</h2>
<h3><a href="/user/2shortplanks/">2shortplanks</a> on 2003-12-01T23:40:03</h3>
Mutliple values do work, though it's not quite how you might expect.  Since you're populating your instance of CGI::Untaint using CGI's Vars method, things that have multiple values are seperated by NUL (\0), as documented in the CGI perldoc.
<p>
What I normally do in this situation is have my _untaint_re check that each of the things seperated by \0 match what I'm checking, and then have my is_valid do a quick</p><blockquote><div> <tt> $self-&gt;valid([split<nobr> <wbr></nobr>/\0/, $self-&gt;value]);</tt> </div></blockquote>



<blockquote>

<h2>Re:what about multiple values?</h2>
<h3><a href="/user/2shortplanks/">2shortplanks</a> on 2003-12-01T23:45:12</h3>
<blockquote><div> <tt>&nbsp; $self-&gt;value([split<nobr> <wbr></nobr>/\0/, $self-&gt;value]);</tt> </div></blockquote>even.



<blockquote>

<h2>Re:what about multiple values?</h2>
<h3><a href="/user/podmaster/">podmaster</a> on 2003-12-02T20:33:43</h3>
Sure you could do that, but i don't think you should need to.
I think CGI::Untaint could be more, you know, convenient<nobr> <wbr></nobr>:)



<blockquote>

<h2>Re:what about multiple values?</h2>
<h3><a href="/user/tmtm/">tmtm</a> on 2003-12-08T17:20:14</h3>
Patches welcome<nobr> <wbr></nobr>:)





</blockquote>

</blockquote>

</blockquote>

</blockquote>


<h2>SEE ALSO: Data::FormValidator</h2>
<h3><a href="/user/markjugg/">markjugg</a> on 2003-12-01T19:49:24</h3>
I think Data::FormValidator is also a very strong contender in this problem space. It handles multiple values, something podmaster brought up in another post. It also integrates with CGI.pm, Regexp::Common and is generally very powerful and flexible.<br> <br>The current version includes a nice file upload validator as well.<br> <br>http://search.cpan.org/perldoc?Data::FormValidator<br>http://mark.stosberg.com/<nobr>d<wbr></nobr> fv/<br> <br>disclaimer: I maintain Data::FormValidator



<blockquote>

<h2>Re:SEE ALSO: Data::FormValidator</h2>
<h3><a href="/user/markjugg/">markjugg</a> on 2003-12-01T19:50:08</h3>
I should have also mentioned it can do untainting in    many cases as well.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

