<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: Graphing state machines</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Graphing state machines</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2004-12-17T23:03:46</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Yup.  We're beating this state machine to death.  I just wrote some preliminary code to <a href="http://users.easystreet.com/ovid/images/graph.png">graph the state machines</a>.  Because we now have stack tracing, I can probably trace out the actual path followed on the graph.  Cool, cool, cool :)</p></p>


<hr/>



<h2>Wow...</h2>
<h3><a href="/user/Purdy/">Purdy</a> on 2004-12-18T14:14:41</h3>
That looks really neat, though it's hard to follow when you don't know the criteria that pushes you from one state to the next.  Such as the root_user state... I just didn't follow what happened after that state and why.<br> <br>Maybe it was your example, though.  Neat stuff, though!<br> <br>Peace,<br> <br>Jason



<blockquote>

<h2>Re:Wow...</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2004-12-18T18:19:27</h3>
<p>Part of the issue with any state machine is that the criteria can be confusing to an outsider if they don't know the business rules.  In this case, the state machine tracks some of the dependencies for setting up <a href="http://www.bricolage.cc/" title="bricolage.cc">Bricolage</a bricolage.cc> on PostgreSQL.  The "root user" state simply means "if we have the Postgres root user, we can install.  If not, check to see if we have a normal user and, if so, check to see if they can do everything necessary for the install.  When I was using a bunch of nested if/else statements, it was turning into a bear and becoming far too complicated.  In the process of turning into a state machine, the path I was taking turned out to be too complicated and just having a graph allowed me to simplify the design quite a bit, though the original graph was done in <a href="http://www.omnigroup.com/applications/omnigraffle/" title="omnigroup.com">OmniGraffle</a omnigroup.com>.</p>

<p>I might add that it's all based on <a href="http://use.perl.org/user/acme/" title="perl.org">Leon Brocard's</a perl.org> excellent <a href="http://search.cpan.org/user/lbrocard/GraphViz-2.01/" title="cpan.org">GraphViz</a cpan.org> module.  I'll probably wind up giving access to most of the GraphViz settings to the state machine user.</p>





</blockquote>


<h2>permissions check</h2>
<h3><a href="/user/wickline/">wickline</a> on 2004-12-19T07:34:11</h3>
was the code in progress at that point, or is it expected that check_permissions never leads to fail?



<blockquote>

<h2>Re:permissions check</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2004-12-20T04:49:39</h3>
<p>It was code in progress.  I had a dummy "never fail" state set up while I was figuring out the best way to proceed.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

