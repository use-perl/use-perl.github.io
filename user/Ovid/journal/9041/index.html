<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: Simple math not so simple</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Simple math not so simple</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2002-11-20T18:08:33</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>We have a client, who shall remain nameless, who provides data feeds for a few very large companies.  However, those companies don't get the datafeeds directly.  Instead, a series of small programs that I wrote read in the data (in the form of CSV files) and users who pay a small fee can view the resulting Web pages.  The problem:  this was a quick hack.</p>

<p>I was originally asked how fast I could get these pages up as our clients were in violation of their contract terms to provide this info, so I took about two days to get this put together.  This was done with the caveat, carefully explained to our client, that the data format <strong>must not change</strong>.  I built in a bit of flexibility, but I simply didn't have the time to do this right.  The pages have continuously broken since then.  As it turns out, there's only been one bug in my code (woohoo!).  Every other time things have broken has been due to their changing the data format without telling us.  Today was the latest.  Originally, the HH:MM:SS in the data file would be in the form <tt>/(\d\d):(\d\d):(\d\d)/</tt>.  Now they've changed that so the above regex fails.  It's now <tt>/(\d\d?):(\d\d?):(\d\d?)/</tt>.</p>

<p>A couple of months ago, they stopped sending timestamps, just date stamps.  Sometimes they've changed the data keys without telling us.  What I really enjoyed, though, was the time they decided to increase the number of fields they were going to send.  Naturally, we didn't find out until the people downstream from us called to yell at us.  Our clients keep sending bad data and the people who see it yell at us and we can't sit around and trash our clients by pointing out that they're clueless.  We can't win.  In fact, this little job may just go away entirely because our client can't seem to send us properly formatted data and the downstream people are getting pissed!</p>

<p>So what's the "simple math" I referred to in the subject?  Originally, we had a very, very small bid to put data validation in this project.  If anything didn't meet our expectations, we would send email to our client and ourselves and nothing would get updated (and risk breaking the Web pages -- better old data than bad data).  We were turned down and now the client has spent 10 to 20 times that cost in tracking down bugs, not to mention the damage to their reputation.  Their reason for turning us down?  "These are computers.  Once we get it dialed in, nothing will change."</p></p>


<hr/>



<h2>Great Lies of Software Development</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2002-11-20T20:01:01</h3>
<p>
"Nothing will change" is in the top five.
</p>



<h2>Damage to whose reputation?</h2>
<h3><a href="/user/dws/">dws</a> on 2002-11-20T21:27:42</h3>
<i>We were turned down and now the client has spent 10 to 20 times that cost in tracking down bugs, not to mention the damage to their reputation.</i>
<p>
Sounds like they're paying your company to take that damage. From your client's point of view, that might not be such a bad deal.
</p><p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

