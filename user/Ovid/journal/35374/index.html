<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: Test::Builder statistics</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Test::Builder statistics</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2008-01-12T12:00:09</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>In trying to give more control over how Perl programmers test their programs, I've had a couple of people tell me that I can't do that completely since so many people don't use the <tt>Test::Builder</tt> modules.  I don't understand this objection.  Why should I worry that someone who chooses to use X doesn't get the features that Y provides?</p>

<p>That being said, I decided to figure out some real numbers.  I used <tt>CPAN::Mini::Extracted</tt> to extract the CPAN libraries and their tests to my hard drive.  I then examined the test programs and tried to figure out which test modules programs were using.  This is all done heuristically, but from my hand examination of results, it looks pretty close.  I accidentally skipped <tt>Test.pm</tt> my first time through, but here are the top ten testing modules (out of 287 used in almost 60,000 test programs) and the number of times each was used:</p>

<pre>Test::More              44461
Test                     8937
Test::Exception          1379
Test::Simple              731
Test::Base                316
Test::Builder::Tester     193
Test::NoWarnings          174
Test::Differences         146
Test::MockObject          139
Test::Deep                127</pre>

<p>From there, I wanted to figure out the percentage of test programs which used the <tt>Test::Builder</tt> framework, <tt>Test.pm</tt> or something else.  Again, these are generated heuristicically, but it's interesting:</p>

<pre>Uses            Count  Percent
------------------------------
Test::Builder   47934   81.30%
Non-builder      1107    1.88%
Unknown           642    1.09%
Test.pm          8937   15.16%</pre>

<p>It's not perfect, but this tells me that if someone provides new testing functionality and is willing to special case <tt>Test.pm</tt>, you can capture almost 97% of the testing market on the CPAN.</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

