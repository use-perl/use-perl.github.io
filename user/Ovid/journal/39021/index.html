<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: Prototype OO and Multiple Inheritance?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Prototype OO and Multiple Inheritance?</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2009-05-22T13:46:48</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I'm thinking about the my <a href="http://yapceurope2009.org/ye2009/talk/2025">Roles talk at YAPC::EU::2009</a>, (you know the conference, right? The one I made that <a href="http://www.youtube.com/watch?v=HNo0TAQPA6o">strange little promo</a> for?).  It's a bit of a tutorial, but not much.  It's more about the "why" instead of the "how" because even though I get plenty of comments/emails about roles, they're almost always in the "why" category.  That's because roles are so easy to use once you start that you really need motivation for starting rather than a guide on how to start (though I'll give some of that, too).</p>

<p>One thing I am doing is a bit of comparing/contrasting with multiple languages and how they all struggle to figure out how to manage inheritance.  Everyone seems to have a different idea, but I'm stumped on Javascript and other <a href="http://en.wikipedia.org/wiki/Prototype_OO">prototyped OO languages</a>.</p>

<p>Prototyped OO languages don't have classes.  Thus, you really can't inherit.  However, you use an existing object as a "prototype", clone it, and then add state/behaviors as needed.  So one might think there's a loose analogy to inheritance there.  What I'm wondering is whether or not this enforces a tree-like hierarchy on object systems?  Is there any analogue to multiple inheritance?  If not, how is this worked around.  Every language I've ever used which forbids MI has a workaround (interfaces, mixins or <a href="http://stason.org/TULARC/webmaster/lang/beta-language/L16-Why-doesn-t-BETA-have-multiple-inheritance.html">the weird stuff that BETA does</a>).  Any other comments about prototype OO languages welcome (particularly if you have experience with examples other than JavaScript).</p></p>


<hr/>



<h2>JSAN modules implement inheritance</h2>
<h3><a href="/user/Alias/">Alias</a> on 2009-05-22T15:04:36</h3>
<p>Take a look through some of the JSAN stuff. There was a bunch of work that got done on implementing what I believe we were calling pseudo-classes.</p><p><a href="http://openjsan.org/doc/r/rk/rkinyon/Class/0.05/lib/Class.html" title="openjsan.org">http://openjsan.org/doc/r/rk/rkinyon/Class/0.05/lib/Class.html</a openjsan.org></p><p><a href="http://openjsan.org/doc/l/ly/lyokato/Class/Setup/0.04/lib/Class/Setup.html" title="openjsan.org">http://openjsan.org/doc/l/ly/lyokato/Class/Setup/0.04/lib/Class/Setup.html</a openjsan.org></p><p><a href="http://openjsan.org/doc/i/in/ingy/Subclass/0.10/lib/Subclass.html" title="openjsan.org">http://openjsan.org/doc/i/in/ingy/Subclass/0.10/lib/Subclass.html</a openjsan.org></p>



<h2>Self and NewtonScript</h2>
<h3><a href="/user/lbr/">lbr</a> on 2009-05-22T17:59:29</h3>
<p>If memory serves, Self had a system to make any slot a parent-slot - by convention "parent*" was the object cloned from, but any slot could be a parent-slot by adding a * to the name.  How dispatch was eventually (mis-)handled, I have no recollection...
</p><p>
NewtonScript was based on Self, but extended the convention to always have two parent-slots for gui-elements (business-object + gui-object), but not any more, as I recall.
</p><p>
And speaking of prototype-based language, why would anyone add first-order functions to a language and not make them closures.  Yes, javascript, I'm looking at you.
</p><p>ObUsePerlSucks: adding my own paragraphs?  really?</p>



<blockquote>

<h2>Re:Self and NewtonScript</h2>
<h3><a href="/user/btilly/">btilly</a> on 2009-05-23T20:35:26</h3>
<p>Huh?  JavaScript has closures.  They work perfectly well.  I've been using them for years.</p><p>But there is a major gotcha.  Variables declared with var are always scoped to the nearest function call.  So if you create closures in a loop, they will all point to the same variable.  However once you know that's the issue, that's easily fixed - just call a function from within the loop whose job is to scope the variable correctly.</p>



<blockquote>

<h2>Re:Self and NewtonScript</h2>
<h3><a href="/user/lbr/">lbr</a> on 2009-05-23T21:30:17</h3>
Ah, that makes "sense" (and it was that gotcha that had gotten me).  Sigh.  JINP.





</blockquote>

</blockquote>


<h2>I always thought of Prototype OO ...</h2>
<h3><a href="/user/perigrin/">perigrin</a> on 2009-05-23T03:37:05</h3>
<p>as "Every Class is a Singleton and is Instantiated", which glosses over a bunch of stuff but does roughly fit the way things like <a href="http://code.google.com/p/joose-js/" title="google.com">Joose</a google.com> are dealing with JS's Prototype OO.</p>



<h2>A paper and a post</h2>
<h3><a href="/user/broquaint/">broquaint</a> on 2009-05-28T16:54:32</h3>
This may be old news to you but I found that the <em>"Classes vs. Prototypes Some Philosophical and Historical Observations"</em> is worth a read (not sure where to link to but Google will point in the right direction).
<p>
Also Steve Yegge's <a href="http://steve-yegge.blogspot.com/2008/10/universal-design-pattern.html" title="blogspot.com">Universal Design Pattern</a blogspot.com> (aka <em>Propertise Pattern</em>) covers the topic quite thoroughly.</p>



<blockquote>

<h2>Re:A paper and a post</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2009-05-28T19:24:55</h3>
<p>Nope, not old news at all.  Thanks for the tip!</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

