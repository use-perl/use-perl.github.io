<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: Runtime trait composition to the CPAN</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Runtime trait composition to the CPAN</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2005-11-26T23:45:57</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Soon <a href="http://search.cpan.org/dist/Class-Trait/">Class::Trait</a> 0.20 will be on the CPAN.  We now have runtime trait composition and I'm just shy of 400 tests.  The basic syntax works like this:</p>

<pre>Class::Trait->apply($class_or_instance, @traits);</pre>

<p>If you apply traits at runtime to a class, all instances (and subclasses) of that class get the new methods.  If you apply traits to an instance, only that instance will get the new methods and the instance will be blessed into a new anonymous class.</p>

<p>In both cases, runtime trait application is similar to "mixins" whereby the trait methods will redefine (or override) any existing methods they find.  When applying traits at compile time, existing methods take precedence and the trait's methods are silently discarded.</p>

<p>There are also some documentation updates, including a small section explaining when you would want to use traits.</p>

<p>There's a fair amount of ugly hackery to get <tt>Class::Trait-&gt;does</tt> to work and I have a bit of tramp data being passed around.  Still, the test suite is fairly solid so I can revisit this later.  Bug reports, of course, would be wonderful.  Patches even more so.</p></p>


<hr/>



<h2>Partial methods</h2>
<h3><a href="/user/djberg96/">djberg96</a> on 2006-01-03T14:00:21</h3>
I found <a href="http://www.artima.com/weblogs/viewpost.jsp?thread=142895" title="artima.com">this article</a artima.com> on traits interesting.
<p>
It's the language Heron, mind you, but I thought the ability to create partially implemented required functions was interesting.
</p><p>
- Dan</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

