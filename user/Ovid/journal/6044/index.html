<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: Countdown - 2 days</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Countdown - 2 days</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2002-06-28T15:38:12</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Nothing new to report.  I just got in to work about half an hour ago and there is no frantic email or phone calls.  All of our unit tests pass, but in the mad dash to finish things before the boss hit the airport, we skimped on quite a few tests.  We've tagged this revision, so it's time for me to start some refactoring and getting to some of the tests that I didn't have time to get to.</p>

<p>Oh, and I discovered that debugging SQL under pressure is not my strong suit :)  I had some hideous errors in my SQL that I would laugh at in anyone else's code (and have, I might add).  Time for me to stop laughing.</p>

<p>My physical exhaustion is mitigated slightly by my hitting the sack last night at about 9:00 PM, but I can still feel it.  I <em>ache</em>.</p>

<P>And here's a free tip for those of you in a similar situation:  it's a <b>rotten</b> time to quit smoking.  I'm on the patch and have only had 3 cigarettes in the past 3 days, but it's rough.</p>

<p>Other random things of note:  you can never have enough tests.  Much of the acceptance testing was done by hand ("Ovid, why does the system crash when you void an item that's not on the receipt?"), but the unit tests were all done through Test::Harness and Test::MockObject.  Here's my quick hack to run all of the tests in the t/ directory (while skipping any tests listed on the command line -- I told you it was a hack :)</p>

<pre><tt>#!/usr/bin/perl -w<br>
<br>
BEGIN {<br>
&nbsp;&nbsp;chdir 't' if -d 't';<br>
}<br>
<br>
use strict;<br>
use Test::Harness;<br>
<br>
my @files = glob "*.t";<br>
my @tests;<br>
foreach my $file ( @files ) {<br>
&nbsp;&nbsp;push @tests, $file if ! grep { /\Q$file\E/ } @ARGV;<br>
}<br>
runtests( @tests );</tt></pre>

<p>And our tests all reside in the t/ directory which is in our modules directory.  Here's the top of all of our test code (written by the other programmer):</p>

<pre><tt>#!/usr/bin/perl -w<br>
<br>
BEGIN {<br>
&nbsp;&nbsp;chdir 't' if -d 't';<br>
&nbsp;&nbsp;unshift @INC, '../../';<br>
}<br>
<br>
use strict;<br>
</tt></pre>

<p>This is nifty because it allows us to test individually, through Test::Harness, skip bad tests, run from either the module or test directory, and, in short, gives us a lot of flexibility in just <em>getting tests done</em>.  All in all, I'm a convert to testing.  We never could have this done without it.</p>

<p>Sunday is zero day -- the day we have to wrap this up.  Monday, the system goes live.  Of course, maybe I should have upped my countdown by a day.  If you think of this as an "one off" error in my journal, how can you possibly expect me to get it right in my code? :)</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

