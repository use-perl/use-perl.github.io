<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: Eating your own cooking</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Eating your own cooking</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2002-11-18T19:38:41</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I would kill to get a brand-new project where I get to design everything from the ground up without worrying about refactoring legacy code.  I have been working continuously on a horrible code base, most of which I wrote a couple of years ago.  I suspect that nothing teaches about the horrors of bad design faster than being faced with your own.  After all, you know why you made the "design" decisions you made back then and you're left wanting to go back and slap some sense into yourself (which means, of course, that then you wouldn't have made those mistakes and couldn't go back to slap yourself which means you would have made ...).</p>

<p>Testing problem of the day:  generally, writing tests first is great because you can nail API problems pretty quickly.  In theory this means you can keep your pretty API and muck with the internals all you want and your code (and tests) still pass.  Legacy code, on the other hand, often has rotten APIs.  I bit the bullet and cleaned up many of them after writing the tests, but since my tests no longer match the code base, it's been tricky.  <tt>grep -r</tt> is my friend.</p>

<pre><tt>D:\perldev\********\t&gt;test_all.pl<br>
gdatabase....ok<br>
gform........ok<br>
gmodify......ok<br>
gsecurity....ok<br>
gselect......ok<br>
All tests successful.<br>
Files=5, Tests=458,  7 wallclock secs ( 0.00 cusr +  0.00 csys =  0.00 CPU)</tt></pre></p>


<hr/>



<h2>Test-After</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2002-11-18T21:19:57</h3>
<p>
One nice bit about writing tests after the fact is that it's immediately apparent what needs to be fixed: it's usually hard to test.  (The other nice bit is that you have tests.  There aren't really any other nice bits for test-after development.)
</p>



<blockquote>

<h2>Re:Test-After</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2002-11-18T22:12:53</h3>
<p>No, no... writing the tests after the fact shows you what you need to push your billing up<nobr> <wbr></nobr>... er<nobr> <wbr></nobr>... to redesign<nobr> <wbr></nobr>:)</p>

<p>As a side note, I think our experiment with XP is failing miserably.  As of this writing, I am the only programmer out of four who is bothering to write tests.  The others, while acknowledging the tests are important, don't bother with them much, if at all.  We still can't get good story cards, we have no iteration planning and we're still stuck in an ad hoc development mode.  We made a stab at XP and because we didn't seem to have enough buy-in to follow through, it's just not working.</p>

<p>I sat down the other day and told my boss that I was completely happy to scrap XP entirely<nobr> <wbr></nobr>... so long as we pick <em>some</em> project management system and actually do it.  We don't seem to understand the concept of "follow through" and as a result, we're solidly back at step 1 of the <a href="http://www.sei.cmu.edu/cmm/cmm.sum.html" title="cmu.edu">Software Capability Maturity Model</a cmu.edu>.</p>



<blockquote>

<h2>Re:Test-After</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2002-11-20T01:02:51</h3>
<p>
Unfortunately, no software development method works if you don't have people willing to follow some sort of organized method.  I second <a href="/user/ziggy" title="perl.org">ziggy</a perl.org>'s recommendation of <em>Software Craftsmanship</em>.  Quality has to come from people who intend to do quality work.  (Quality doesn't come from CMM, but that's another story!)
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

