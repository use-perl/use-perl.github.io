<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: When to go it alone.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>When to go it alone.</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2004-12-15T16:23:13</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>It was <a href="http://www.joelonsoftware.com/printerFriendly/articles/fog0000000007.html">Joel Spolsky who once penned</a> the following heresy:</p>

<blockquote>Pick your core business competencies and goals, and do those in house. If you're a software company, writing excellent code is how you're going to succeed. Go ahead and outsource the company cafeteria and the CD-ROM duplication. If you're a pharmaceutical company, write software for drug research, but don't write your own accounting package. If you're a web accounting service, write your own accounting package, but don't try to create your own magazine ads. If you have customers, never outsource customer service.</blockquote>

<p>The new build system for Bricolage is complex.  It has to be.  Bricolage is complex and frankly, many CPAN modules aren't that easy to install.  Now when you throw into the mix our dependencies on Apache, mod_perl, PostgreSQL and a few other things, the build process gets very difficult.  This is the major complaint with Bricolage.  We're trying to eliminate the complaint for the next version, but trying to write code to manage those dependencies is a nightmare, so the switch to a state machine to track the rules seemed like a good idea.</p>

<p>The we discovered the limited support for state machines in Perl.</p>

<p>If something is a widely used, well-supported module, we'll cheerfully reuse it.  It makes our life easier.  If something isn't widely used (and state machines fall in the category) but it's well tested, there's still a good chance we'll use it.  Heck, if it's not well-tested but it's too simple to fail or would be a quick rewrite, we'll still use it.  But when something is complicated, not widely used, poorly documented, central to our business needs and the test suite consists solely of one test that ensures the module loaded, I'm hard-pressed to justify using something from the CPAN.</p>

<p>Because of the problems we were having with state machines from the CPAN, <a href="http://www.justatheory.com/">Theory</a> decided to write a rules module to allow us to arbitrarily parse rules.  Hopefully it will be on the CPAN soon.  It's actually documented and has gobs of tests.  There will probably be a few changes before it's ready, but I feel much more comfortable about this code than the alternatives.  Too much is riding on it.</p>
</p>


<hr/>



<h2>how we did it</h2>
<h3><a href="/user/perrin/">perrin</a> on 2004-12-15T20:41:16</h3>
I helped out with the build process for Krang, which we are now trying to generalize for a new project called "Matchstick."  You bundle the source for apache, mod_perl, and all the modules you need, and then it does an automated build of them.  You can create a binary distribution for a specific platform from one of these builds.  If you're interested, take a look at the krang_build script in the source distribution.  It works much better than trying to download things from CPAN and avoids getting into messes with some local screwy apache build.



<blockquote>

<h2>Re:how we did it</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2004-12-15T21:30:03</h3>
<p>Thanks.  I'll check that out.  It might help.</p>





</blockquote>


<h2>What Heresy?</h2>
<h3><a href="/user/ziggy/">ziggy</a> on 2004-12-16T03:28:29</h3>
I read your quote from Joel, and I read Joel's original article.  I don't see any heresy, or contradiction of your chosen course of attack.
<p>
You are developing a product that must be installed and reinstalled all over the place.  That adds GOOBE (good out-of-box experience) to your list of things that should be your core competencies.  Whether that means you need someone who knows Ant or Make like the back of their hand, manage brittle shell scripts or you write your own FSM module, that's your call.
</p><p>
Sticking to your core competencies is about, say, not distracting your team of crack numerical methods programmers with a task to write a flight simulator.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

