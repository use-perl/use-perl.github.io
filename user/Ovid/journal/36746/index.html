<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: I Didn't Want to See That</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>I Didn't Want to See That</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2008-06-23T07:45:39</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>One thing I found unsettling was running this over our CPAN install:</p>

<pre>ack '^\s*exit\b' lib/perl5/</pre>

<p>Admittedly, many of those were false positives, but not all of them were.  This puzzles me.  Even if it's clearly documented, this is a very dangerous practice.  How do I cleanly write code for something which might call exit()?  Do I have to remember to override exit() every time?  Yuck.  What this means is that the module author has taken it upon themselves to deny me control over my use of the module.</p>

<p>That being said, exit() isn't <em>always</em> evil.  Just mostly evil.  Sometimes you need it, but programmers reach for it more than I would like.  Even if you're writing a standalone program, you usually don't need to call exit() because Perl's nice enough to pick up after itself.   If you <em>do</em> call exit(), Perl has no choice and I, as the person writing tests, am now forced to deal with that.  Yuck.</p>

<p>On another annoying note, I realized that my <a href="http://search.cpan.org/dist/App-Grepl/">grepl</a> software doesn't have a means of only searching code (it can search POD, heredocs, quoted strings and comments).  How did I manage to overlook that?</p></p>


<hr/>



<h2>P::C</h2>
<h3><a href="/user/ChrisDolan/">ChrisDolan</a> on 2008-06-24T04:57:33</h3>
<p>I just added a TODO for Perl::Critic to forbid exit() from all files that lack a shebang line.  A similar policy exists in the Java FindBugs tool, and I've found that policy useful to increase trust in library code.</p><p>Would anyone like to implement that policy?  I think it would be quite easy to do, especially given the Perl::Critic::Utils::is_script() helper method and existing example policies in Perl::Critic::Policy::BuiltinFunctions::*</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

