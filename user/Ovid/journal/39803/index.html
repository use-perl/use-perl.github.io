<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: Syntax Highlighting in Pod::Parser::Groffmom</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Syntax Highlighting in Pod::Parser::Groffmom</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2009-10-26T23:20:27</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I decided that I really needed syntax highlighting in <a href="http://github.com/Ovid/Pod-Parser-GroffMom/">Pod::Parser::Groffman</a>.  I have an example at <a href="http://www.slideshare.net/Ovid/testing-with-testclass">Testing with Test::Class</a>.  Note that the Perl examples are now colored.  It's not what everyone would like, but it works.</p>

<p>To handle syntax highlighting, you just do this:</p>

<pre> =for highlight Perl
   
  sub add {
      my ( $self, $data ) = @_;
      my $add = $self->in_list_mode ? 'add_to_list' : 'add_to_mom';
      $self->$add($data);
  }

 =end highlight</pre>

<p>This turns on syntax highlighting.  Allowable highlight types are the types allowed for <a href="http://search.cpan.org/dist/Syntax-Highlight-Engine-Kate/">Syntax::Highlight::Engine::Kate</a>.  We default to Perl, so the above can be written as:</p>

<pre> =for highlight 
   
  sub add {
      my ( $self, $data ) = @_;
      my $add = $self->in_list_mode ? 'add_to_list' : 'add_to_mom';
      $self->$add($data);
  }

 =end highlight</pre>

<p>Syntax highlighting is experimental and a bit flaky.  Some lines after comments are highlighted as comments.  Also, POD in verbatim
(indented) POD highlights incorrectly.  <tt>Common_Lisp</tt> is allegedly supported by <tt>Syntax::Highlight::Engine::Kate</tt>, but I was getting weird stack errors when I tried to highlight it.</p>

<p>Also, don't use angle brackets with quote operators like "q" or "qq".  The highlighter gets confused.  I've not filed any bug reports as I've no idea if the errors are mine or the syntax highlighting module.</p></p>


<hr/>



<h2>Don't use angle brackets?!?</h2>
<h3><a href="/user/elliot/">elliot</a> on 2009-10-27T02:13:31</h3>
<p>I'm in trouble then.  Angle brackets is about all I use nowadays.<nobr> <wbr></nobr>:]</p>



<blockquote>

<h2>Re:Don't use angle brackets?!?</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2009-10-27T06:58:34</h3>
<p>Same here.  They broke the highlighting badly, though (worse than just about anything else).  I was working fast enough to just get the highlighting in there that I wasn't try to debug the highlighter's issues.</p>





</blockquote>


<h2>=for ?</h2>
<h3><a href="/user/Matts/">Matts</a> on 2009-10-27T15:36:23</h3>
<p>Isn't that incorrect usage of =for?</p><p>I think it should be =begin.</p>



<blockquote>

<h2>Re:=for ?</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2009-10-28T07:01:14</h3>
<p>Er, yup.  You're right.  Should have caught that sooner.  Thanks<nobr> <wbr></nobr>:)</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

