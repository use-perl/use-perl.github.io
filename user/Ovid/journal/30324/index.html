<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: TAPx::Parser</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>TAPx::Parser</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2006-07-18T09:34:36</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Just to let people know that I haven't completely flaked on the TAP parser, you can download the latest version from <a href="http://users.easystreet.com/ovid/downloads/TAPx-Parser-0.03.tar.gz">my web site</a>.  The documentation for this version is minimal and is mostly present in the tests.</p>

<p>As of July 18, 2006, here's the current roadmap:</p>

<p><strong>DONE</strong>
<br/>
<ul>
  <li>'Bail out!' is now handled.</li>
  <li>The parser is now data driven, thus skipping a huge if/else chain</li>
  <li>We now track all TODOs, SKIPs, passes and fails by test number (Test::Harness currently cannot do this)</li>
  <li>Removed all non-core modules.</li>
  <li>Store original line for each TAP line.  Available through $result-&gt;raw().</li>
  <li>Renamed test is_ok() to passed() and added actual_passed().  The former method takes into account TODO tests and the latter returns the actual pass/fail status.</li>
  <li>Fixed a bug where SKIP tests would not be identified correctly.</li>
</ul>
</p>

<p><strong>TODO</strong>
<br/>
<ul>
  <li>Allow streams to be read.</li>
  <li>No more dying.  Instead, aggregate errors and count 'em.</li>
  <li>Docs!</li>
  <li>Create a separate Results.pm class?</li>
  <li>Figure out the namespace.</li>
  <li>Allow description transformations to be applied.  For example: 
<br/><pre>$description =~ s/\A\s*-\s*//; # remove leading '- '</pre></li>
</ul>
</p>
<p>It still needs a fair amount of work, though.  One problem is that it currently will probably break on VMS since that system tends to put the "not" and "ok" on separate lines.  That really shouldn't be too hard to parse, but I'll cross that bridge when I get there.</p>

<p>I'm particularly pleased about the tracking of SKIP and TODO tests.  I'm tired of seeing a message like "3 tests unexpectly succeeded" and wondering where the heck they came from.  When you have 400 tests scroll past your eyes, that can be tough to track down.</p>

<p>I also confess that I've been cribbing ideas from <a href="http://perl-qa.yi.org/index.php/TAP::Harness">TAP::Harness</a>.  Joe Bob sez "check it out".  (Of course, it's vaporware at this point) and I'm not sure I'd bet on it being done before the Perl 6 alpha, but if it is, it would be great.</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

