<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: Parrot Languages -- Prolog?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Parrot Languages -- Prolog?</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2005-05-14T20:27:06</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Today I played around a bit with the Parrot languages.  Regrettably, the documentation on them seems a bit, er, lacking.  It would be nice to find a more straightforward guide to converting simple languages.  The Scheme example seemed the most straightforward and even that has documentation errors and is incomplete.  I've read through Sugalski's <a href="http://www.onlamp.com/pub/a/onlamp/2004/04/15/parrot_compiler_construction.html">Building a Parrot Compiler</a>, but regrettably, I can't use Perl 5 to boostrap this because in Prolog, the code and the data are pretty much the same thing and the code needs to be able to parse Prolog and possibly modify itself at runtime.  Thus, I think my parser needs to be in Parrot.</p>

<p>After a bit of research, I think I've determined my main obstacle for porting <tt>AI::Prolog</tt> to Parrot.  Specifically, I can't just do a straight code transformation.  A machine must be written in Parrot and higher level "logic opcodes" must be available for a Prolog interface to call.  That, of course, is exactly how the Warren Abstract Machine does things.  I need a six-month sabbatical.  Damn.</p>

<p>In other news, sitting on my hard-drive now is a version of AI::Prolog with anonymous variables working.  Previously, you had to make up variable names for every variable, even if you didn't need it.  That's no longer a requirement.  However, it did show the parser limitations again.  I have to make things aware of their context and a recursive descent parser that inches through, one character at a time doesn't do that too well.  However, it does appear to work despite being a hack.  Internally these are regular variables but they assign unique names for you.  However, this still means the engine tries to unify them.  What I really need is an anonymous variable class which doesn't unify with anything.  That would be much cleaner and faster.</p>

<p>And what I just realized is that not only am I sitting here talking about writing a compiler for a language, I now know how to go about it, albeit clumsily.  Wow.  I feel a bit weird about that though I'm not quite sure why.</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

