<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: COBOLScript versus Perl</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>COBOLScript versus Perl</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2002-05-30T19:50:45</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Kind of an interesting fiasco.  I checked my email yesterday only to find a ton of messages for the <a href="http://www.cobolscript.com">COBOLScript</a> mailing list.  It seems that the company in question apparently signed up everyone who had ever contacted to their mailing list.  Most of the messages were for people wanting off the list.</p>

<p>So, how did I get on the list?  When I first learned about COBOLScript, I checked their site and they had some sample applications.  Since I used to be a COBOL programmer and I now do Web programming, it was a relatively easy task for me to analyze their code.</p>

<p>It's pitiful.</p>

<p>One thing that is relatively difficult to do with COBOL is dynamically manage text.  It's simply not designed for that.  Since the Web is primarily text, this is a pitiful mismatch between language and problem space.  I sent them email (which I assume is how they got my address) about some of the problems with their applications.  They never responded.  They never fixed their online demos.  Naturally, I felt that a more direct approach was called for, <a href="http://www.perlmonks.org/index.pl?node_id=135285">so I hacked their scripts</a>.  I sent them email, again, telling them the problem and how to fix it.  After a while, they got around to fixing the online demo I was messing with, but didn't bother to fix any of their other online demos.</p>

<p>Since they signed me up to their mailing list without my permission, I went ahead and sent the list a long email detailing the hack and why COBOL is such a rotten choice for Web programming.  Oddly, it appears that my email never made it to the list.  In fact, it seems that the list is shut down.</p>

<p>Choice quotes from their <a href="http://www.cobolscript.com/csfaq.htm">faq</a> (emphasis mine):</p>

<blockquote>In the case of <strong>Perl</strong> in particular, the language designers openly touted the esotericism of the language with code obfuscation contests in their official Developer's Journal. Clearly, something here was wrong.</blockquote>

<p>And later:</p>

<blockquote>Your development teams will adapt quickly to CobolScript development without the prohibitive training expenses or effort required with languages like JavaÃÂ® or <strong>Perl</strong>.</blockquote>

<p>As you can see, marketroids had fun writing this.</p></p>


<hr/>



<h2>Good for People Who Don't Want to Think</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2002-05-31T00:47:31</h3>
<p>
I mentally translate "Easy to use without training" as meaning "we've made big buttons for the easy things and have made everything else impossible.  Or at least well hidden."
That means I snicker a lot at people who say, "Windows can be just as secure as Unix, if you know how to configure it properly."
</p>



<h2>COBOL</h2>
<h3><a href="/user/TorgoX/">TorgoX</a> on 2002-05-31T00:56:35</h3>
So... what's COBOL like?  I've tried skimming a book and tutorial or two on it, but somehow the syntax is too alien to me (not "Algol-like" as they used to say), and is sort of just washed over me.  I just couldn't make sense of it.



<blockquote>

<h2>What COBOL is like</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2002-05-31T06:56:17</h3>
<p>COBOL was revolutionary for its time.  If memory serves me correctly, it was an initiative, supported by the US military (though <em>not</em> a US military initiative, despite common misperception), to develop a common language.  At the time different computers, if they had a high-level language, had a proprietary one.  Several different computer manufacturers and government agencies collaborated on a two-step program (pun not intended) to create a common programming language for businesses.  An interim language was to be created (it became COBOL) and a successor language was to follow.  The conference produced COBOL, but the successor language never followed.  Grace Hopper, widely regarded as the creator of the language, stated that if she had known that COBOL was the final product, she would have done things differently.</p>

<p>The following is necessarily a brief, and incomplete overview.  You can also read <a href="http://www.perlmonks.org/index.pl?node_id=18562" title="perlmonks.org">this</a perlmonks.org>, <a href="http://www.perlmonks.org/index.pl?node_id=18048" title="perlmonks.org">that</a perlmonks.org>, and <a href="http://www.perl.com/pub/a/2000/05/cobol.html" title="perl.com">the other thing</a perl.com>.</p>

<p>The main aim of COBOL was ease of maintainability.  Programs take much longer to write, but are (in theory), easy to maintain.  Every COBOL program has four sections, called "divisions".</p>

<ol>
  <li>IDENTIFICATION DIVISION.
    <p>Who am I? (program name, author, etc.  Largely optional)</p> </li>
  <li>ENVIRONMENT DIVISION.
    <p>Where am I?  (what files can I access, how are they formatted, etc.)</p> </li>
  <li>DATA DIVISION.
    <p>What can I play with? (declare variables)</p> </li>
  <li>PROCEDURE DIVISION.
    <p>How do I actually play? (the program)</p></li>
</ol>

<p>The main difficulty in developing programs comes from the DATA DIVISION and the  "<tt>WORKING-STORAGE SECTION.</tt>"  (See all those periods?  Yes, they are significant).  If I want, in COBOL, to develop a record describing a person and some personal information, I might do the following (formatting is funky due to the limitations of the textarea):</p>

<p> <tt>01&nbsp;&nbsp;CUSTOMER.<br>
&nbsp;&nbsp;&nbsp;&nbsp;05&nbsp;&nbsp;CUSTOMER-NAME.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;LAST-NAME PIC X(40).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;FIRST-NAME PIC X(20).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;MIDDLE-INIT PIC X(1).<br>
&nbsp;&nbsp;&nbsp;&nbsp;05&nbsp;&nbsp;TELEPHONE.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;AREA-CODE PIC 9(3).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;EXCHANGE PIC 9(3).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;NUMBER PIC 9(4).<br>
</tt> </p>

<p>Of course, I'd list more than that, but you can see how cumbersome it becomes to create an individual record.  Also, note the numbers after the <tt>PIC</tt> (picture clause).  Variables are generally fixed-width, because records in mainframe data files tended to be fixed width (that can vary, but it usually holds true) and those numbers are the number of bytes the data is.  This isn't the maximum size.  It's the size, period.  There were no newlines or carriage returns because if I am working with a file that has 80 character records, I just read in 80 characters at a time.  If I see a file that is listed as having a 133 character record, then I knew it was probably a report file because we used 132 character printers and the first character was reserved for what was known as the carriage control.</p>

<p>This allows for interesting things.  Because we have aggregate names for variables, if I have a slot on a report that is exactly 61 characters wide and named "<tt>RPT-CUSTNAME</tt>, I can do this:</p>

<p> <tt>MOVE CUSTOMER-NAME TO RPT_CUSTNAME.</tt> </p>

<p>That statement moves over the first, last, and middle initials.</p>

<p>Note some problems with the above variable declarations.  They are very inflexible.  What if I have a foreign phone number that doesn't fit the US area code, exchange, number format?  Well, if it's 10 numbers or fewer, I could fudge it:</p>

<p> <tt>MOVE FOREIGN-NUMBER TO TELEPHONE.</tt> </p>

<p>If the number has more than 10 digits, though, you're out of luck.</p>

<p>Another design goal of COBOL was to be <em>very</em> human readable:</p>

<p> <tt>DO-THIS.<br>
&nbsp;&nbsp;&nbsp;&nbsp;MOVE 2 TO VALUE.<br>
&nbsp;&nbsp;&nbsp;&nbsp;CALL DISPLAY-MY-VALUE.<br>
&nbsp;&nbsp;&nbsp;&nbsp;STOP RUN.<br>
DISPLAY-MY-VALUE.<br>
&nbsp;&nbsp;&nbsp;&nbsp;DISPLAY VALUE.<br>
</tt> </p>

<p>Anyone one, even your pointy-haired boss, should be able to figure out what that does.  Statements like</p>

<p> <tt>&nbsp;&nbsp;&nbsp;&nbsp;COMPUTE TOTAL = COST + TAX.</tt> </p>

<p>are so ridiculously easy to read that maintenance should be a snap.  Except...</p>

<p>Did you notice anything strange about the first "human readable" code snippet?  Yes, all variables are global.  Truly global.  There is no concept of namespaces or anything funky like that.  This is why conventions arise in different shops to name variables in very specific ways.  Often, the variables embed the name of the program they are in (<tt>WS-GLJ0900R-INIT-TAX</tt>) to simulate a namespace.  This ensures that a program consisting of many files linked together won't have variable collisions.</p>

<p>Other problems include file handling.  COBOL programs are typically not executed directly, but called from JCL (Job Control Language) that tells the program what files are available, what the format is, what disk space is available, etc.  As I mentioned earlier, much of this information is included in the <tt>ENVIRONMENT-DIVISION.</tt>  Thus, if you change one it's easy to forget to change the other.  Whoops!</p>

<p>One of the most difficult tasks in COBOL is munging free-form text (which is why COBOLScript is so ridiculous, given that "free-form text" is virtually a perfect description of the Web).  On one program I was working with, the programmer was trying to split apart a CSV file sent from an NT box and force those records into typical mainframe fixed-width fields.  The relevant section of code was 150 (!) lines long and broken.  I found that the programmer didn't quite know how to use COBOL's "UNSTRING" function (similar to Perl's "split") and in fixing the code, I got it down to about 80 lines.  Playing around, I got it down to 10 lines of Perl code, and that was with error checking.  That was one of the incidents that convinced me that I didn't need to be programming mainframes any more.</p>

<p>Oh, and you can obfuscate COBOL, too.  In one program, I discovered that the programmer named the variables after different types of alcohol.</p>

<p> <tt>&nbsp;&nbsp;&nbsp;&nbsp;COMPUTE MARTINI = GIN + VODKA.</tt></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

