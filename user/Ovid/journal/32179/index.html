<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: TAPx::Parser on Windows (via Andy Armstrong)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>TAPx::Parser on Windows (via Andy Armstrong)</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2007-01-17T12:15:49</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p><a href="http://search.cpan.org/user/andya/">Andy Armstrong</a> has set up a TAPx::Parser subversion repository on one of his servers and he and I are now collaborating to get it working on Windows.  Andy's already fixed one Windows bug and I've committed code to make colored test output the default unless running on Windows or not running in a terminal.</p>

<p>Andy's going to look into providing anonymous read-only access so that people can play with 'bleed' rather than me hastily uploading a new development version every few days.</p>

<p>Not only does this mean that someone familiar with Windows can look at the Windows issues, but it also means that I won't have to buy a Windows laptop (though I might do it anyway.  Someone's contacted me about an inexpensive on).</p></p>


<hr/>



<h2>Excellent work guys</h2>
<h3><a href="/user/link/">link</a> on 2007-01-18T01:43:58</h3>
I just had a look and all the tests are passing for me on windows.<br><br>If you drop the following into Color.pm it should enable color display on windows (assuming Win32::Console::ANSI is installed).<br><br>use constant IS_WIN32 =&gt; ( $^O =~<nobr> <wbr></nobr>/^(MS)?Win32$/ );<br><br>my $NO_COLOR;<br><br>BEGIN {<br>
&nbsp; &nbsp; &nbsp; &nbsp; $NO_COLOR = 0;<br>
&nbsp; &nbsp; &nbsp; &nbsp; if( IS_WIN32 ) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; eval 'use Win32::Console::ANSI;use Term::ANSIColor';<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $NO_COLOR = $@ if $@;<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; else {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; eval 'use Term::ANSIColor';<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $NO_COLOR = $@ if $@;<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>}



<blockquote>

<h2>Re:Excellent work guys</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2007-01-18T07:30:02</h3>
<p>That would certainly be a nice bonus for Windows users.  Are you sure that <tt>$^O</tt> sometimes returns <tt>MSWin32</tt>?  I thought it was always <tt>Win32</tt>.  If this is documented somewhere, I'd love to read that.</p>



<blockquote>

<h2>Re:Excellent work guys</h2>
<h3><a href="/user/link/">link</a> on 2007-01-18T11:36:48</h3>
I'm not really sure. Tbh I just copied and pasted it from else where (Perl.pm and Source.pm)<br><br>My activestate perl does.<br><br>G:\Documents and Settings\link&gt;perl -e"print $^O . \"\n\";"<br>MSWin32<br><br>As for docs , perldoc perlvar says<br><br>In Windows platforms, $^O is not very helpful: since it is always MSWin32 , it doesn't tell the difference between 95/98/ME/NT/2000/XP/CE/.NET. Use Win32::GetOSName() or Win32::GetOSVersion() (see Win32 and perlport) to distinguish between the variants.



<blockquote>

<h2>Re:Excellent work guys</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2007-01-18T11:48:23</h3>
<p>Thanks.  By the way, your one-liner can be simplified with the 'l' (el) switch which forces a newline after every print:</p> <p><blockquote> <div><tt>perl -le "print $^O"</tt></div> </blockquote>  <p>That's very handy when I'm writing quick utilities.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

