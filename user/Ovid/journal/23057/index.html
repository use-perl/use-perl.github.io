<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Ovid: Java Hell</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Java Hell</h1>
<h2><a href="/user/Ovid/">Ovid</a> on 2005-02-07T05:24:41</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I am convinced porting code from Java to Perl is generally easier than the other way around.  I pity the Java programmer who is forced to go from Perl's richness of expression to a carefully constructed language that smacks your hand if you even look at it funny.</p>

<p>And I should add that I finally got the Java code to compile.  I feel like an idiot at my silly brain cramp.  My utility script was doing <tt>javac XProlog.java</tt> instead of <tt>javac *java</tt>.  Talk about a newbie error.  However, this now means that I'll be able to modify the Java to my heart's content and trace its execution.  This should put me back on track.  In fact, it might even allow me to do a proper port without the compiler compiler.  Hmm ...</p>

<p>I'm also better appreciating the XProlog internals.  WProlog doesn't quite follow the WAM standard (as I understand it) of using <tt>$functor/$arity</tt> for keys identifying predicates.  Instead, it uses <tt>$functor/$arity-$clausenum</tt>.  This is wasteful of memory in the database hash because we now have separate entries foreach clause:</p>

<pre>owns(merlyn,gold). % owns/2-1
owns(ovid,rubies). % owns/2-2</pre>

<p>If the functor <tt>owns</tt> is reused many times, that's a lot of hash entries.  In XProlog, those each get entered as a clause in the database under the <tt>owns/2</tt> key.  Unfortunately, making that conversion in the code caused a deep recursion error on even simple predicates.  I'll figure it out, but tomorrow work calls.  I probably won't be able to touch it again until next weekend.</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

