<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Mark Leighton Fisher: Nagios:  Network Monitoring on the Cheap</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Nagios:  Network Monitoring on the Cheap</h1>
<h2><a href="/user/Mark Leighton Fisher/">Mark Leighton Fisher</a> on 2006-01-27T19:11:55</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Network monitoring is like doing your income tax early
&ndash; a practice more often honored than observed in real life.
It doesn't help that commercial solutions cost 1-2 orders
of magnitude more than Windows or Office (the
software packages most PC users work with).
Even large businesses like their software budgets to buy
more than one item per department for the entire year.</p>
<p><a href="http://www.nagios.org">Nagios is an Open Source network monitoring system</a>
where all of the code that interacts with the network
is implemented as plug-ins.  Many of these plug-ins
accept a large number of options that can be set in the
Nagios configuration files.  This gives you tremendous
flexibility in configuring your network monitoring,
particularly because of how easy it is to write a basic
plug-in (including in Perl, as you might expect).</p>
<p>Hosts in Nagios usually correspond to a single IP
address, although DNS names can be used for hosts at the risk of
totally losing track of a host's status when DNS goes down
(as it did to me this week).
Hostgroups are named groups of hosts (as you would expect).
Each host is expected to be a member of one or more
hostgroups.</p>
<p>Services are what the ordinary user sees when they access a
host &ndash; HTTP, SMTP, SSH, etc.  Services are what people
normally keep track of in Nagios.  Behind the scenes, Nagios
uses ping (by default) to track whether
hosts are up or down.</p>
<p>Nagios comes with a whole host of plug-ins for various
services &ndash; not only the more common base services like
ping, SMTP, HTTP, HTTPS, FTP, SNMP, etc.
but also Oracle, PostgreSQL, FlexLM, etc.
There are also plug-ins for tracking system-local information
like disk space, #processes, etc. as well as a few
plug-ins to track system-local information remotely.
Plug-ins are relatively easy to write &ndash;
if I recall correctly, I once wrote a specialty plugin for
tracking whether a database-driven website was functioning properly
in a couple of hours with Perl (no surprises there...)</p>
<p>The "people" Nagios knows about
are known as contacts, which have properties like names,
email addresses, pager numbers, etc.  Contacts are grouped
into contactgroups, which helps in larger installations
as the Linux server admins may not be the Windows server
admins who probably are not the mainframe admins.
Also, contactgroups are who will be
sent an alert when a service or host has
a problem.</p>
<p>Alerts can be sent by email or pager out of the box.
Alerts are implemented by external commands,
so you could wire up an X10 driven by Nagios
 to a big flashing light
in the Engineering Department if they requested.</p>
<p>Once you learn the basic format of
Nagios configuration files, it is relatively easy
to set up.  I once set up 12 services on
3 computers in an hour.</p>
<p>One advanced feature is dependencies, which allows you
to specify which systems depend on each other.
I have not needed this, but someone running a
commercial Internet site might find it
handy (think "lots and lots of routers along the way...").</p>
<p>Although there is a lot more to Nagios than
I have covered here, Nagios is pretty simple to
set up considering the amount of power and
flexibility Nagios provides.
(Yes, I am sold on Nagios.)
As a part-time system administrator
(my full-time gigs have been mainly
software engineering work for 19 years now),
the biggest share of my Nagios setup time has
just been getting the names and IP addresses
of the systems I need to monitor
&ndash; Nagios configuration has been quick
once I had all that information together.</p>
<p>Even if you are a developer whose applications
just consume distributed computing resources
(like an electronic CAD app that runs on HP-UX,
accesses Oracle on AIX and SAP on a mainframe,
with clients on Windows PCs) I think (IMHO)
that you will find learning about Nagios to be
time well spent.</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

