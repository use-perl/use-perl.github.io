<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Mark Leighton Fisher: Regular Expression Matching Can Be Simple And Fast</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Regular Expression Matching Can Be Simple And Fast</h1>
<h2><a href="/user/Mark Leighton Fisher/">Mark Leighton Fisher</a> on 2008-01-11T17:06:26</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p><a href="http://swtch.com/user/rsc/regexp/regexp1.html">Regular Expression Matching Can Be Simple And Fast</a> is worth a look. <a href="http://search.cpan.org/dist/re-Engine-Plan9/">re::engine::Plan9</a> should let you test this approach.</p></p>


<hr/>



<h2>Dang, I wish I knew this a few years ago</h2>
<h3><a href="/user/btilly/">btilly</a> on 2008-01-12T16:06:42</h3>
I figured it out on my own and thought I had figured out something new.



<h2>It's a very nice article</h2>
<h3><a href="/user/bart/">bart</a> on 2008-01-14T08:58:03</h3>
... but I wish their conclusion wasn't so bozo:<p><blockquote><div>Regular expression matching can be simple and fast, using finite automata-based techniques that have been known for decades. In contrast, Perl, PCRE, Python, Ruby, Java, and many other languages have regular expression implementations based on recursive backtracking that are simple but can be excruciatingly slow.</div></blockquote><nobr> <wbr></nobr><em>... for pathetic expressions!</em>
<p>We're indeed talking about the regular expression<nobr> <wbr></nobr><code>/a?a?a?aaa/</code> which no experienced Perl code would ever use in real code.
</p><p>Rewrite it, for example, as</p><p><blockquote><div><nobr> <wbr></nobr><tt>/(?:a(?:a(?:a)?)?)?aaa/</tt></div> </blockquote> and try again. (Caveat: I haven't benchmarked it myself.)
<p>The problem isn't as much of a problem as these guys want to make you believe.</p>



<blockquote>

<h2>Re:It's a very nice article</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2008-01-14T20:16:50</h3>
<p><blockquote> <div><p>Rewrite it, for example, as</p> <p><blockquote><div><nobr> <wbr></nobr><tt>/(?:a(?:a(?:a)?)?)?aaa/</tt></div> </blockquote></div>  </blockquote>

<p>Err, come again? Surely you mean &#8220;<code>/a{3,6}/</code>&#8221;?</p>



<blockquote>

<h2>Re:It's a very nice article</h2>
<h3><a href="/user/bart/">bart</a> on 2008-01-15T20:19:38</h3>
Even better.<nobr> <wbr></nobr>:)
<p>I'm just saying that every pathetic regexp can most likely be rewritten into something that is not pathetic witout much trouble &mdash; and possibly even be optimized.</p>





</blockquote>

</blockquote>


<h2>Rewriting Regexes</h2>
<h3><a href="/user/Mark Leighton Fisher/">Mark Leighton Fisher</a> on 2008-01-18T17:39:28</h3>
<p>I thought the article was important enough to post but I have to confess, I've never run into the problems shown in the article. I've even written my own (simple) regex matcher in C without running into those problems. Maybe this is an example of Jamie Zawinski's</p> <p><blockquote> <div><i>Some people, when confronted with a problem, think
&#8220;I know, I'll use regular expressions.&#8221; Now they have two problems.</i></div> </blockquote>
<p>or Abraham Maslow's:</p><p><p><blockquote> <div><i>If you only have a hammer then you treat everything like a nail.</i></div> </blockquote>
<p>Sometimes, you really <b>don't</b> want to use regexes...</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

