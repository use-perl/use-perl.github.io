<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Mark Leighton Fisher: BLOB Normal Form: BLOB and Primary Key in Their Own Table</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>BLOB Normal Form: BLOB and Primary Key in Their Own Table</h1>
<h2><a href="/user/Mark Leighton Fisher/">Mark Leighton Fisher</a> on 2006-12-29T17:57:01</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>One technique to avoid the <b>BLOB Tax</b> (poor DB performance when BLOBs are present) is to separate BLOBs into their own table, with only their primary keys to keep them company. Databases that allow per-table storage areas should particularly benefit from this technique, as it isolates the BLOB tables from the rest of the database.</p>
<p>Offhand, I think this technique should be dubbed <b>BLOB Normal Form</b>, as this technique is similar to the relational database <i>Xth Normal Form</i> schema design techniques.</p>
<p> (I think I first saw this tip in the SQL Server Central newsletter.)</p></p>


<hr/>



<h2>It's not normal form</h2>
<h3><a href="/user/autarch/">autarch</a> on 2006-12-29T22:45:17</h3>
The normal forms are all about _logical_ issues. What you're describing is purely an implementation detail of how some databases handle BLOBs, and the workaround you suggest has nothing to do with the logic of your data model.<br><br>In a better world, the DBMS engine would do this sort of thing transparently, or at least provide ways for DBAs to manually split the physical storage of tables across multiple locations.



<blockquote>

<h2>Re:It's not normal form</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2006-12-30T06:35:10</h3>
<p><div class="quote">In a better world, the DBMS engine would do this sort of thing transparently</div>  <p>Thumbs up.</p>



<h2>Re:It's not normal form</h2>
<h3><a href="/user/pudge/">pudge</a> on 2007-01-04T22:49:26</h3>
True enough.  Still, this is a Good Practice.  We do this in Slash too: the actual text of stories, comments, journals, etc. are all in their own table, with only the primary key.<br>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

