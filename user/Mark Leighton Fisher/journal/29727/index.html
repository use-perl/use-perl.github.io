<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Mark Leighton Fisher: Whose Key is It? sn.exe</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Whose Key is It? sn.exe</h1>
<h2><a href="/user/Mark Leighton Fisher/">Mark Leighton Fisher</a> on 2006-05-26T16:01:36</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>.NET uses the Strong Name tool,
<a href="http://msdn.microsoft.com/library/en-us/cptools/html/cpgrfStrongNameUtilitySNexe.asp?frame=true">sn.exe</a>,
to help authenticate assemblies. (For those of you playing the Linux home game, a .NET assembly is a self-describing shared object library, like a <b>.so</b> for object libraries.) <i>sn.exe</i> signs the assembly with the secret key of a public key cryptography pair, then embeds the public key of the pair in the assembly. This lets you verify the integrity of the assembly by verifying that the contents of the file were signed with the embedded key.</p>
<p>What good is this? Not as much as you would hope. Since you don't know for sure where the public key came from (as it just came with the assembly), it could be that some dastardly person has modified the assembly, substituting their own public key for the original public key. Without some out-of-band knowledge about where this key came from, you cannot know whether the public key in the assembly is from the original author or Mallet (the canonical bad guy in cryptography literature).</p>
<p>Using <i>sn.exe</i> protects against simple modification attacks &ndash; attacks where the signature is compromised &ndash; but does not help prevent attacks where both the assembly code and the assembly signing key is compromised. This is in contrast to cryptographic systems like
<a href="http://pgp.com/">PGP</a>/<a href="http://www.gnupg.org/">GPG</a>
 and
<a href="http://www.entrust.com/">Entrust</a>, where you have some assurances that the public key you use is actually from who you think it is from, due to the use of
<a href="http://www.cam.ac.uk.pgp.net/pgpnet/wwwkeys.html">keyservers</a>.
When you are certain that a public key belongs to who you think it does, you can then assume that the signed object was signed by who you thought it was signed by. Unfortunately, <i>sn.exe</i> can give you no such assurances.</p>
<p>The lesson we can take away from this is that (for now) <i>sn.exe</i> protects against script kiddie attacks, but does not protect against attacks by the more sophisticated malefactors.</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

