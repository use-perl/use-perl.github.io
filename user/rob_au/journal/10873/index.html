<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of rob_au: Careless module dependencies</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Careless module dependencies</h1>
<h2><a href="/user/rob_au/">rob_au</a> on 2003-03-04T03:13:31</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Whilst working with with perl 5.005.03 at the moment, I have come across an annoyance with a number of modules on CPAN.<p>
It appears that a number of modules include the <code>use 5.006</code> directive (presumably as a result of creation using <code>h2xs</code>), setting the minimum level of Perl required for execution to be 5.6, without good reason.  For the most part, the only 5.6 version specific features employed in most of these packages is the use of <code>our</code> declarations in place of <code>use vars</code> for package-wide variables.<p>
Whilst I recognise that some modules, really do depend upon version specific elements of Perl (an excellent example of this is the <code>only</code> module with its use of an object within <code>@INC</code>), I see the use of mandates for specific versions of Perl something which must be done with great care.<p>
What happened to the concept of backward-compatibility?</p>


<hr/>



<h2>Backwards compatibility</h2>
<h3><a href="/user/acme/">acme</a> on 2003-03-04T10:13:08</h3>
Well, it's a tricky subject. I don't think many people are still using <a href="http://www.astray.com/cpanstats/report.html" title="astray.com">perls</a astray.com> that old, so it's all too easy to slip in common practices. For work code, where I control the environment, I use all sorts of 5.8-isms, but I'm careful with what I release to CPAN. However, if the patches are trivial, I'm sure the authors will accept them<nobr> <wbr></nobr>;-)



<blockquote>

<h2>Re:Backwards compatibility</h2>
<h3><a href="/user/ajtaylor/">ajtaylor</a> on 2003-03-04T15:44:29</h3>
I'd have to disagree.<nobr> <wbr></nobr>:-) We're still running 5.005 at work, but only because a module we depend on (Apache::ePerl) wouldn't run under 5.6 and the person trying to apply the patch at the time couldn't get it to work. So we stuck with what worked. We also don't have enough tests in place yet to comfortable test everything with a newer perl.
<p>
Yes, we know we're behind the times. And for personal projects I control I use hosting services with 5.6.1. But I've also worked with a couple providers who had something REALLY ancient like 5.004.</p>





</blockquote>


<h2>Or...</h2>
<h3><a href="/user/belg4mit/">belg4mit</a> on 2003-03-04T14:17:33</h3>
On the flipside, I tend to try to want to keep backwards compatibility, but tend to write in<br>5.6 or 5.8 environments. I have no 5.005_3 around,<br>and occasionally some slightly different syntax<br>slips in that will break it. What might be nice<br>is a lint like parser that could look for known<br>non-backwards compatible constructs and alert you<br>about them, instead of requiring an author to have<br>an old binary lying around.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

