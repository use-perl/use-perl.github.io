<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of ChrisDolan: CGI-Compress-Gzip v0.23: 5 year old bug fixed!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>CGI-Compress-Gzip v0.23: 5 year old bug fixed!</h1>
<h2><a href="/user/ChrisDolan/">ChrisDolan</a> on 2008-10-06T04:30:41</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>For over <b>five years</b>, I've been getting <a href="http://cpantesters.org/show/CGI-Compress-Gzip.html">smoke failure reports</a> for <a href="http://search.cpan.org/dist/CGI-Compress-Gzip/">CGI::Compress::Gzip</a>.  I've tried many times to solve this problem and have always failed to reproduce it.<br/><br/>I finally figured it out today!<br/><br/>The problem was in the test code.  The tests simulate a CGI environment by setting an envvar (HTTP_ACCEPT_ENCODING=gzip) and calling an external, very simple CGI program via backticks.  The problem is that <i>some smoke systems don't pass envvars</i> (probably due to taint).  So, the CGI always ran in non-gzip mode.  The fix was simple.<br/><br/>Even though this test failure was spurious and was never reported by anyone except a smoke tester, I'm relieved to have fixed it finally.  As always, I'm grateful for the patience and persistence of the smoke testing community!  Perl would be nothing without its CPAN support community.<br/><br/>If this new release is good with the smoke testers, I'm going to push out a 1.00 release at long last.<br/><br/></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

