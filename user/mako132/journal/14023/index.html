<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of mako132: Chomping at the bit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Chomping at the bit</h1>
<h2><a href="/user/mako132/">mako132</a> on 2003-08-09T22:47:49</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I have all these ideas for testing, but I can't access the machines from home - they're all behind the firewall, and we can't get VPN working for us Mac OS X folks.  I'll probably end up ssh-tunnelling for my Unix systems, but I need to figure out a way of getting Windows Terminal Services work through an ssh tunnel.
</p>


<hr/>



<h2>SSH Port Forwarding to the rescue (maybe)</h2>
<h3><a href="/user/Dom2/">Dom2</a> on 2003-08-10T09:25:35</h3>
If windows terminal service uses TCP connections from client to server in the usual manner, then you can probably get away with using ssh port forwarding.  Assuming (I don't know it should be) that terminal services lives on port 9876, the command would be:<blockquote><div> <tt>ssh -L 9876:windowshost:9876 unixhost</tt> </div></blockquote> <p>Then, you just point your terminal services client at localhost:9876 and it should "just work" whilst the ssh connection is up.

</p><p>Note that if you want to connect to the machine doing the port forwarding from somewhere other than "localhost", you'll have to add a -g flag.

</p><p>If the terminal services server makes a connection back to the client, you'll have to fiddle around with the -R option, but that's pretty unlikely.

</p><p>If TS uses UDP, then you're outta luck.  Sorry. (unless anybody else knows how to forward udp over ssh?)

</p><p>I use this technique to gain access to work's HTTP proxy, so I can view all the internal sites from home.  Works like a champ!

</p><p>-Dom</p>



<h2>It works</h2>
<h3><a href="/user/jhorwitz/">jhorwitz</a> on 2003-08-10T14:36:16</h3>
You're in luck -- terminal services uses TCP port 3389.  I use SSH to tunnel it all the time.  However, the remote desktop client shipped with XP doesn't want to connect to localhost (at least on my machines), so use the Win2K version if you're on XP and you have access to it.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

