<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of mpeters: [Smolder Grant Update] XML = TAP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>[Smolder Grant Update] XML = TAP</h1>
<h2><a href="/user/mpeters/">mpeters</a> on 2007-04-23T13:50:28</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>
After battling some sickness and a little bit
of yak shaving, I've finally started work on my <a
href="http://news.perl-foundation.org/2007/04/new_grant_awards.html">grant
for smolder</a>.
</p>
<p>
The first deliverable is to replace the custom XML schema that I used
(which was based on the internal representation of a test run used by  <a
href="http://search.cpan.org/user/nuffin/Test-TAP-Model-0.09/lib/Test/TAP/Model.pm">Test::TAP::Model</a>.
I know, I know... this was a really bad thing to do, but so it goes (and
yes, Test::TAP::Model has changed their internal representation). I
want to replace the XML with straight TAP, but there are a few
complications. TAP doesn't currently support multiple files. Each TAP
"stream" correlates to one test file and the harness keeps track of the
results to show the viewer at the end. Since I want smolder users to
upload 1 file per test run I need something to contain them. I could
wrap all those TAP streams in some container format (YAML, JSON) but
then I'm no better of than the XML route I currently have.
</p>

<p>
So I've decided that smolder will take a simple archive file (tar/tar.gz
initially) which contains the various TAP files. Since we sometimes
want metrics like "How long did this test run take" or "What order
where these files run in" (since it doesn't have to be alphabetical)
then there will also be an optional YAML (or JSON I haven't decided)
file in there with this meta information.
</p>

<p>
So the first step was ripping out all the XML stuff currently in Smolder
and it's reliance on Test::TAP::Model and friends. Then to replace it
with a TAP parser (using <a href="http://search.cpan.org/user/andya/TAP-Parser-0.51/lib/TAP/Parser.pm">TAP::Parser</a>).
This is currently about half way done, and I hope to find the time to
finish it this week.
</p>
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

