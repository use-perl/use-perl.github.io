<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of gav: sprintf oddness</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>sprintf oddness</h1>
<h2><a href="/user/gav/">gav</a> on 2004-09-17T20:03:20</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I've found this odd thing with <a href="http://www.perldoc.com/perl5.6.1/pod/func/sprintf.html">sprintf</a>, probably to do with it's prototype.</p>
<p>I would have thought that <tt>sprintf @list</tt> would do the same as <tt>sprint shift @list, @list</tt>, but it's doesn't. The former will return the number of elements in @list.</p>
</p>


<hr/>



<h2>It's in the docs</h2>
<h3><a href="/user/davorg/">davorg</a> on 2004-09-17T20:15:23</h3>
<p>From "perldoc -f sprintf":</p>
<blockquote><div>Unlike "printf", "sprintf" does not do what you probably mean when you pass it an array as your first argument. The array is given scalar context, and instead of using the 0th element of               the array as the format, Perl will use the count of elements in the array as the format, which is almost never useful.</div></blockquote>



<blockquote>

<h2>Re:It's in the docs</h2>
<h3><a href="/user/Mr. Muskrat/">Mr. Muskrat</a> on 2004-09-17T20:43:08</h3>
<p>"Perl will use the count of elements in the array as the format, which is almost never useful."</p>
<p>When would that be useful?  I can't think of a single case.</p>



<blockquote>

<h2>Re:It's in the docs</h2>
<h3><a href="/user/vsergu/">vsergu</a> on 2004-09-17T21:31:48</h3>
To solve some bizarre problem on Fun With Perl?





</blockquote>


<h2>Re:It's in the docs</h2>
<h3><a href="/user/gav/">gav</a> on 2004-09-17T23:26:53</h3>
Doh! I feel like a moron for looking up the docs for sprintf and not noticing that.
<p>
It's a good example of getting bitten by an unexpected prototype though...</p>



<h2>Hysterical Raisins</h2>
<h3><a href="/user/schwern/">schwern</a> on 2004-09-18T01:40:45</h3>
I suspect printf and sprintf behave differently because of print/printf's non-standard prototype.  sprintf is $@, as it should be.  printf should also be $@ except for the filehandle oddity that can't be expressed in prototypes.  It could probably be fixed these days but then the Backwards Compatibility Police will come in the night and rearrange your furniture.<br> <br>Another "print sprintf" vs "printf" surprise I noticed a while ago: printf doesn't honor $\.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

