<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of gav: HTTP woes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>HTTP woes</h1>
<h2><a href="/user/gav/">gav</a> on 2003-10-16T03:43:28</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>It seems that neither LWP or <a href="http://curl.haxx.se/">Curl</a> want to talk to Capital One's <a href="https://service.capitalone.com/oas/login.do">online service</a>. They claim:</p>
<ul>
<li>You are using Netscape 4.0 through 4.07, which we cannot support for online account transactions due to security reasons.</li>
<li>You are using a browser that is incompatible with our Online Account Services system. We suggest Netscape version 4.08 or higher or Internet Explorer version 4.0 or higher. For Macintosh users, we suggest Internet Explorer version 4.5 or higher.</li>
<li>Your browser does not support 128-bit encryption.</li>
</ul>
<p>I'm spoofing an IE 6 user agent string, so I'm guessing it's the 128-bit issue. Comparing the differences in <tt>%ENV</tt> between IE and LWP the only thing that stands out is that for LWP it sets SSL_CIPHER_ALGKEYSIZE=168, SSL_PROTOCOL=TLSv1, and SSL_CIPHER=EDH-RSA-DES-CBC3-SHA; IE sends  SSL_CIPHER_ALGKEYSIZE=128, SSL_PROTOCOL=SSLv3, and SSL_CIPHER=RC4-MD5.</p> 
<p>Does anyone know how to work around this?</p></p>


<hr/>



<h2>Agent strings</h2>
<h3><a href="/user/petdance/">petdance</a> on 2003-10-16T14:04:17</h3>
I don't have a solution for your problem, but do want to point out that WWW::Mechanize has 6 different aliases you can use, like<blockquote><div> <tt>$mech-&gt;agent_alias( 'Windows IE 6' );</tt> </div></blockquote>which sets the user agent to "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)".





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

