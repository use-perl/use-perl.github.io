<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Whammo: Numerary</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Numerary</h1>
<h2><a href="/user/Whammo/">Whammo</a> on 2002-01-10T03:17:38</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><BLOCKQUOTE><I>
"And so you've got thirteen tens<BR>
And you take away seven and that leaves five...<BR>
Well, six actually<BR>
The idea is the important thing"<BR></I>
-- Tom Lehrer
</BLOCKQUOTE><br/><br/><P>Numbers.  They've been on my mind recently, so I'm going
to share some numbers with you.</P><br/><br/><P>I'll start with 
<A HREF="http://slashdot.org/article.pl?sid=02/01/01/2145259&mode=thread">domain speculation</A>, which the astute reader will quickly recognize as not being numerical.
As anyone who orders pizza a lot knows, national chains tend to
acquire similar phone numbers for their franchises.  
<A HREF="www.dominos.com">Domino's</A>, for instance, migrates
towards '3' and '0'.  (Although I thought it used to be '4' and '5', I'm guessing
'3' is for the number of pips on the domino.)
<A HREF="www.papajohns.com">Papa John's</A>, on the other hand,
tends towards '7' and '2' (-7272 being ideal, since it spells 'PAPA').</P><br/><br/><P>If you're in a community served by both chains, and have more than 
one prefix, try calling one of the numbers with another prefix.  
In more than one town I've lived in, a call to the local Papa John's number, but on the alternate prefix, has been answered 
by a Domino's who doesn't advertise that number.</P><br/><br/><P>I bring this up because my coworker in the cube across the
aisle has -6660 as an extension.  It was originally supposed to
be mine, and I was quite disappointed (for the obvious evility rationale) when the installers got them
backwards in the phone closet.  But did I bathe in relief once we
discovered how many folks cannot dial a phone number properly.  
The corporate help desk - the central number for <I>all</I> internal support,
from "I can't log in" to "There's not enough toilet paper in the bathroom" - is
on -6600, and the phone rings constantly.</P><br/><br/><P>Of course, the number six reminds me of another set of numbers
that have no apparent value whatsoever.  I stumbled upon
these numbers about twelve years ago, in a math seminar.  
The gimmick to these numbers - there are
two that are non-trivial - is that multiplying a number that ends in a particular string of
digits by another number that ends with the same string of digits yields
a product that ends in the same string of digits.  6 x 6 = 3<I>6</I>.  
76 x 76 = 57<I>76</I>.  The proof, and determination of these
numbers, are rather trivial, and I had, at some point, calculated them
to a couple hundred thousand digits.  What I want to know, do these
otherwise useless numbers have a name?</P><br/><br/><P>I'm playing around with a different set of numbers tonight, in
an attempt to quantify the 
<A HREF="http://use.perl.org/journal.pl?op=display&uid=2555&id=1944">
quality</A> of Vorbis and MP3.  Of course, both of these techniques
convert back to linear PCM, so any quantificaton would ultimately lay with
the quality of the DAC used to produce the sound.  That requires a lot
more mathematical modelling than I'm willing to do, and still only
indirectly measures the quality of the compression.  So I elected to
compute a relative scale, using the quality of the linear PCM as the baseline,
rather than any original signal.  This means my tests can roughly be
reduced to a WAV to format to WAV conversion, with a comparison of
the audio data before and after.  Of course, the question then becomes 
how to you quantify error in linear PCM, for which I couldn't come up
with a good answer.  So I, in the traditional fashion, wagged it.  Assuming
the compression techniques would attempt to recreate the data, I meausred 
averaged first- and second-order deltas in the signal data - a compromise 
between accuracy and precision.  Nowhere close to perfect, 
but enough, I hoped, to allow relative comparisons.</P><br/><br/><P>I did Ogg Vorbis, WMA, and both LAME and Fraunhofer-encoded MP3, at 
a variety of bitrates.  I had to throw out 64 kbps Fraunhofer MP3, because it
couldn't sample at 44,100 Hz.  I defined my upper bound to be the
results returned from randonly-generated white-noise.  Upon doing the
dual conversions, I knew I was already in trouble.  Given that a WAV linear PCM file 
is a fixed-width/fixed-sample encoding, <I>n</I> seconds of data will result in <I>x</I> bytes
of data.  During my previous testing, Vorbis was able to reconstruct
the exact number of bytes as the original sample, so I assumed that all encodings
would.  (After all, they <I>should</I>.)  WMA at 64 kbps was just short, which I 
surmised was simply a lack of data to complete the last samples accurately.  MP3s, though,
were all over the place - short and long - and I was concerned that
I was going to have some form of phase shifting that my linear comparisons
weren't going to be able to handle.  Sure enough, it looks like MP3 makes no attempt to reconstruct the
original data, but simply attempts to reconstruct the original sound, which, as I stated
above, I wasn't going to measure.  So much for a meaningful comparison, then.  (Quantitatively, not only 
did MP3s score practically the same at all bitrates with both codecs, but they scored the same as a <I>completely
different song</I> with the same structure.  Still, this means if you're looking for quality of recovery,
vice quality of reproduction, MP3s may not be for you.)</P><br/><br/><P>Here are the numbers I got.  Remember, these are simply
relative measures.  Low is good.  High is bad.</P>
<UL>
<LI>Original data, no conversion - 0</LI>
<LI>Vorbis, 320 kbps - 1 </LI>
<LI>WMA, 192 kbps - 5</LI>
<LI>WMA, 128 kbps - 14</LI>
<LI>Vorbis, 128 kbps - 43</LI>
<LI>WMA, 64 kbps - 68</LI>
<LI>Vorbis, 64 kbps - 235</LI>
<LI>Fraunhofer MP3, 128 kbps - 13,344</LI>
<LI>Fraunhofer MP3, 320 kbps - 13,378</LI>
<LI>Fraunhofer MP3, 96 kbps - 13,448</LI>
<LI>Different song, no conversion - 14,726</LI>
<LI>LAME MP3, 64 kbps - 16,347</LI>
<LI>LAME MP3, 128 kbps - 16,479</LI>
<LI>LAME MP3, 320 kbps - 16,599</LI>
<LI>Random white-noise, no conversion - 186,116</LI>
</UL><br/><br/><P>Local news is reporting over 700 traffic accidents today,
due to the freezing rain that poured in and promptly froze.  How
I love life in the ice belt.  I think, for safety's sake, I'll forgo
ordering that pizza.</P></p>


<hr/>



<h2>Calling Names</h2>
<h3><a href="/user/chaoticset/">chaoticset</a> on 2002-01-10T05:57:27</h3>
Probably they do; I forget what the name of the numbers was, but some mathematician or other noticed that his brother-in-law's phone number had some sort of property or other, and *named numbers with that property after his brother-in-law*.
<p>
Just goes to show:  You want to be immortal in mathematics, marry into the field.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

