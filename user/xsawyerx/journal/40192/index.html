<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of xsawyerx: Midway Culmination</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Midway Culmination</h1>
<h2><a href="/user/xsawyerx/">xsawyerx</a> on 2010-02-18T10:27:19</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p><address>original post can be found on my <a href="http://blogs.perl.org/users/sawyer_x/">blog</a>.</address></p>

<p>Recently I started a new project at $work in which I'm using a lot of cool projects (<a href="http://search.cpan.org/perldoc?DBIx::Class">DBIx::Class</a>, <a href="http://www.iinteractive.com/kiokudb/">KiokuDB</a>, <a href="http://search.cpan.org/perldoc?Search::GIN">Search::GIN</a>, <a href="http://search.cpan.org/perldoc?POE">POE</a> and <a href="http://dancer.sukria.net/">Dancer</a> to name a few) and it involved a lot of layers so I wanted to do this one <em>just right</em>.</p>

<p>I finally started using KiokuDB and it went relatively easy, though Search::GIN is still lacking (and 0.4 still hasn't been released to CPAN, so I'm relying on the code on Github). It's amazing how easily I can write tests with KiokuDB and plug my stuff in and out. Sometimes, I have a hard time realizing it's that simple.</p>

<p>I finally started using DBIx::Class <em>correctly</em>. Up until now, I just used it to hook up to SQLite/MySQL database tables I've previously created. Now I actually use <em>deploy()</em>. I've also created a full schema detail, which is something I hardly ever do. When I just started using DBIx::Class, I had a hard time going over the docs. I asked for help more than once. However, this time the documentation was a breeze, fun to read, easy to understand and I only spent a few minutes doing <strong>everything</strong> I needed. Either the docs are much better, or I'm smarter. Either way, WIN! :)</p>

<p>Dancer is improving rapidly. I'll be releasing <a href="http://search.cpan.org/perldoc?Dancer::Template::Tiny">Dancer::Template::Tiny</a> soon enough, and the core is pushing more changes every day, thanks to <a href="http://blogs.perl.org/users/david_precious/2010/02/dancer-web-framework-1150-released.html">hard-working co-developers</a> and a steady hand at the wheel.</p>

<p>Last two days, however, I spent on a bug in <a href="http://search.cpan.org/perldoc?POE::Component::Generic">POE::Component::Generic</a>. Apparently, when wrapping <a href="http://search.cpan.org/perldoc?Net::OpenSSH">Net::OpenSSH</a>, some methods lead to an infinite hang. Net::OpenSSH does a lot of stream magic with stdin/stdout/stderr, and might be causing this, but I'm not sure. It could also be a reference leak. Using the <em>async</em> mode directly with POE::Kernel works, but gives a "connection closed" message. I've opened ticket #54744.</p>

<p>Yesterday I've had Nicholas Perez and Rocco Caputo help me with debugging this. I'd like extend my gratitude, this isn't the first (or even second) occasion they've helped me with POE-related problems and they put time and effort into explaining things or helping with stuff, which I <strong>really</strong> appreciate. Thanks guys, you rock.</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

