<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of schwern: I need a module name.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>I need a module name.</h1>
<h2><a href="/user/schwern/">schwern</a> on 2005-10-10T11:17:18</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Its simple.  A module which <b>turns every warning and death into a Carp::confess/cluck style stack trace</b>.  Everything, <b>even if the warning or error is generated by Perl.</b>  I also want to <b>see function arguments in the stack trace</b>, extremely useful information, which is where all the other Java-esque stack trace modules on CPAN come up short.<br/><br/>I know how to implement it, just a little CORE::GLOBAL and $SIG{__FOO__} magic and let Carp::longmess() take care of the rest.  What I don't have is a name.  My working title at the moment is Carp::Everywhere.  Got a better one?<br/><br/>(Someone please let me know if this module already exists, I don't need to maintain another.)</p>


<hr/>



<h2>Acme strikes again!</h2>
<h3><a href="/user/barbie/">barbie</a> on 2005-10-10T11:37:08</h3>
<p>Would you be thinking of <a href="http://search.cpan.org/dist/Acme-JavaTrace/lib/Acme/JavaTrace.pm" title="cpan.org">Acme::JavaTrace</a cpan.org> by any chance? I've never used it myself, but saw a good lightning talk about it at Belfast last year.</p>



<blockquote>

<h2>Re:Acme strikes again!</h2>
<h3><a href="/user/schwern/">schwern</a> on 2005-10-10T23:08:10</h3>
It does not show the function arguments.





</blockquote>


<h2>Devel::StackTrace?</h2>
<h3><a href="/user/nothingmuch/">nothingmuch</a> on 2005-10-10T11:46:35</h3>
<a href="http://search.cpan.org/user/drolsky/Devel-StackTrace-1.12/lib/Devel/StackTrace.pm" title="cpan.org">http://search.cpan.org/user/drolsky/Devel-StackTrace-1.12/lib/Devel/StackTrace.pm</a cpan.org>



<blockquote>

<h2>Re:Devel::StackTrace?</h2>
<h3><a href="/user/nothingmuch/">nothingmuch</a> on 2005-10-10T12:19:13</h3>
Sorry, I confused myself, I meant <a href="http://search.cpan.org/user/saper/Devel-SimpleTrace-0.06/lib/Devel/SimpleTrace.pm" title="cpan.org">Devel::SimpleTrace</a cpan.org> <blockquote> <div><tt>perl -MDevel::SimpleTrace&nbsp; -e 'sub foo { die }; foo()'<br>Died<br>&nbsp; &nbsp; &nbsp; &nbsp; at main::foo(-e:1)<br>&nbsp; &nbsp; &nbsp; &nbsp; at main::(-e:1)</tt></div> </blockquote>



<blockquote>

<h2>Re:Devel::StackTrace?</h2>
<h3><a href="/user/grinder/">grinder</a> on 2005-10-10T15:25:50</h3>
<p>That doesn't display the arguments passed to the functions in the caller stack.</p>

<p>Devel::TraceSubs comes closer, but it gets confused if you do odd things with @_. I have a couple of bugs (13287 and 13302) on the issue. I've been trying to find the time to patch it but so far unsuccessful.</p>





</blockquote>

</blockquote>


<h2>funny name</h2>
<h3><a href="/user/uwevoelker/">uwevoelker</a> on 2005-10-10T13:21:25</h3>
I would call it Carp::Enter<nobr> <wbr></nobr>:-)



<h2>What about Carp::Indeed ?</h2>
<h3><a href="/user/ferreira/">ferreira</a> on 2005-10-10T13:22:27</h3>
I wrote such a module recently. I've called it <tt>Carp::Indeed</tt> and it uses <tt>import()&gt; with <tt>CORE::GLOBAL::die()</tt> and <tt>CORE::GLOBAL::warn()</tt> to make it work. To be really honest, this current implementation does not work all the time. I thought about changing the implementation to use <tt>$SIG{__FOO__}</tt> stuff (which is probably even shorter than the current one - around ten lines of code), but I didn't made the time for this yet. <tt>Acme::JavaTrace</tt> inspired me.</tt>



<blockquote>

<h2>Carp::Indeed 0.03</h2>
<h3><a href="/user/ferreira/">ferreira</a> on 2005-10-10T17:14:08</h3>
I've just uploaded to CPAN the release 0.03 which does right a couple of things:<blockquote> <div><tt>$ perl -MCarp::Indeed -e "sub f { die 'horrible death' }; f('a')"<br>horrible death at -e line 1<br>&nbsp; &nbsp; &nbsp; &nbsp; main::f('a') called at -e line 1</tt></div> </blockquote> <blockquote> <div><tt>$ perl -MCarp::Indeed -e "sub f { use strict; my $a; my @a = @$a }; f('a')"<br>Can't use an undefined value as an ARRAY reference at -e line 1<br>&nbsp; &nbsp; &nbsp; &nbsp; main::f('a') called at -e line 1</tt></div> </blockquote>It is not as robust as it should yet, but better. Thanks, Schwern, for reassuring me that longmess() and $SIG{__FOO__} would be good starting points.



<blockquote>

<h2>Re:Carp::Indeed 0.03</h2>
<h3><a href="/user/schwern/">schwern</a> on 2005-10-10T23:13:02</h3>
Carp::Indeed 0.03 is indeed doing almost exactly what I want in almost exactly the way I'd written it.  Thank you.<br><br>Except the name stinks, why did you choose that name?  And the documentation is rather ranty... but that's fixable.



<blockquote>

<h2>Re: Carp::Indeed 0.03</h2>
<h3><a href="/user/ferreira/">ferreira</a> on 2005-10-11T11:25:42</h3>
He he he. Well, from my non-native English speaker viewpoint, I even thought it was a good name. Yes, the documentation can be pruned down to a description up to the point. I will work on this. But wrt the name, I don't have a clue for a good name (as you noticed).



<blockquote>

<h2>Re: Carp::Indeed 0.03</h2>
<h3><a href="/user/grinder/">grinder</a> on 2005-10-13T13:20:55</h3>
<p>Carp::StackTrace would be a good name then. One would already have a pretty good idea what the module does, without opening the documentation.</p>



<blockquote>

<h2>Re: Carp::Indeed 0.03</h2>
<h3><a href="/user/schwern/">schwern</a> on 2005-10-14T23:11:24</h3>
Not a very good name if you ask me.  The important thing isn't that it allows you to make stack traces, Carp already does that.  Its that it allows you to make stack traces <i>everywhere</i>!  This is why Carp::Everywhere appeals to me.



<blockquote>

<h2>Re: Carp::Indeed 0.03</h2>
<h3><a href="/user/grinder/">grinder</a> on 2005-10-15T08:55:15</h3>
<p>Oh right, I forgot that Carp could already do that. Still, I find "Everywhere" has a slightly cutesy ring to it.</p>

<ul>
<li> <tt>Carp::Detailed</tt> </li>
<li> <tt>Carp::Maximum</tt>,<nobr> <wbr></nobr><tt>::Maximally</tt> </li>
<li> <tt>Carp::Verbose</tt> </li>
</ul>

<p>Besides, the functionality you want is <tt>confess</tt>, not <tt>carp</tt>...</p>

<ul>
<li> <tt>Confess::Everything</tt> </li>
<li> <tt>Confess::Deathbed</tt> </li>
</ul>

<p>Some of my best friends are Catholics. I'll go ask them for some ideas<nobr> <wbr></nobr>:)</p>



<blockquote>

<h2>Re: Carp::Indeed 0.03</h2>
<h3><a href="/user/schwern/">schwern</a> on 2005-10-17T04:23:03</h3>
<blockquote> <div><tt>Still, I find "Everywhere" has a slightly cutesy ring to it.</tt></div> </blockquote>At what point in this conversation did we stop talking about Perl and switch to Java?<blockquote> <div><tt>Besides, the functionality you want is confess, not carp...<br>
&nbsp; <br>&nbsp; &nbsp; Confess::Everything</tt></div> </blockquote>I kinda like that one.  We can add more layers of cultural references...<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; Inquisition::Spanish<br>
&nbsp; &nbsp; &nbsp; &nbsp; Comfy::Chair<br>
&nbsp; &nbsp; &nbsp; &nbsp; Soft::Pillow<br>



<blockquote>

<h2>You're no fun anymore</h2>
<h3><a href="/user/n1vux/">n1vux</a> on 2005-10-17T20:21:24</h3>
Alas, <code>Monty::Python::Inquisition::Spanish</code> is where Guido the <a href="http://en.wikipedia.org/wiki/Magic_(Harry_Potter)#Parseltongue" title="wikipedia.org">Parselmouth</a wikipedia.org> got his inspiration for thumbscrew indentation, so we loyal camelistas can't even quote the <a href="http://www.ibras.dk/montypython/episode07.htm#1" title="ibras.dk">Camel Spotting sketch</a ibras.dk> for fear of endorsing <a href="http://en.wikipedia.org/wiki/The_Scottish_Play" title="wikipedia.org">The Other Language</a wikipedia.org>.

<p>Oh dear, I've gone and quoted it<nobr> <wbr></nobr>... I'll have to go outside and turn three times.
</p><p> <code>&lt;/JOKE&gt;</code></p>





</blockquote>

</blockquote>

</blockquote>

</blockquote>

</blockquote>

</blockquote>

</blockquote>

</blockquote>


<h2>perllexwarn's Fatal Warnings?</h2>
<h3><a href="/user/sjn/">sjn</a> on 2005-10-10T14:01:17</h3>
Would<br><br>
&nbsp; &nbsp; use warnings FATAL =&gt; qw(all);<br><br>do something useful for you?<br>



<blockquote>

<h2>Re:perllexwarn's Fatal Warnings?</h2>
<h3><a href="/user/schwern/">schwern</a> on 2005-10-10T23:06:13</h3>
<blockquote> <div><tt>$ perl -wle 'use warnings FATAL =&gt; qw(all);&nbsp; sub foo { warn "bar" }&nbsp; foo(23);'<br>bar at -e line 1.</tt></div> </blockquote>Note the remarkable lack of a stack trace.  Also, I don't want warnings to die, I just want to be able to more easily diagnose them.





</blockquote>


<h2>If you're on edev1</h2>
<h3><a href="/user/wickline/">wickline</a> on 2005-10-10T14:04:19</h3>
<blockquote> <div><tt>use lib '/home/msw';<br>use MSW::Debug::DieWithCallStack;<br>$SIG{__WARN__} = $SIG{__DIE__};</tt></div> </blockquote>That's not Rentrak code if you wanted to steal it for whatever purpose.



<h2>what about</h2>
<h3><a href="/user/hfb/">hfb</a> on 2005-10-10T21:25:38</h3>
Carp::ChickenLittle



<h2>Carp::LikeCrazy?</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2005-10-10T23:13:06</h3>
<p>Or else, I like hfb's idea.</p>



<h2>Carp::Ability</h2>
<h3><a href="/user/jmm/">jmm</a> on 2005-10-11T14:34:37</h3>
To point out the guilty party (culpability).



<h2>just a few</h2>
<h3><a href="/user/WebDragon/">WebDragon</a> on 2005-10-11T15:43:08</h3>
Carp::Tacular ?<nobr> <wbr></nobr>:)<br><br>Carp::Vomit<nobr> <wbr></nobr>:D<br>Carp::TheWhole9Yards<br><br>ok enough silliness, what about Carp::StackTrace?



<h2>how about...</h2>
<h3><a href="/user/da/">da</a> on 2005-10-11T23:38:30</h3>
Carp::More<br><br>Carpe'Diem<br><p><nobr> <wbr></nobr>:)<br><br></p>



<h2>How about ...</h2>
<h3><a href="/user/drhyde/">drhyde</a> on 2005-10-12T11:14:57</h3>
<code>Devel::Errors::WithStackTrace</code>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

