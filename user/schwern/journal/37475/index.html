<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of schwern: Small task for a Russian/Chinese/Eastern European computer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Small task for a Russian/Chinese/Eastern European computer</h1>
<h2><a href="/user/schwern/">schwern</a> on 2008-09-17T23:11:50</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I'm trying to determine if localtime() should always follow the Gregorian calendar or not.  The C99 spec is not clear on this (it's clear that gmtime() is always Gregorian) and POSIX doesn't seem to bring it up.<br/><br/>I could just change the time zone on my own machine, but I don't trust that will really give an accurate representation.  What I want is someone to run localtime() on a Unix distribution specifically designed for and by Russians, Eastern Europeans or Chinese.  These all changed from Julian to Gregorian in the last 100 years, inside the range of 32 bit localtime().<br/><br/>So if someone with a machine like that could run:<br/><br/><pre>
perl -wle 'print scalar localtime(-2**30-2**29-2**28)'
</pre><br/><br/>and<br/><br/><pre>
perl -wle 'print scalar localtime(-2**30)'
</pre><br/><br/>and let me know the result (and what Unix dist you're using and time zone you're in) that would give me some data points.<br/><br/>Thanks.<br/><br/>PS  Don't use my patched bleadperl for this. :)</p>


<hr/>



<h2>use D'oh;</h2>
<h3><a href="/user/pudge/">pudge</a> on 2008-09-18T05:42:49</h3>
<p>The ad at the top of this page is for Russian "dating."  WTF.  Someone complain to the site operator.</p>



<h2>Chinese Standard Time</h2>
<h3><a href="/user/mr_bean/">mr_bean</a> on 2008-09-20T13:16:51</h3>
[drbean@localhost dic]$ date
&#229;&#8230;&#173;  9&#230;&#339;&#710; 20 21:06:45 CST 2008
[drbean@localhost dic]$ perl -wle 'print scalar localtime(-2**30-2**29-2**28)'
Fri Jun 17 02:10:08 1910
[drbean@localhost dic]$ perl -wle 'print scalar localtime(-2**30)'
Mon Dec 23 18:22:56 1935<br/><br/>Fedora 9. LANG=zh_TW.UTF-8



<blockquote>

<h2>Re:Chinese Standard Time</h2>
<h3><a href="/user/schwern/">schwern</a> on 2008-09-21T08:01:30</h3>
<p>Thanks, but I don't trust Fedora to get it right.  Maybe Red Flag Linux?</p>





</blockquote>


<h2>From Russia</h2>
<h3><a href="/user/kappa/">kappa</a> on 2008-09-28T23:28:58</h3>
Russia's here. Ubuntu 8.04 with russian locale (ru_RU.UTF-8), time zone "Europe/Moscow" (UTC+3/4).<br/><br/>% perl -wle 'print scalar localtime(-2**30-2**29-2**28)'
Thu Jun 16 20:40:08 1910<br/><br/>% perl -wle 'print scalar localtime(-2**30)'
Mon Dec 23 13:22:56 1935



<blockquote>

<h2>Re:From Russia</h2>
<h3><a href="/user/kappa/">kappa</a> on 2008-09-28T23:30:05</h3>
Sorry about forgetting to format.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

