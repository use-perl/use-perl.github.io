<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of schwern: use_ok() fix to Test::More going back REAL SOON NOW!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>use_ok() fix to Test::More going back REAL SOON NOW!</h1>
<h2><a href="/user/schwern/">schwern</a> on 2007-10-16T00:29:49</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>The fix to use_ok() in Test::More which revealed failures in DBI, XML::LibXML and WWW::Mechanize (amongst others) is going back in REAL SOON NOW.  XML::LibXML has updated but DBI and WWW::Mechanize have not.  They've all known about the problem for over a month now.  An alpha version has just been released.<br/><br/>This time, I'm not rolling back.</p>


<hr/>



<h2>You are threatening instead of helping.</h2>
<h3><a href="/user/LaPerla/">LaPerla</a> on 2007-10-16T05:32:35</h3>
Please provide the full list of affected modules known so far. Saying "Amongst others" isn't  helping anybody. This fix is going to break a whole lot of CPAN and will make it difficult to understand which breakages come from Test::Simple and which have other problems. As long as we have not a collection of patches that fix the modules known to affected this step isn't acceptable.



<blockquote>

<h2>Re:You are threatening instead of helping.</h2>
<h3><a href="/user/ferreira/">ferreira</a> on 2007-10-16T11:11:46</h3>
To provide the <b>full list</b> is probably well beyond Schwern's forces. This issue affects a lot of testing code out there that is just plain wrong (because <code>use_ok</code> within a <code>BEGIN</code> would succeed even though no plan had been set).

<p>
Some of the affected modules <a href="http://www.nntp.perl.org/group/perl.qa/2007/09/msg9269.html" title="perl.org">were spotted</a perl.org> by Aristotle and others  in a <a href="http://www.nntp.perl.org/group/perl.qa/2007/09/msg9258.html" title="perl.org">thread started one month ago</a perl.org> at perl-qa mailing list. Schwern applied a fix and announced it &mdash; I think he did what people would expect him to do.

</p><p>It is a pity if many of the authors of affected modules never heard or thought of fixing the issue in their modules. But Schwern's action is the only way to get rid of this bug in the future.</p>



<blockquote>

<h2>Re:You are threatening instead of helping.</h2>
<h3><a href="/user/LaPerla/">LaPerla</a> on 2007-10-17T06:13:56</h3>
Well, it's not only Schwern's duty to fix a bug when he finds it but also to refuse to fix a bug when the community does not work as it should.<br><br>So far there has not been observable effort to provide the list of affected modules. For a smooth transition we'd need a single document or wiki page where interested parties can work together to minimize the damage for the community as a whole.<br><br>Pointing to that mailing list thread is not helpful when one wants to know if all authors have been informed personally. I would like to know where tested patches to the affected distros can be found. I would like to have the chance to add for example Net::DNS which was missing from Aristotle's list. If it turns out that there are other patterns also affected by the fix we're in even bigger troubles.<br><br>Somebody, not necessarily Schwern should start to do it and Schwern should lean back and refuse to release the fix as long as this effort has not provided substantial material.<br><br>While I'm all for release-early-release-often I see no sense in releasing with known showstoppers.



<blockquote>

<h2>Re:You are threatening instead of helping.</h2>
<h3><a href="/user/ferreira/">ferreira</a> on 2007-10-17T10:29:49</h3>
<p><div class="quote">Somebody, not necessarily Schwern should start to do it</div> That reminds me a saying that I hear often at $work:<p><div class="quote">Well volunteered!</div>





</blockquote>

</blockquote>

</blockquote>


<h2>DBI release is in the works</h2>
<h3><a href="/user/Tim Bunce/">Tim Bunce</a> on 2007-10-16T13:39:50</h3>
I'm sorry for the delay getting a new DBI release out. The Test::More fix got stuck behind adding client-side caching to DBD::Gofer, which then got stuck behind other work. Not ideal, but that's the way it worked out this time.<br><br>Anyway, I've accepted your swift kick up the backside and got the DBI chages finished off this morning. A 1.59_90 release is up now for cpan-testers to chew on. If that goes well then I'll make a full release before the end of this week.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

