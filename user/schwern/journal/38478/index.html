<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of schwern: I &amp;lt;3 Github's fork queue</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>I &amp;lt;3 Github's fork queue</h1>
<h2><a href="/user/schwern/">schwern</a> on 2009-02-14T23:05:33</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Since it's Valentines Day, I'll squee about something I love.  Github.  Oh I loves it so hard.  Hopefully this love will stand the test of time.<br/><br/>For years now I've wanted to replace mailing patches around with a version control centric system.  I drop patches on the floor all the time, they get lost in my inbox or in the ticket queue.  And that sucks, because people who actually write code are really valuable.<br/><br/>To fix this, I want a system that let anyone make their own branches, which they own, for each task they want to do.  They could do easy updates from trunk, and when they're ready, they'd ping the project integrator to evaluate the change and pull it in.<br/><br/>SVK came close to this potential, with it's easy pushing and pulling and SVN-like syntax, but I never came around to making the associated tools and web site.  Now, <a href="http://github.com">github</a> has implemented this.  This is why I've moved <a href="http://github.com/schwern/test-more/tree/master">Test::More</a> to github and why more will be following.<br/><br/>Instead of branching, you <a href="http://github.com/gaurav/test-more/tree/master">fork the whole project</a>.  Git makes this cheap.  You have total control over that fork, which is good because I'm a terrible bottleneck.  When your ready, you issue a "pull request" which pokes me to look at your changes and integrate them.  Even better, there is a <a href="http://github.com/schwern/test-more/forkqueue">fork queue</a> where you can see what changes are pending.  Then a few clickies on web forms and the patches are integrated.  It's a whole lot easier than the normal git pull process (see <a href="http://github.com/guides/pull-requests">step 5</a>).  Github's integration process could provide a little more information about the merge, but I'm sure that will come.<br/><br/>Today I <a href="http://github.com/schwern/test-more/commit/fe530068095a817b0814bf626159b4f48caee765">integrated a patch before it was even submitted</a>!<br/><br/>Heart.</p>


<hr/>



<h2>EU::MM</h2>
<h3><a href="/user/chorny/">chorny</a> on 2009-02-15T00:18:43</h3>
<p>Do you plan to move EU::MM to Github?</p>



<blockquote>

<h2>Re:EU::MM</h2>
<h3><a href="/user/schwern/">schwern</a> on 2009-02-15T01:09:02</h3>
<p>You're about the fifth person to ask that.  Seems people really want to mess with MakeMaker.<nobr> <wbr></nobr>:)</p><p>Most likely.  There's talk of instead of keeping a separate repository, for very core-centric modules like MakeMaker and ExtUtils::Install to instead just fork off the <a href="https://github.com/github/perl/tree" title="github.com">perl repository on github</a github.com>.  This will make p5p and CPAN coordination much easier.</p><p>One showstopper, now resolved, was that the perl repo is rather large and forking it would eat up a big chunk of a free account's quota.  Turns out forking is about 15 megs of the 300 meg quota, so that's not a problem.</p><p>Second is how to make the CPAN distribution and the core layout work together.  It might be as simple as building up the CPAN layout using symlinks and only have it exist in my fork.</p><p>So I've made a <a href="https://github.com/schwern/perl/tree" title="github.com">fork for MakeMaker</a github.com> and will start playing with it.</p>



<blockquote>

<h2>Re:EU::MM</h2>
<h3><a href="/user/educated_foo/">educated_foo</a> on 2009-02-16T01:42:50</h3>
<blockquote><div><p>One showstopper, now resolved, was that the perl repo is rather large and forking it would eat up a big chunk of a free account's quota.</p></div></blockquote><p>
Why not just use <a href="http://repo.or.cz/" title="repo.or.cz">repo.or.cz</a repo.or.cz>, which provides actually-free Git hosting for Free projects?</p>



<blockquote>

<h2>Re:EU::MM</h2>
<h3><a href="/user/schwern/">schwern</a> on 2009-02-16T20:01:07</h3>
<p>Because I like GitHub, I like the people, they've been nice to Perl (they approached us to mirror in the Perl repo) and it's a whole lot more than just a place to host my git repositories.  I don't want to knock repo.or.cz, they're doing a great service, but if you think J Random Server running the stock git server is a replacement for GitHub, you really haven't looked at GitHub.</p><p>[Incoming rant.  Not necessarily at you, but you triggered a soft spot.  And I'm sorry for ragging on repo.or.cz, they're doing a great service, but they serve a perfect contrast for the purposes of this rant.]</p><p>But you were implying that "actually free" is implicitly better than "free for Open Source, pay for the rest of you" and that's the major feature upon which one should select their hosting.  I call bullshit.  The hardware costs money.  The bandwidth costs money.  The power to run it all costs money.  Running, maintaining and improving it all costs time (which is money).  So unless you're independently wealthy or supported by some other institution (which makes money) you're a bit fat hypocrite to think that your hosting should be "actually-free" and that there's something wrong with trying to pay the bills.  repo.or.cz is hosted by <a href="http://www.upc.cz/" title="www.upc.cz">a Czech company</a www.upc.cz> who charges customers to make money to support those "actually free" repositories.</p><p>And the "actually free" site isn't.  They restrict themselves to Open Source projects only.  Their default quota is 100 megs, even smaller than GitHub's 300 megs.  So I really don't see the advantage even on the "it's more free" front.</p><p>And <a href="http://repo.or.cz/about.html" title="repo.or.cz">no backups</a repo.or.cz>?!!  Gah!  Don't give me this BS about git providing it's own backups.  I want to know my data is going to be there.</p><p>Which brings us back to the advantage of a business funded, free-for-Open-Source service.  Paying customers demand, and can pay for, a higher quality of service, particularly reliability.  Because software scales so well, it's cheap for GitHub to provide those features that businesses pay for (like backups and reliable uptime) to all the Open Source projects.</p><p>And while businesses go under, just as often J Random Guy loses interest.  Or they lose their benevolent funding.</p><p>Finally, it's important to distinguish between projects funding themselves using paid business accounts (GitHub) and businesses taking advantage of Open Source (I'm going to use a caricature of Apple as the straw man here).  GitHub is part of the community.  Apple makes use of the community.  Don't lump them together.  The GitHub folks are nice guys.</p><p>[End of rant]</p>



<blockquote>

<h2>Re:EU::MM</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2009-03-31T18:27:07</h3>
<p>It seems to me that a zealous Open Source/Free Software advocate would be <i>glad</i> to see discrimination against proprietary software packages, forcing their producers to pay while Open Source folks go free.</p><p>But what do I know?</p>





</blockquote>


<h2>Re:EU::MM</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2009-02-16T20:04:49</h3>
<p>How about &#8220;Because it&#8217;s missing all of the features that Michael is squeeing about in his post&#8221;?</p>





</blockquote>

</blockquote>

</blockquote>


<h2>The fork queue sounds nice</h2>
<h3><a href="/user/Alias/">Alias</a> on 2009-02-15T05:19:31</h3>
<p>It certainly helps resolve the problem of patches versus giving commit to trunk.</p>



<h2>Github's fork queue sucks</h2>
<h3><a href="/user/nothingmuch/">nothingmuch</a> on 2009-05-03T15:33:09</h3>
<p>Well, the way they apply patches sucks.</p><p>Apparently just doing a simple fast forward merge is not cool enough, so a cherry pick with a signoff is done instead, meaning that your contributer now has to do a <tt>git reset --hard</tt> or they will run <tt>git pull</tt> and accidentally create a merge commit merging their changes with... you guessed it, their changes. Great =P</p><p>Please just use <tt>git remote add foo git://github.com/foo/project.git</tt> and then <tt>git remote update</tt> and <tt>git merge</tt>. It's just as easy, and actually works.</p>



<blockquote>

<h2>Re:Github's fork queue sucks</h2>
<h3><a href="/user/schwern/">schwern</a> on 2009-05-03T19:40:59</h3>
<p>You seem to be assuming you're always going to be pulling in all their changes, in which case a merge might be better, but otherwise a cherry-pick and sign off is correct.  They could detect that you're asking for all changes and do a merge, sounds like simple a feature request to me.  And hey, <a href="http://support.github.com/discussions/repos/692-merge-does-not-appear-in-fork-queue" title="github.com">here it is</a github.com>.</p><p>Worrying about the fiddly technical details of how they do their merge, fiddly technical details which could change tomorrow, fiddly technical details which really don't have that big an impact, is missing the point.  The FQ lets you see, at a glance, what's going on in ALL your forks.  This is the essential bit.  It cuts out about five steps from sending and applying a patch.  It is glorious.</p>



<blockquote>

<h2>Re:Github's fork queue sucks</h2>
<h3><a href="/user/nothingmuch/">nothingmuch</a> on 2009-05-03T20:21:22</h3>
<p>fiddly technical details is an understatement. anybody who wants to contribute a simple patch will need to learn how to use one of git's scariest commands the next time they try to contribute.</p><p>At least in my experience cherry picks are definitely *not* the common behavior.</p><p>Thus only real use the fork queue has is to list the pending commits, and for that <tt>git log --decorate --all</tt> is at least IMHO more useful (well, actually I use gitx for that, but whatever).</p>



<blockquote>

<h2>Re:Github's fork queue sucks</h2>
<h3><a href="/user/schwern/">schwern</a> on 2009-05-03T20:55:34</h3>
<p>You're the first I've heard mention this problem, and I cherry pick all the time. *shrug*</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

