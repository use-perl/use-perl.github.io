<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of schwern: The Return of CVS!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>The Return of CVS!</h1>
<h2><a href="/user/schwern/">schwern</a> on 2005-08-17T18:11:08</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Since <a href="http://use.perl.org/user/schwern/journal/22709">Apple ate my hard drive</a> I lost my CVS repository leaving me with only the <a href="http://svn.schwern.org/svn/CPAN/">few projects I'd imported into SVN.</a>  So I've been holding off working on most of my other CPAN modules until my repo is restored.

<p>I just recovered a rather old repository off an old drive and I think this is the best its going to get.  Its from May 2002.  That might seem really old but its <a href="http://search.cpan.org/user/MSCHWERN/?R=A">newer than about half my modules.</a>  The rest I'll just have to write up as a loss and import into SVN fresh from CPAN.

<p>What all this means is I can start updating old modules again.
</p>


<hr/>



<h2>Svk Rescued Me</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2005-08-17T18:55:26</h3>
<p>I like svk.  I pulled a lot of old versions of my modules off of Backpan, created an svk repository for them, and extracted each old version one at a time into the appropriate directory, updating svk each time.  It's a process almost worth automating.</p>

<p>(The only trick is that the modules beneath directories containing version numbers, but a simple rename worked just fine.)</p>



<blockquote>

<h2>svn_load_dirs.pl</h2>
<h3><a href="/user/schwern/">schwern</a> on 2005-08-20T01:08:43</h3>
There's a program hidden in the <a href="http://svn.collab.net/repos/svn/trunk/contrib/" title="collab.net">SVN contrib directory</a collab.net> called <a href="http://svn.collab.net/repos/svn/trunk/contrib/client-side/svn_load_dirs.README" title="collab.net">svn_load_dirs</a collab.net> which can load successive versions of a project into SVN for you doing all the necessary adds and deletes.



<blockquote>

<h2>Re:svn_load_dirs.pl</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2005-08-20T05:35:26</h3>
<p>Once again I regret not procrastinating!</p>





</blockquote>

</blockquote>


<h2>cvs2svn</h2>
<h3><a href="/user/Dom2/">Dom2</a> on 2005-08-18T08:51:01</h3>
I can recommend <a href="http://cvs2svn.tigris.org/" title="tigris.org">cvs2svn</a tigris.org>.  It did a pretty reasonable job of converting my cvs repository to subversion.  Of course, you'll want to go in afterwards and do a bit of tidying up, but on the whole it's pretty easy.

<p>The main problem is the time.  It was pretty quick for my home repository, but the one at work took several hours and resulted in over 35,000 commits.

</p><p>-Dom</p>



<blockquote>

<h2>Re:cvs2svn</h2>
<h3><a href="/user/schwern/">schwern</a> on 2005-08-20T01:13:18</h3>
Yes, I used cvs2svn to do my initial conversion of a handful of projects but didn't do them all at once as I wasn't sure I was going to stick with SVN at the time.  Kicking myself now for not having just done it all in one shot.<br><br>I also recently did a conversion of a 500 meg (compressed) CVS work repo spanning about half a decade of development.  Took just 2 hours to dump resulting in an 800 meg dump file and about an hour to load.  27,000 revisions.  It did an excellent job of finding all the branches and tags and even dealt with all the hacking and shifting around of RCS files they've done over the years.<br><br>And then the joys of being able to rename and delete directories begin.



<blockquote>

<h2>Re:cvs2svn</h2>
<h3><a href="/user/Dom2/">Dom2</a> on 2005-08-20T21:53:25</h3>
Yes, the cleaning up after conversion import is the hard bit IMHO.  I still haven't really found a good solution to reorganising a subversion repository.  I'm still using a whole bunch of command line renames.  Alas, I don't think there's a better way.

<p>-Dom</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

