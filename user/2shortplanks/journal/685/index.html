<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of 2shortplanks: emailbot for Buffy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>emailbot for Buffy</h1>
<h2><a href="/user/2shortplanks/">2shortplanks</a> on 2001-08-21T22:07:48</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>So yesterday Celia complained at me that I never answer her mails, which is blatantly untrue.  Actually, I never answer her mails <em>in time</em> which, admittedly, in the end is all and all the same thing.  This time it was actually critical...she wanted to know if I'd bought the next set of Buffy videos or not or should she buy them and bring them round.  I hadn't and because I didn't mail her back neither did she so none of us got to watch any Buffy last night.  This is not good.
<p>
So I decided to do something about it.  Now I have my funky Mail::Audit script running I figured that I should get it to take some drastic action when I actually get mail sent directly to me (rather than just via the millions of email lists I seem to be on.)  Since I spend quite a lot of time hanging out on IRC I figured it'd be a good idea to have it /msg me on there whenever I got a mail.
<p>
In a spare hour recently I'd written a couple of bots in POE...one that simply reversed whatever you said to it, the other that looked up the titles of web pages (in a non-blocking way of course - this is POE.)  Adapting my code from this I hacked in a quick SocketFactory that listens on a socket and simply /msgs me any text that is sent to it.  Three lines added to the Mail::Audit script to open, print to and then close an IO::Socket and we're in business.
<p>
Perl is so great for rapid development of simple things.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

