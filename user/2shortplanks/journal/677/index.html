<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of 2shortplanks: Mail Filtering and Camels</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Mail Filtering and Camels</h1>
<h2><a href="/user/2shortplanks/">2shortplanks</a> on 2001-08-19T21:51:49</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I've been playing around with my mail filtering some more a lot recently.  This is based on <a href="http://use.perl.org/users.pl?nick=simon">Simon's</a> <a href="http://search.cpan.org/search?dist=Mail-Audit">Mail::Audit</a> module.  Mail filtering in Perl is a risky business.  One typo and your mail is assigned to oblivion.  So IÃ¢â¬â¢ve been mailing learning to program very defensively.  For example, the whole of my code is placed in a string eval so if it fails to compile some reason (like, I'm coding lamely again) then the code can at least panic and dump the mail in my inbox rather than bouncing the mail back as undeliverable to the sender.
<p>
So, delivering mail with Perl may be really crazy, but you can do really cool things with it.  For example, whenever I register for a site I give them a reply address that is unique to them at 2shortplanks.com so when they start spamming me I can filter this off with a rule.  Of course, you can do this with any mail filtering, but IÃ¢â¬â¢m feeling lazy (like all good Perl programmers); I have an address I can forward a mail to which will then add the address that the forwarded mail was sent to to my kill list.  And an address that will cause the address sent from to be killed.  And an address that will cause all mail from or to people to forever more be moved into another mail folder.   So now I donÃ¢â¬â¢t ever edit my mail filter again.  Yey.  But waitÃ¢â¬Â¦it gets better.
<p>
I have a rule set up that allows me to use the Ã¢â¬Ëone-day-onlyÃ¢â¬â¢ mail at 2shortplanks.  These are of the format thingDDMMYY@twoshortplanks.com, and it only lets though mail for that one day.  This is great for site registration and stuff where you just want a username and password, but you donÃ¢â¬â¢t want them spamming you for the rest of eternity.  IsnÃ¢â¬â¢t Perl cool.
<p>
Oh, and as I was mucking about in Perl I implemented a quick hack to create a XML RSS document containing the name of the last person to post to the London Perl Mongers mailing list (try doing that in procmail) so that dipsy (the #London.pm infobot) can tell you this information.  
<p>
Gah.  All coded out now.  See the filter for yourself at <a href="http://2shortplanks.com/temp/mailfilter.txt">http://2shortplanks.com/temp/mailfilter.txt</a>
<p>
What have us Perl lot been up to that doesn't involve coding?  Well, we went and saw the camel at London Zoo yesterday.  At least I assume we saw the camel that the London Perl Mongers sponsoredÃ¢â¬Â¦there were three and my ability to identify camels from one another is similar to my ability to program Python!  In fact, we saw lots of other Perl and Open Source creatures.  The <a href="http://www.oreilly.com/catalog/lperl3/">llamas</a>, the <a href="http://www.oreilly.com/catalog/prowg/">monkeys</a>, <a href="http://www.oreilly.com/catalog/regex/">owls</a>, and  the obligatory <a href="http://www.linux.org/">penguins</a>. Oh, then we went to the pub. 
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

