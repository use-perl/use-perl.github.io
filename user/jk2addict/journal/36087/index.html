<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jk2addict: PerlTidy Kool-Aid is Poison</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>PerlTidy Kool-Aid is Poison</h1>
<h2><a href="/user/jk2addict/">jk2addict</a> on 2008-04-07T02:13:39</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>The mantra sounds good to me: use tidy to format code the same, so changesets across users truely measure code changes, not code formatting changes.<br/><br/>But try as I might, I just can't live with perltidy. No matter how many times I futz with options, it does what I want in some places, and completely makes no sense in other places.<br/><br/>For example:<br/><br/><pre>BEGIN {
    use base qw/Class::Accessor::Grouped/;
    use Class::Inspector ();
    use Scalar::Util ();
    use Mango::Exception ();<br/><br/>    __PACKAGE__->mk_group_accessors('component_class', qw/result_class/);
};</pre><br/><br/>becomes<br/><br/><pre>BEGIN {
    use base qw/Class::Accessor::Grouped/;
    use Class::Inspector ();
    use Scalar::Util     ();
    use Mango::Exception ();<br/><br/>    __PACKAGE__->mk_group_accessors('component_class',
        qw/result_class/);
}</pre><br/><br/>Nice work on the parans...but no reason to break that next line at all. -nanl fixes this problem, but leaves other lines of source way pas 80 columns. Sure, in this case, I can move qw/result_class/ to 'result_class' to avoid the formatting issue, but in other similiar code with more than on item in the qw//, it does the same thing.<br/><br/>This is just one example of many issue I have. Things like stacking and not stacking closings. Somtimes it works. Sometimes, I get this:<br/><br/><pre>sub delete {
    my $self = shift;<br/><br/>    return $self->meta->provider->delete_attributes(
        $self->meta->parent,
        {id => $self->id}
    );
};</pre><br/><br/>turned into this:<br/><br/><pre>sub delete {
    my $self = shift;<br/><br/>    return $self->meta->provider->delete_attributes($self->meta->parent,
        {id => $self->id});
}
</pre><br/><br/>Not an improvement in my book. My current setting work about 60% of the time. The rest of the time, the output seems worse to me.<br/><br/><pre>-l=72
-i=4
-ci=4
-bar
-ce
-nsbl
-sot
-sct
-pt=2
-sbt=2
-bt=2
-bbt=2
-nsfs
-asc
-dsm
-nbbb
</pre></p>


<hr/>



<h2>Thanx for ... Reinforcing my prejudices ...</h2>
<h3><a href="/user/Ron Savage/">Ron Savage</a> on 2008-04-08T01:50:07</h3>
Junk text to make submit work<nobr> <wbr></nobr>:-).



<h2>It's about consistency</h2>
<h3><a href="/user/perrin/">perrin</a> on 2008-04-08T16:53:32</h3>
I remember fighting code formatting standards too, in the dark years before perltidy.  Now, I'm happy to trade my perfect formatting for perltidy's mostly right formatting, simply because it's so much better than how every other person formats their code.  Since I'm the only programmer in the world who can format things correctly, I figure that perltidy will at least make other people's code legible for me.
<p>
I sympathize with you on the list indentation, but I think your desire to have a line here and there that disobeys the 80 column wrap is kind of pathological.  Maybe the list indentation can be changed though.  I know you can tell it to leave the way you split the list into lines alone.  Of course then you have to get EVERYONE you share code with to use your settings, which is why I just use all the defaults.</p>



<blockquote>

<h2>Re:It's about consistency</h2>
<h3><a href="/user/jk2addict/">jk2addict</a> on 2008-04-09T00:06:09</h3>
True. In the end, it's goin to be a matter of learning to worry about what the code does, and leave how it 'reads' to tindy and moving on with life.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

