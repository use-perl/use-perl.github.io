<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jk2addict: Very Strange Firefox Issue</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Very Strange Firefox Issue</h1>
<h2><a href="/user/jk2addict/">jk2addict</a> on 2007-10-26T15:00:11</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>There's a long standing bug/feature with Firefox with input type=image elements where user has images turned off, or the image is 404ed, or just not loaded...when it's clicked, no x/y coords are sent to the server.<br/><br/>Just this week, we've had complaints from users getting an error on our site they shouldn't. As it turns out, they get the error because we check to make sure button.x and button.y have values...but firefox is passing them without values.<br/><br/>Now, for the odd part. This is happening to people  who by all appearances, have the image loaded. My firefox 2/3 work just dandy, yet we have one internal user who gets the error (but the image is loaded via a provided screenshot).<br/><br/>I have no idea what the hell is going on, but it's damn strange. This is about as much fun as the other gecko bug I found in the old Compuserve7 version, where if you used javascript to hide a button after it was clicked, the browser for post literally sent Content-Length: 0.</p>


<hr/>



<h2>Possible reason:</h2>
<h3><a href="/user/dorward/">dorward</a> on 2007-10-26T15:17:39</h3>
Is the form being submitted by pressing the enter key instead of clicking on the image map?



<blockquote>

<h2>Re:Possible reason:</h2>
<h3><a href="/user/jk2addict/">jk2addict</a> on 2007-10-26T15:46:00</h3>
Nope. I tried that too. hitting enter when the button is highlighted works just fine.



<blockquote>

<h2>Re:Possible reason:</h2>
<h3><a href="/user/dorward/">dorward</a> on 2007-10-26T15:57:06</h3>
What if the button isn't highlighted? Browsers are supposed to submit (simple) forms without needing to go near a submit button of any kind.



<h2>Re:Possible reason:</h2>
<h3><a href="/user/jk2addict/">jk2addict</a> on 2007-10-26T15:57:38</h3>
I lied. Good call.<br><br>In Firefox 2.x, Return does indeed cause the issue as no x/y is sent. In Firefox 3.x, Return does not cause the issue, and it appears to send x/y.<br><br>And the internal user who is having the problems... is clicking the button with a mouse, not hitting Return.<br><br>This far, Firefox refused to fix the bug when no image was loaded, claiming that the image[map] might have more than on function when clicked. However, then they go ahead and fix the Return key in 3.x, which means they just broek their own ruling. Sigh.<br><br>WTF.



<blockquote>

<h2>Re:Possible reason:</h2>
<h3><a href="/user/jk2addict/">jk2addict</a> on 2007-10-26T17:10:05</h3>
Faaaaaaaaarrrrrrrrrrgggg!!!!!<br/><br/>Before I went to lunch, I couldn't reproduce it. Now that I'm back from lunch, CLICKING on the button in Fox 2.0.0.8 now does not send coords. W..T..F.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

