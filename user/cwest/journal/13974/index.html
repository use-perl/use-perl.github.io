<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of cwest: Building a Form Generator from Scratch</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Building a Form Generator from Scratch</h1>
<h2><a href="/user/cwest/">cwest</a> on 2003-08-07T16:23:45</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>If I were to build one from scratch today, here's how I'd do it.  I'm interested in thoughts.

First and foremost, all the output I would generate by default would have to pass XHTML strict and government guildlines for accessibility.

Second, each form element would be an object, with most object inheriting from the generic "Input" object.  This would allow for the greatest flexibility.

Form validation could be optional, but I wouldn't supply any defaults for you, with the possible exception of required fields.

When you build a new form, it would create a new form object.  This could be passed into your favorite templating engine and you could create the form yourself by selecting the part you want and iterating over the created form elements.

If you don't want to use your own, you could call a method for the form to render itself.  At this point, there should be a way to override default class attribute names on all the HTML elements created.  And each element would know how to build itself.

When it comes time to get information out of the form, you could first call the validate method.  If that passes, you could use the form object to retrieve the values for each of the form elements.  If it does not pass, you could choose to render the form, indicating that a fill-in attempt has been made but failed (or use your own templating system to do this).

I don't think my form generator should automatically use CGI or Apache::Request to get parameters and do validation or sticky form behaviour, but I may be wrong.

As for JavaScript error handling, maybe, maybe not.

As for multi-page forms, it would be nice to handle this automatically, but it's probably not a priority (for me), but I may be wrong.

I think that's about all I can think of. </p><p>Posted from <a href="http://caseywest.com">caseywest.com</a>, comment <a href="http://caseywest.com/journal/archives/000225.html">here</a>.</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

