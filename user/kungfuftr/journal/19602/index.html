<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of kungfuftr: Mozilla</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Mozilla</h1>
<h2><a href="/user/kungfuftr/">kungfuftr</a> on 2004-06-30T17:31:17</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>
Mozilla... i loves it...

I'm not just talking about the browser, but the project as a whole. I mean everyone know about the mozilla suite, firefox, thunderbird, chatzilla and even the spin offs like camino and galeon, but there is so much more to it:
</p>

<ol>
<li><p>
<b>Branding...</b><br>
For those who've been looking at mozilla lately, they'll notice a nice site and polished graphics, but i've been around mozilla since the suite was in it's 0.5/0.6 stage and it's been a hell of an improvement. Now that mozilla has moved out from under the grasp of AOL, it appears that the project is really concentrating on the end user, which is sorely lacking from many open source projects.
</p></li>
<li><p>
<b>Framework...</b><br>
I've been looking at the mozilla framework for quite some time now and it's amazing. It's got a lovely rendering engine called 'gecko' and produces nice standards compliant screens for it. What most people don't realise is that when netscape started the gecko rendering engine, they designed it to not just render HTML, but also other SGML style languages. In the instance of the browser... not only is the HTML being rendered, but the browser interface itself is (via XUL). As well as the loveliness of gecko, there's also things like XPCOM and XBL, which allow you to define your own CORBA style interfaces to elements and this allows any interface to be used wether from python, C, C++ or javascript.
</p></li>
<li><p>
<b>Standards compliancy</b><br>
This is an incredably important thing these days and at my current job, it's something that we run into everyday. We currently have a javscript based framework which needs to work cross-browser and not only do we have CSS woes (IE only _truly_ supports CSS1) but the javascript DOM interface is nightmarish. The hacks to make IE work in a sane way are probably as long as the functional code in mozilla would be. This isn't to say mozilla doesn't have its faults... but they're a hell of a lot less.
</p></li>
</ol>
<p>
I'm having a bawl with mozilla and shortly will be trying to get a nice xlib XPCOM interface setup so that i can have a mozilla framework based window manager and desktop toolkit. The one thing i really miss within the framework, is the ability to use perl with it... there was a perl XPCOM binding several years back, but it became unmaintained and no longer works. If I was quite daring i might have a try, but I believe it'd be out of my sphere of knowledge. Why would perl be nice to use in a mozilla framework based system? mainly... because the rendering engine works on the fly, more rapid development cycle, you'd be able to use things like Class::DBI, Template::Toolkit and the like directly with GUI components!

nuff said... mozilla project rocks...
</p></p>


<hr/>



<h2>XUL and Perl?</h2>
<h3><a href="/user/eilara/">eilara</a> on 2004-06-30T19:07:28</h3>
Check out XUL-Node on CPAN.



<blockquote>

<h2>Re:XUL and Perl?</h2>
<h3><a href="/user/kungfuftr/">kungfuftr</a> on 2004-07-01T00:41:07</h3>
<p>Nice... I see it's a rather recent addition to CPAN. This is rather nice, but without proper xpcom support, wouldn't be as extensible. With XPCOM, everything that you can do DOM wise in the browser with javascript you can automatically do with perl, giving you the ability to have:
</p>
<p><blockquote><div> <tt>&nbsp; &lt;script type="text/perl" language="perl"&gt;<br>&nbsp; &nbsp; my $text = $document-&gt;createNode('p');<br>&nbsp; &nbsp; $text-&gt;{'value'} = 'Hello World';<br>&nbsp; &nbsp; $document-&gt;body-&gt;appendChild($text);<br>&nbsp; &lt;/script&gt;</tt> </div></blockquote> 
<p>
Lots of people give javascript a hard time, but it's really quite a lovely language and ECMAScript 262 looks to make it even lovelier!
</p>



<blockquote>

<h2>Re:XUL and Perl?</h2>
<h3><a href="/user/eilara/">eilara</a> on 2004-07-01T02:48:00</h3>
Your example becomes, in XUL-Node:<br> <br>
&nbsp; &nbsp; Window(Label(value =&gt; 'Hello World'));<br> <br>It is just a little Perl sugar over the API you showed.<br> <br>What can you do in Javascript with XPCOM that you cannot in XUL-Node, which makes it more extensible?



<blockquote>

<h2>Re:XUL and Perl?</h2>
<h3><a href="/user/kungfuftr/">kungfuftr</a> on 2004-07-01T10:20:02</h3>
<p>
the full DOM API (including most of DOM2), things like dynamically append and reappend element nodes to different locations within the document.
XUL::Node allows you to print elements very easily, but it doesn't let you mess about with that document once its been rendered. Some good documentation on this sort of stuff is along the lines of is to have a look at seamonkey's XPCONNECT ability and the python/ruby xpcom bindings.
</p>
<p>
What would it mean... well say for example you've got a javascript event that fires when you've got a dropdown box that would populate a text field. Using XPCOM, you can get javascript to call a perl method that will return text based on the option you've selected, etc. Has a heck of a lot of nice stuff...
</p>



<blockquote>

<h2>Re:XUL and Perl?</h2>
<h3><a href="/user/eilara/">eilara</a> on 2004-07-01T10:56:14</h3>
&gt; the full DOM API (including most of DOM2), things like dynamically<br>&gt; append and reappend element nodes to different locations within the<br>&gt; document<br> <br>Next version will have support for disposal of nodes, and re-parenting.<br>Very easy to add.<br> <br>&gt; XUL::Node allows you to print elements very easily<br> <br>Yes it allows you add nodes to the document very easily.<br> <br>&gt; but it doesn't let you mess about with that document once its been<br>&gt; rendered.<br> <br>You mean re-parenting and disposal?<br> <br>Or do you mean calling attributes/properties/methods:<br> <br>
&nbsp; &nbsp; $window-&gt;sizeToContent(1);<br>
&nbsp; &nbsp; $button-&gt;value('ok');<br>
&nbsp; &nbsp; $box-&gt;style('background-color:green');<br> <br>This is supported.<br> <br>&gt; Some good documentation on this sort of stuff is along the lines of is<br>&gt; to have a look at seamonkey's XPCONNECT ability and the python/ruby<br>&gt; xpcom bindings.<br> <br>Can it be done in Javascript? Then it can be done in Perl using XUL-Node.<br> <br>I am still looking for a feature request in your critique, besides node<br>disposal and re-parenting.<br> <br>XUL-Node lets you send the DOM commands in Perl. It will translate them<br>to Javascript. Any command. And of course the Perl can be on a different<br>machine from the browser.<br> <br>What is the difference between going: Perl-&gt;XPCOM, vs.<br>Perl-&gt;HTTP-&gt;Javascript-&gt;XPCOM? Serialization and other distributed<br>application problems have known solutions.<br> <br>The only difference may be in performance or ease of development, not in<br>programming power as you suggest.<br> <br>&gt; well say for example you've got a javascript event that fires when<br>&gt; you've got a dropdown box that would populate a text field. Using<br>&gt; XPCOM, you can get javascript to call a perl method that will return<br>&gt; text based on the option you've selected, etc. Has a heck of a lot of<br>&gt; nice stuff...<br> <br>Here is the relevant code from menulist example in the distribution,<br>which does what you seek:<br> <br>
&nbsp; &nbsp; Window(SIZE_TO_CONTENT,<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HBox(ALIGN_CENTER,<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MenuList(selectedIndex =&gt; 0,<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MenuPopup(map { MenuItem(label =&gt; "item #$_", ) } 1..10),<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Select =&gt; sub {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $label-&gt;value<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ("&lt;= selected item #${\( shift-&gt;selectedIndex + 1 )}");<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $label = Label(value =&gt; '&lt;= select item from list'),<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),<br>
&nbsp; &nbsp; );<br> <br>You are right that not ALL Javascript features are supported (see TODO),<br>but it seems there is no theoretical limit here. Definately easier to<br>code missing features than to revive XPCOM-Perl bridge...<br>



<blockquote>

<h2>Re:XUL and Perl?</h2>
<h3><a href="/user/kungfuftr/">kungfuftr</a> on 2004-07-01T12:45:09</h3>
<p>
I suppose what i mean is, that XUL::Node is very dependant on their being an external engine which does lots of different bits and bobs. There's also this issue that you're using 2 extra layers (HTTP+JavaScript) which means that it's more prone to error.
</p>
<p>
We've been doing something similar my current employer, but more on a HTML basis as posed to an XUL one and there are quite a few limitations to the RPC mechanism... for example:<br>
How do you make the software interact with external devices such as barcode scanners, smart card systems, local mediums such as files on disk and things like registry melarky.<br>
That sort of stuff is well out of the range of an RPC mechanism and could be easily done within XPCOM stuff. XUL::Node looks lovely and i'll defenitely be playing with it, I just know that no matter how good it is you are still quite limited by it due to javascript security restrictions, which are something you cannot get past easily.
</p>



<blockquote>

<h2>Re:XUL and Perl?</h2>
<h3><a href="/user/eilara/">eilara</a> on 2004-07-01T22:25:06</h3>
<tt>&gt; I suppose what i mean is, that XUL::Node is very dependant on their<br>&gt; being an external engine which does lots of different bits and bobs.<br> <br>Do you mean the XUL::Node code itself? But if there was a viable Perl-<br>XPCOM bridge you would be dependant on that. What is the difference?<br> <br>Anyway, nothing in XUL-Node does lots of anything. It is a very simple<br>tool.<br> <br>&gt; There's also this issue that you're using 2 extra layers<br>&gt; (HTTP+JavaScript) which means that it's more prone to error.<br> <br>Yes, you can now be hurt by XUL-Node developer Javascript errors. But<br>this is only if XUL-Node is not done right. In which case I would not do<br>it at all.<br> <br>There is also the issue of speed.<br> <br>Once you try it, you see these are non issues at all.<br> <br>&gt; We've been doing something similar my current employer, but more on a<br>&gt; HTML basis as opposed to an XUL one<br> <br>Cool. The Half Object pattern is very useful.<br> <br>&gt; and there are quite a few limitations to the RPC mechanism... for<br>&gt; example: How do you make the software interact with external devices<br>&gt; such as barcode scanners, smart card systems,<nobr> <wbr></nobr>...<br> <br>As you say later in your post, these are Javascript security limitations.<br>RPC is not the problem.<br> <br>Ok, I see what you mean. XUL-Node is not for you. It is focused ONLY on<br>the XUL user interface concern. Not the full mozilla enchilada.<br> <br>It could be extended for what you want, but as you say, the extension<br>itself would not be in Perl.<br> <br>XUL-Node is aiming to provide an alternative for web developers, not<br>desktop developers.<br> <br>&gt; XUL::Node looks lovely and i'll definitely be playing with it<br> <br>And tell me what you think!<br> <br> </tt>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

