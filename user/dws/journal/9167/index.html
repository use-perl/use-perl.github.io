<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of dws: HTML-only spam</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>HTML-only spam</h1>
<h2><a href="/user/dws/">dws</a> on 2002-11-27T05:37:06</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Looking around for low-overhead ways of catching spam (no point in going heavyweight if lightweight will do), I came across the following simple <b>procmail</b> trick:
<p>
<tt>:0<br/>
^Content-type:.*html<br/>
htmlspam</tt>
<p>
A quick check showed that nobody was sending html-only email that I cared about, so I gave it a try. It caught 50 spams in 2 days, or about 25% of my daily volume.
<p>
Next into the bit-bucket, base64-encoded text/plain entities. A good excuse to play with MIME::Parser and MIME::Entity.
<p>
Now I <i>should</i> have been cleaning my study...

</p>


<hr/>



<h2>SpamAssassin tests for this</h2>
<h3><a href="/user/merlyn/">merlyn</a> on 2002-11-27T13:50:44</h3>
You can assign an arbitrary "likelyhood of spam" value, and have it spam-bucket anything that comes like that.
<p>
And despite you not having a false positive on such email, with the volume of email I get I've found that I can't just delete those: an occasional legitimate piece of email gets sent that way.  So I'm forced to watch that folder about once every other day or so to see if some person is asking me something important.
</p><p>
That's the problem with spam filters for me: I can't afford to ignore legitimate mail, because I run a small business.</p>



<blockquote>

<h2>Re:SpamAssassin tests for this</h2>
<h3><a href="/user/dws/">dws</a> on 2002-11-27T17:07:36</h3>
I checked a 5+ year email archive, and found no HTML-only messages that weren't spam. But you're right, it could happen that a legitimate email arrives without a TEXT fork.<br/><br/>Are you seeing particular MUAs that send HTML-only?





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

