<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of grep: CGI::App, Class::DBI, and mod_perl</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>CGI::App, Class::DBI, and mod_perl</h1>
<h2><a href="/user/grep/">grep</a> on 2003-05-15T18:58:13</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I just finished my <a href="http://www.santabrink.com">Mother's Website</a> on Sunday. Hopefully a nice Mother's day present. 
<p>
This was my first foray into CGI::App and my first heavy use Class::DBI and mod_perl. Even with the learning curve of all 3 of these major modules, all I can say is they are incredibly easy to use and speed development tremendously.  (I also used Template Toolkit, which was a joy. I just wrote one method that takes care of inserting sessions and returning the TT page).
<p>
CGI::App hides about everything complicated you need to know about mod_perl, it pretty much forces you to write good code, and it makes testing simple. The CGI::App framework is mod_perl friendly so just writing a CGI::App program almost ensures mod_perl will like it. I also appreciated tests quite a bit more with CGI::App. I was able to separate my display methods from my internal methods. I could code most all my unit tests without parsing HTML or restarting Apache. 
<p>
Class::DBI not only kept my SQL down to a minimum, but also my perl. The intrinsic C::DBI method chaining is so convenient <code>$session->cart->items</code>.
<p>
I spent about 50 hours on the site, which I most likely would never have finished if I coded it as a straight CGI app. Then add the speed factor from mod_perl and C::DBI/Apache::DBI's persistent shared connections and I'm sold. (Don't be fooled visiting the site and it's a little slow right now I'm on a slow line 128k DSL, it's moving to <a href=www.spocketdata.com>Sprocket Data</a>).

<p>
On a piscatorial note: <br />
I just got back from <a href="http://www.casamarlodge.com">Tarpon fishing in Costa Rica</a> I would highly recommend it to anyone as a stress reliever. Tarpon (Silver Kings) have been celebrated for years as one of the best Saltwater fish (especially Hemingway) and it was great battling them. My big fish was 110 lbs. and took me 1 hr 15 mins to land. Don't worry it's all catch and release, not that you would want to kill a great creature like a tarpon. 
<p>
So much better to battle a tarpon than your code :)


</p>


<hr/>



<h2>Borken site</h2>
<h3><a href="/user/Juerd/">Juerd</a> on 2003-05-16T06:42:53</h3>
Server error!<br> <br>
&nbsp; &nbsp; &nbsp; &nbsp; The server encountered an internal error and was unable to complete your request.<br> <br>
&nbsp; &nbsp; &nbsp; &nbsp; Error message:<br>
&nbsp; &nbsp; &nbsp; &nbsp; Error executing run mode 'home_page': DBD::Pg::st execute failed: no connection to the server [for statement `` SELECT featured_id FROM featured ORDER BY date_started DESC LIMIT 1; '']) at<nobr> <wbr></nobr>/usr/lib/perl5/site_perl/5.8.0/Ima/DBI.pm line 736.<br> <br>
&nbsp; &nbsp; &nbsp; &nbsp; If you think this is a server error, please contact the webmaster<br> <br>Error 500<br> <br>
&nbsp; &nbsp; &nbsp; &nbsp; www.santabrink.com<br>
&nbsp; &nbsp; &nbsp; &nbsp; Thu May 15 23:54:21 2003<br>
&nbsp; &nbsp; &nbsp; &nbsp; Apache/2.0.40 (Red Hat Linux)<br>



<blockquote>

<h2>Re:Borken site</h2>
<h3><a href="/user/grep/">grep</a> on 2003-05-16T17:33:09</h3>
I just noticed those coming through occasionally.<br>Anyone have any ideas?<br> <br>Obviously, my DB server is running<nobr> <wbr></nobr>:(





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

