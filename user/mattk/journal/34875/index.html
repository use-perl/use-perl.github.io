<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of mattk: iPhone maps</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>iPhone maps</h1>
<h2><a href="/user/mattk/">mattk</a> on 2007-11-11T10:31:41</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I impulse bought an iPod Touch on Friday. Had some fun jailbreaking it but it works nicely now. Since the iPod has no EDGE and the only ubiquitous wifi provider around in Melbourne is Telstra (who, on principle,  should not be given money), I've been hoping there will be an easy way to pre-cache image data on there, giving it more offline usefulness.</p>

<p>The map tile data is stored inside an SQLite file, with a basic schema (<a href="http://brainoff.com/weblog/2007/10/19/1271">more info here</a>), and MobileMaps.app uses HTTP for its communications, which is easily dissected by tcpdump and <a href="http://www.tcptrace.org/manual/node33_mn.html">tcptrace -xhttp</a>.  Unfortunately the POSTs aren't in plain text so I'm going to have to try and decode the API so I can fake a client with Perl and LWP that can grab all the data for a given area.</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

