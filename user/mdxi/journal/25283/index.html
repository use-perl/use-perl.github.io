<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of mdxi: OPML</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>OPML</h1>
<h2><a href="/user/mdxi/">mdxi</a> on 2005-06-20T06:29:15</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Olive now has the capability to import lists of feeds in <span class="caps">OPML</span> 
format. Here's the first run:</p>

<pre>mdxi@fornax:~/code/olive/trunk$ ./olive ~/MySubscriptions.opml 
Olive starting up.
Loading modules.
Initializing system.
Final stage setup.
Beginning OPML import.
71 of 72 feeds imported
See ~/.olive/errors.log for more information
mdxi@fornax:~/code/olive/trunk$ 
mdxi@fornax:~/code/olive/trunk$ cat ~/.olive/errors.log
-- Starting up at 2005-05-20T02:06:06 --
You're already subscribed to http://mdxi.collapsar.net/rss.xml as 'Diary'
mdxi@fornax:~/code/olive/trunk$</pre>

<p>It's quite simple: start Olive with an argument, and that argument is 
taken to be the name of an <span class="caps">OPML</span> file to be imported. A couple of basic 
sanity checks are done for each feed found (nested outline files are 
understood, but the 'container' outlines are discarded) and if 
everything looks good, the feed is added to the feeds hash. When its 
done, Olive terminates.</p>

<p>The result of the above import (me folding rjbs's <span class="caps">NNW</span> subscriptions 
into my testing subscriptions, yielded the following status line:</p>

<pre> [S: 571/981] [U/N: 888/888]</pre>

<p>So now we know that Olive handles larger amounts of data okay, and 
with the expected minimal increase in memory footprint (18M for ~80 
feeds and 981 stories versus 17.5M for ~10 feeds and ~100 stories).</p>

<p>It still needs some cleaning up -- it should definitely ask the user 
for a new nickname when there is a collision instead of just throwing 
the feed out and writing to the error log as it does now -- but for 
right now I can consider this done and move on to the last few things 
I want to add before moving into a pure cleanup and documentation 
phase for a stable release.</p>
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

