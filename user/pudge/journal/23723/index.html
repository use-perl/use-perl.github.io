<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of pudge: Armageddon</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Armageddon</h1>
<h2><a href="/user/pudge/">pudge</a> on 2005-03-18T18:57:01</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Over at Slash Central, we are actually working on converting Slash -- including Slashdot -- over to XHTML + CSS.<br/><br/>I'm not kidding.<br/><br/>My current task is taking the code we have to massage your comment and journal text into somewhat reasonable HTML, and making it spit out perfectly valid XHTML.  And then converting all existing comments to such valid XHTML.<br/><br/>I'm not kidding!<br/><br/>It's actually coming along well, better than I'd have thought.  I took 1,000 random Slashdot comments and ran them through my code and, after fixing some bugs found in the process, got the number of XHTML errors from 7,000+ down to 0.  And a side-by-side comparison shows them to still look mostly the same.  There's a few small/necessary changes, like putting content inside an UL tag in an LI.  Which was a HUGE pain.<br/><br/>A lot more to do, but the progress is encouraging.
</p>


<hr/>



<h2>Awesome!</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2005-03-18T19:23:34</h3>
<p>I actually think that's great news.  Woo hoo!  Will you let people apply their own stylesheets?</p>



<blockquote>

<h2>Re:Awesome!</h2>
<h3><a href="/user/pudge/">pudge</a> on 2005-03-18T19:48:20</h3>
At first, I doubt it.  But if there's enough request for it, who knows?<br>



<blockquote>

<h2>Re:Awesome!</h2>
<h3><a href="/user/Dom2/">Dom2</a> on 2005-03-19T09:14:24</h3>
Applying your own stylesheets opens the potential for abuse, sadly.  It's giving people complete control of the layout.  What's to stop some troll from using a  bit of absolute position to completely overlay the entire page with a picture of goatse?

<p>I seem to recall that this sort of thing happened on advogato a while back, although not as offensive.

</p><p>-Dom</p>



<blockquote>

<h2>Re:Awesome!</h2>
<h3><a href="/user/Yoz/">Yoz</a> on 2005-03-22T00:40:58</h3>
Well, if you allow people to paste raw CSS into their own user prefs, the only people who see goatse are the ones who specifically asked for it. I don't see what the problem is.



<blockquote>

<h2>Re:Awesome!</h2>
<h3><a href="/user/pudge/">pudge</a> on 2005-03-22T01:43:59</h3>
If we do it at all, it probably would only be in the form of allowing somone to point at a stylesheet URL.  That should be sufficient, I think.



<blockquote>

<h2>Re:Awesome!</h2>
<h3><a href="/user/Yoz/">Yoz</a> on 2005-03-22T02:08:15</h3>
<p>You're more likely to get the malicious-goatse-attack scenario by external pointing, unfortunately:</p>

<ol>
<li>Someone creates a nifty new stylesheet</li>
<li>Stylesheet URL gets really popular</li>
<li>Stylesheet suddenly gets switched to goatse, either by hacking or malicious owner</li>
</ol>

<p>This also assumes that the URL can survive the continual Slashdotting of point 2, which is several times less likely than the above attack.</p>



<blockquote>

<h2>Re:Awesome!</h2>
<h3><a href="/user/pudge/">pudge</a> on 2005-03-22T04:20:44</h3>
It's not like we'd be keeping a public list of the stylesheets.  If someone wants to link to their friend's stylesheet, that's their business.



<blockquote>

<h2>Re:Awesome!</h2>
<h3><a href="/user/Dom2/">Dom2</a> on 2005-03-22T08:32:01</h3>
That all sounds better than what I had in mind -- allowing specification of style="" attributes.  That really causes a problem because <em>everybody</em> gets to see it.

<p>-Dom</p>



<blockquote>

<h2>Re:Awesome!</h2>
<h3><a href="/user/pudge/">pudge</a> on 2005-03-23T04:34:33</h3>
Oh, you mean so someone gets your style if they see your page?  Yeah, we won't be doing that.  For that, if we may decide to accept themes from the community, but we would have to host them.





</blockquote>

</blockquote>

</blockquote>

</blockquote>

</blockquote>

</blockquote>

</blockquote>

</blockquote>


<h2>oh my</h2>
<h3><a href="/user/hfb/">hfb</a> on 2005-03-19T08:58:29</h3>
Jarkko and I will both being looking up and watching for the signs that the end of the world has arrived.  Next you're going to say that it installs on Solaris without a hitch!<nobr> <wbr></nobr>:D



<h2>Network IO</h2>
<h3><a href="/user/jk2addict/">jk2addict</a> on 2005-03-19T14:25:39</h3>
Aside from the usual it's-about-time comments, I'm extremely curious how this effects slashdot.org network bandwidth.<br> <br>I've always found the 'it makes your bandwidth usage smaller' argument of XHTML/CSS to be an intersting one, especially when you look at the before and after numbers of just the file sizes.<br> <br>Hopefully after the conversion we'll get a nice tech report on such geeky details.<nobr> <wbr></nobr>:-)



<h2>ALA's redesign of /.</h2>
<h3><a href="/user/Supercytro/">Supercytro</a> on 2005-03-20T13:21:36</h3>
Don't forget <a href="http://www.alistapart.com/articles/slashdot/" title="alistapart.com">ALA's article</a alistapart.com> on where they redesigned<nobr> <wbr></nobr>/. to be standards compliant CSS/XHTML



<h2>Something you might want to look at</h2>
<h3><a href="/user/WebDragon/">WebDragon</a> on 2005-03-23T19:58:40</h3>
While working on this redesign, you might want to keep a few things in mind, as poited out by the article below.<br> <br>http://hixie.ch/advocacy/xhtml<br> <br>to sum it up,<br> <br>IE6 does not support application/xhtml+xml (in fact, it does not support XHTML at all)<br> <br>Documents sent as text/html are handled as tag soup by most UAs.<br> <br>This is the key. If you send XHTML as text/html, as far as browsers are concerned, you are just sending them Tag Soup. It doesn't matter if it validates, they are just going to be treating it the same was as plain old HTML 3.2 or random HTML garbage.<br> <br>lots more detail in there, for the HTML/CSS/XHTML-savvy and strongly recommend you consider carefully the ramifications of offering XHTML as text/html particularly where IE6 is concerned (since it will be rendered as tag-soup, not XHTML)



<blockquote>

<h2>Re:Something you might want to look at</h2>
<h3><a href="/user/WebDragon/">WebDragon</a> on 2005-03-23T20:02:51</h3>
'poited' ? heh I must have been in Pinky &amp; The Brain mode.<br> <br>Anyway, I wanted to add that some lively discussion of these issues can be had in the #web channel on Freenode (great bunch of folks by the way. one of my favorite freenode channels.) in addition to more FAQ info linked therein by its helpful denizens.



<blockquote>

<h2>Re:Something you might want to look at</h2>
<h3><a href="/user/pudge/">pudge</a> on 2005-03-24T20:58:42</h3>
You're not even in the channel!





</blockquote>


<h2>Re:Something you might want to look at</h2>
<h3><a href="/user/pudge/">pudge</a> on 2005-03-24T20:51:04</h3>
Yeah, I've been wondering if we should bother with XHTML, and this gives me more reason to wonder.<br> <br>At this stage, there's no real difference between HTML and XHTML, as long as I we're being XHTML-compliant, except in whether to add the slash to empty tags like &lt;br<nobr> <wbr></nobr>/&gt;.  But pretty soon we will need to make that decision.



<blockquote>

<h2>Re:Something you might want to look at</h2>
<h3><a href="/user/legLess/">legLess</a> on 2005-03-31T03:10:48</h3>
<p>IMHO, Hixie's comments are valuable and interesting, but concerned more with correctness than practicality.  Porting a major CMS from tag-soup to HTML in 2005 is a half-measure.  XHTML requires little extra effort and is more forward-compatible.</p>

<p>If you read his page, you'll notice that nearly all of his points against XHTML are of the "unless you're careful, this will bite you" variety.  Solution:  use XHTML, and be careful.  Just internalizing what he writes will give you a significant leg up on the problem.</p>



<blockquote>

<h2>Re:Something you might want to look at</h2>
<h3><a href="/user/pudge/">pudge</a> on 2005-03-31T03:45:45</h3>
The thing is, if we are not going to have perfect XHTML, then there is no point to using XHTML.<br> <br>So that is the issue I am going over right now with my peeps.  WIll it be perfect, always?  If not, why bother using XHTML at all?





</blockquote>

</blockquote>

</blockquote>


<h2>Working example; might be helpful</h2>
<h3><a href="/user/legLess/">legLess</a> on 2005-03-31T02:56:31</h3>
<a href="http://news4neighbors.net/" title="news4neighbors.net">News4Neighbors</a news4neighbors.net>

<p>The site's been running for over a year.  A few interesting things we've done are:</p>

<ul>
<li>full XHTML templates; CSS for all style and positioning</li>
<li>photo upload plugin for story submissions</li>
<li>a Perl module which sets up enough of Slash code for automated testing</li>
<li>a custom plugin to manage organizations, to allow them to edit and publish their own data</li>
</ul>

<p>All of it's under version control, but not yet publicly available.</p>

<p>I did all the templating/styling myself, and I'll be the first to admit that it's not perfect.  The easy part, as you know, is creating a static page that looks or works like Slashdot (e.g. the ALA article).  Diving into Slash code and retemplating it all is a bear; tracing a path through the Perl modules to the template and back again...  But it works and the site's been reasonably successful locally.</p>

<p>I'm glad you guys are taking this project on.  Let me know if there's anything I can do to help.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

