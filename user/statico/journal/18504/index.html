<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of statico: perl saves the day! (kind of a seabuscuit thing)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>perl saves the day! (kind of a seabuscuit thing)</h1>
<h2><a href="/user/statico/">statico</a> on 2004-04-27T04:07:16</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>One-half of the College (including faculty and grad students and entire labs) is about to move into the <a href="http://www.ccs.neu.edu/buildingh/">new building</a>. Your job is to make sure a shiny new CAT-6 cable is plugged into the proper wall port so that they can unpack, plug their machine(s) in and go. This requires plugging the right-length cable into the right jack with the right VLAN, and <em>then</em> making notes if the VLAN has to be changed from the defaults in case, say, they have three Solaris machines instead of just one.</p>

<p>Most of the lab coordinators were nice and gave you a list of everyone in their new lab space and where they're going to be sitting, so you checked with them beforehand and determined what machines they have. Your only resources are your old host database and a static web page where people find out where they're going to move into. It's 3:00PM, you need to get out of there by 5:30PM and be back at the place at 8:00AM the next day to help everyone move in. What do you do?</p>

<p>Fear not, strong co-op, for thou art familiar with The Perl. You:</p>

<ol>
<li>..load each record of your sturdy host database with only the fields <em>IP address</em> (which you can tell the VLAN by), <em>room number</em> (the old one) and <em>hostname</em> (for convenience) into an array of arrays using constants to gain an extra speed boost when searching</li>
<li>..fetch the static page with <a href="http://search.cpan.org/dist/libwww-perl/lib/LWP/Simple.pm">LWP::Simple</a> and scrape the only the tables you want into an array using <a href="http://search.cpan.org/dist/HTML-TableExtract/lib/HTML/TableExtract.pm">HTML::TableExtract</a></tt>
<li>..create a new array of hashes to cross reference two data source to determine what machines were in the old office, sorted by new room number and omitting the labs you've already wired</li>
<li>..use the <a href="http://search.cpan.org/dist/Template-Toolkit/">Template Toolkit</a> to print out a nice report you can carry from room to room:</li>
</ol>

<pre>
|--------+--------------------------------------------------+-----------------|
|  Room  |                       IPs                        |      Name       |
|--------+--------------------------------------------------+----------------|
|  238   |  192.18.218.107 (maxro.ccs.some.edu)             |  Joe Tenure     |
|        |  192.18.215.154 (zeg.ccs.some.edu)               |                 |
|--------+--------------------------------------------------+----------------|
|  ...   |  ...                                             | ...             |
</pre>

<p>You write the script in an hour and finish outfitting the offices. Well done!</p>

<p>(Actually, I never saw "Seabiscuit," but you get the idea.)</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

