<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of pjf: Dark Stalking on Facebook</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Dark Stalking on Facebook</h1>
<h2><a href="/user/pjf/">pjf</a> on 2009-09-10T13:15:38</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p><b>Dark Stalking on Facebook</b><br />
For a while I've been using Facebook's API and <a href="http://wiki.developers.facebook.com/index.php/FQL">Facebook Query Language</a> (FQL) via Perl's <a href="http://search.cpan.org/perldoc?WWW::Facebook::API">WWW::Facebook::API</a> module to run fairly innocent queries on my friends.  If I visit a town, I'd like a reminder of who lives there.  If I want to go rock-climbing, it helps if I can easily search to see which of my friends share that hobby.  This is good, innocent stuff, and makes me glad to be a developer.
</p><p>
Last week I decided to play with event searches.  If a large number of my friends are attending an event, there's a good chance I'll find it interesting, and I'd like to know about it.  FQL makes this sort of thing really easy; in fact, finding all your friends' events is on their <a href="http://wiki.developers.facebook.com/index.php/Sample_FQL_Queries">Sample FQL Queries</a> page.
</p><p>
Using the example provided by Facebook, I dropped the query into my sandbox, and looked at the results which came back.  The results were disturbing.  I didn't just get back future events my friends were attending.  I got <i>everything</i> they had been invited to: past and present, attending or not.
</p><p>
I didn't sleep well that night.  I didn't expect Facebook to share past event info.  I didn't expect it to share info when people had <i>declined</i> those events.  I haven't found any way of retrieving friends' past events using Facebook's website, but using FQL made it easy.  Somehow, implicitly, I thought old events would fade away, only viewable to those who already knew about them.  I didn't expect them to stick around for my code to harvest, potentially years into the future.
</p><p>
Finding my friends' old events crossed a moral boundary I honestly didn't expect to encounter.  Without intending, I really felt like I was snooping.  It didn't matter that these friends had agreed to share this information under the Facebook <a href="http://www.facebook.com/terms.php">terms and conditions</a>.  <i>I</i> would personally feel uncomfortable with this much information being so readily available, and assume my friends would feel the same.
</p><p>
However my accidental crossing of moral boundaries wasn't the only thing that kept me awake last night.  I was also kept awake by wondering just <i>how much</i> information could I tease out of the Facebook API.  What could I discover?  What if I were evil?
</p><p>
However I'm <i>not</i> evil, so I put my code on hold for a while and made a call for volunteers.  I'd be restricting myself to just using the Facebook API, and without them installing any additional applications.  I wouldn't share their data in any way, but I'd be able to inspect and use it, and would try to provide them with a copy when I was done.  To be honest, I was surprised by the response; I now have almost two dozen people who have agreed to participate, covering a wide range of lifestyles and privacy settings.
</p><p>
The results have been very interesting.  I expected to be able to obtain personal information, including things like events, photographs, and friends; it doesn't take much imagination with the <a href="http://wiki.developers.facebook.com/index.php/Category:FQL_Tables">FQL tables</a> to find those.  What was most interesting are some of the more creative queries I was able to run.
</p><p>
Most recently, I've been able to obtain status feeds, even for users who have <i>very</i> tight privacy settings, although I had to tweak my own application's privileges to do so.  I don't know how far into the past these go, but they also come with <i>likes</i> information, and <i>comments</i>.  This gives me a wealth of information on the strength and types of relationships people have.  A person who comments a lot on another user's posts probably finds that user interesting.  If I descended into keyword and text analysis, I may even be able to determine <i>how</i> they find that user interesting.
</p><p>
But by far the most interesting part of all of this have been <i>dark users</i>.  Like <a href="http://en.wikipedia.org/wiki/Dark_matter">dark matter</a>, these users are not directly observable, usually because they've completely disabled API access.  In fact, some of these users are <i>completely</i> dark unless you're a friend.  They don't show up in search results.  They don't show up on friends' lists.  You can't send them messages.  If you try to navigate to their user page (assuming you know it exists), you get redirected back to your homepage.  These users have their privacy settings turned up real high, and are <i>supposed</i> to be hard to find.
</p><p>
However like dark matter, dark users <i>are</i> observable due to their effects on the rest of the universe.  If a dark user comments on a stream entry, I can see that comment.  More importantly, I can <i>see their user-ID</i>, and I can generate a URL to a page that will contain their name.  I can then watch for their activities elsewhere.  Granted, I can't <i>directly</i> search for their activity, but I can observe their effects on my friends.  For want of a better term, I've been calling this "dark stalking".
</p><p>
What makes this all rather chilling is that I'm doing all of this via the application API.  If your <i>friend</i> has installed an application, then it can access quite a lot of information about you, <a href="http://www.facebook.com/privacy/?view=platform&tab=other">unless you turn it off</a>.  If your <i>friend</i> has granted the application the <tt>read_stream</tt> privilege, then it can read <i>your</i> status stream.  Even if a <i>friend of a friend</i> has done this, and you comment on your friend's status entries, it's possible to infer your existence and retrieve those discussions through dark stalking.
</p><p>
While I've always considered people's own carelessness to be the biggest threats to their own privacy, in the social 2.0 world it seems we need to be increasingly worried about our friends, too!
</p><p>
I'm preparing a detailed paper with the results of my research (which is still ongoing), but I will be presenting my preliminary findings at <a href="http://barcampmelbourne.org/">BarCampMelbourne</a>, this weekend (11-12th September 2009), with a further update at the <a href="http://www.tucs.org.au/">University of Tasmania Computing Society (TUCS)</a> on the 2nd October.  A conference talk will invariably follow.
</p><p>
If you want to keep track of my research, then you can <a href="http://www.facebook.com/group.php?gid=145076327240">join the facebook group</a>, or the <a href="http://groups.google.com/group/facebook-privacy">facebook privacy group</a>.  I prefer comments and questions to directly to the <a href="http://groups.google.com/group/facebook-privacy">facebook privacy group</a>, or <a href="mailto:pjf@perltraining.com.au">to me directly</a>.
</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

