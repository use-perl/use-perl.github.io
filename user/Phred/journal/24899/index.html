<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Phred: Iptables to the rescue</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Iptables to the rescue</h1>
<h2><a href="/user/Phred/">Phred</a> on 2005-05-27T06:33:49</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>So as of lately, I've been cursing linux on the laptop.  I have a Fujitsu P-2110, which is a compact laptop with the footprint of two CD's.  I run Gentoo linux on it, and recently with a re-install I only run terminal mode to avoid the overhead of X.<p>
So granted this is not the fastest computer but it's great for coding.  It can sit on my lap for hours on end since it generates barely any heat from the Transmeta Crusoe processor.  I call it my thinking machine.  I just got hibernate working on it, meaning that I can type 'hibernate' and have it go to sleep, then append 'resume=/dev/hda2' to the kernel on boot and have it end up in the same state.  Not as good as a mac yet, where you can just close the lid and it sleeps, but getting close.<p>
So today my untrusty linksys WET54G bridge which I use as my connection to the world for my desktop and LAN, decided once again to cease functioning.  Called linksys, jumped through the hoops, and got an RMA.  But I'm sorry, I need t hack *right* *now*, and if I can't get online being the geek I am, I don't think I'll be able to ever live it down.<p>
So I take my Fujitsu, which I'm ready to introduce to $laptop->delete() and replace with a Powerbook, and I fire up the wireless, snag a point, plug it into my switch, set the ip for 10.0.0.1 as a gateway, and fire up iptables.   'iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE', and 'echo 1  > /proc/sys/net/ipv4/conf/all/forwarding', and a few pings later my LAN was back online, packets being routed via Cat 5 to my laptop, then forwarded into cyberspace via 80211b.  IIRC, you can't do this with a Mac unless you are running OS X server.  I used to have an airport, so now the score is linksys - 1, Apple - 1.<p>
The old laptop is saved from extinction.  Now as for that 17 inch Powerbook I've been eyeing...  Well what do *you* think?</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

