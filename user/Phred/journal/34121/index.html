<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Phred: $DEBUG and commented out code</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>$DEBUG and commented out code</h1>
<h2><a href="/user/Phred/">Phred</a> on 2007-08-15T20:19:59</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Sometimes I come across code that is commented out (everyone has right?).  The immediate question that comes to mind is what is the reason for the comments.</p>
<p>Sometimes it's obvious, like a really verbose debugging statement that you don't want to use often.  Other times it's less obvious.  One time I asked the author why a particular piece of code was commented out, and he said "Well I wrote it and then found a better way but I didn't want to throw the old code away.  We might want to reuse that code someday, but don't move it because we'll lose track of it".  Gah :)</p>
<p>So now when I have a piece of really verbose debugging code, I put <pre>our $DEBUG = 1;</pre> as a global, and use that to trigger the debugging.  I also use <pre>our $LEGACY = 1;</pre> to mark old sections of code with conditionals.  It's easier than dealing with the social politics of where unused code should go, and gives the maintainer some hint of why this code is there.</p><p>&nbsp;</p>
<p>Try removing someone's old commented out code and then see how they react when the commit message comes through - trust me this is a better approach.  I even used to leave my own commented code in places, and after coming back to it I remember the fear of "ok will this module blow up if I uncomment this?", or something similar.  I can't take credit for this idea, I picked it up from working with another great coder.</p></p>


<hr/>



<h2>Try constants instead</h2>
<h3><a href="/user/Alias/">Alias</a> on 2007-08-16T00:07:53</h3>
... so at least it's compiled out<nobr> <wbr></nobr>:/



<h2>comments?</h2>
<h3><a href="/user/mpeters/">mpeters</a> on 2007-08-16T17:14:13</h3>
Why not just put a textual comment with the commented code explaining why it's commented out. Not only will it not be compiled in, but it will also have a nice long explanation about why it's not being used.<br><br>You can even make a reference to a co-worker's hissy fit that occurred when you deleted it<nobr> <wbr></nobr>:)



<blockquote>

<h2>Re:comments?</h2>
<h3><a href="/user/Phred/">Phred</a> on 2007-08-16T17:54:11</h3>
<p>I use this approach probably 90% for verbose debugging and 10% to wrap scary looking code.  I try to comment scary code sometimes, but most often what I see is </p><p><blockquote> <div><tt>&nbsp; $foo-&gt;method_makes_sense;<br>&nbsp; # $foo-&gt;mugwumpus;<br>&nbsp; $foo-&gt;save;</tt></div> </blockquote>  so then I have to go and figure out what mugwumpus() does, which involves grepping, and emailing.  I guess I'd rather spend my time coding than mugwumpus-spelunking<nobr> <wbr></nobr>:)





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

