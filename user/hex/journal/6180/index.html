<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of hex: Wikibot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Wikibot</h1>
<h2><a href="/user/hex/">hex</a> on 2002-07-04T21:14:40</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>
As mentioned earlier, I now have wikibot working, at least in primitive form. I made it because I like wikis a lot and would like to be able to dump stuff into them straight from IRC.[0]
</p>
<p>
What it does: Like <a href="http://scribot.com/">scribot</a>, it's a bot that sits on an IRC channel, takes things told it by users and puts them onto a web page. However, wikibot, as you might guess, puts said things onto a page of a wiki, rather than a flat blog-type page. Thus allowing you to dive into the page and dick around with whatever you wikibotted, move stuff around, create structure or what-have-you. You can also take advantage of wiki features such as WikiLinks, etcetera.
</p>
<p>
How it works: The bot connects to IRC using the Net::IRC module, and, upon being called, will retrieve the contents of a wiki page's edit page[1] using LWP::UserAgent, grab the content out of the retrieved page, append the new data to that content, and then POST it back to the wiki.
</p>
<p>
Problems with it at the moment that I can see:
</p>
<ul>
<li>No bot help.</li>
<li>Configuration options are hardcoded.</li>
<li>It only works with <a href="http://www.usemod.com/cgi-bin/wiki.pl">UseModWiki</a>.</li>
<li>What happens if the page you're editing gets really big?</li>
</ul>
<p>
Apparently this POE::Component::IRC (did I get that right?) business is rather good. I don't know squat about it at the moment, so I need to look at that. Related to that is Trelane's bot framework, as also mentioned earlier - it may be worth switching it to run on that.
</p>
<p>
I'm still mulling things that it could do in the future; suggestions are welcome. One thing is perhaps taking arguments for what page to write to, like <code>wikibot: Foo / yak yak yak</code> where Foo is the page name, or something like that. I have a few other fuzzy notions, but I won't commit them to paper - so to speak - just yet. 
</p>
<p>
The code is running in #bots on london.rhizomatic.net - called "accretor". Try it out if you like: anything you tell it goes, for the moment, <a href="http://grault.net/cgi-bin/grubstreet.pl?Accretor_Test">here</a> (it's meant to go to accretion, but there are some issues with the server where that's hosted, so not yet).
<p>
[0] In particular, a wiki called <a href="http://0xff.org/cgi-bin/accretion.pl">accretion</a> that zool and I, and hopefully others, are using to accumulate links to content about the things that are driving our minds right now, bots amongst other things.
</p>
<p>
[1] Every page on a wiki is editable; clicking the "edit this page" will take you to a page with a form for editing it, and this is what I mean. Kind of like when you edit one of your journal entries here.
</p></p>


<hr/>



<h2>Cool...</h2>
<h3><a href="/user/Matts/">Matts</a> on 2002-07-04T21:52:08</h3>
Very cool. Some thoughts:<br> <br>1. Yes POE is good. Try POE::Component::IRC::Object - it's quite a lot like working with Net::IRC, but you get all the niceties of POE (such as doing your web lookups/posts can be non-blocking, allowing the bot to continue reading more edits.<br> <br>2. If you used AxKit Wiki, you could retreive the XML unstyled, so you'd get something like: &lt;edit&gt;&lt;text&gt;wikiwiki text here&lt;/text&gt;&lt;/edit&gt;, making it a wee bit easier to parse and append to (probably not a big deal though).<br> <br>3. Yes, posting to different pages would be nicer. Alternatively allow some sort of "set page" command.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

