<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of shockme: Sendmail and Spamassassin Blues</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Sendmail and Spamassassin Blues</h1>
<h2><a href="/user/shockme/">shockme</a> on 2002-09-23T00:44:48</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I didn't do much at all today.  $family{wife} had to leave town this morning, and (thankfully) let me sleep in.  She'll be back later tonight.  After the week I had, it's a much needed day off.
<P>
So, I ssh'd to a friend's box today and set up sendmail for him.  Unfortunately, the DNS records are screwed up, so his machine doesn't properly resolve.  That can't be fixed until Monday, at the earliest.  That ended that bit of fun.
<P>
I installed Spamassassin the other day, and am using the spam-ass milter to to call spamassassin from sendmail.  It worked like a champ for about  4 days, then started spitting messages lke the following in the logs:
<P>
<code>
Sep 22 19:24:05 frank sm-mta[18775]: g8N0K55T018775: Milter (spamassassin): timeout before data read<BR>
Sep 22 19:24:05 frank sm-mta[18775]: g8N0K55T018775: Milter (spamassassin): init failed to open
</code>
<P>
I've researched the problem, and the only solution seems to be restarting spamd, spam-ass and sendmail.  I wrote a perl script to do it, cron'd it hourly, but no joy.  spamd doesn't seem to be getting killed.  It works perfectly if I kill it manually, but the script just doesn't kill it.  And I'm running the script at root.  Very odd ... And very frustrating.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

