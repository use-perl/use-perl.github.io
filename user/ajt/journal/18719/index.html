<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of ajt: SAP, SQL, Perl and the World Wide Web</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>SAP, SQL, Perl and the World Wide Web</h1>
<h2><a href="/user/ajt/">ajt</a> on 2004-05-12T20:29:47</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>At work we run our business on a SAP system. It's big, expensive, and underutilised. One of the projects I have been involved in is using it to store data in, which we then use to build our web site. The original design was grand and quite nice, but like many projects of it's ilk, it was never actually implemented, under pressure from PHBs, corners were cut, and the result worked, but it's not shiny, and it doesn't scale.</p>

<p>This week I have been working with the SAP people, to dust down the original design goals, combine that with new experience, and produce a new shiny way of storing data and getting it out again. We started by storing the data in SAP, the way SAP intended, and not the way we ended up doing it to start with. This is good, so we now have data in SAP, files on the file system, and lots of linking between the two via the SAP DMS.</p>

<p>We threw away the Java Business Connector (BC) tool, and went for Piers Harding's excellent <a href="http://search.cpan.org/dist/SAP-Rfc/">SAP::Rfc</a> interface tool to SAP. By keeping all the business logic in SAP, I'm able to get the data out for the correct site, in the correct language, with all the right bits, in one go. I then convert the SAP tables into a "disposable" <a href="http://search.cpan.org/dist/DBD-SQLite/">SQLite</a> database, and then use normal SQL to build the web site at my lesiure.</p>

<p>I now don't have to fight with the BC thing, or have bits of business logic in the Perl layer, or deal with relational data in a huge XML file. It's often easier to do things a second time round, but even so, it's proving very easy and quick to do. Thanks to those who have helped me out (without knowing), they deserve a pat on the back...!</p>
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

