<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of TorgoX: Scheme numbers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Scheme numbers</h1>
<h2><a href="/user/TorgoX/">TorgoX</a> on 2004-09-04T23:52:40</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Dear Log,
<p>Scheme's implementation of numbers is rich like a Romanov!
Among its bric-&agrave;-Brak, there is the notion of exactness:

<blockquote>&laquo;It is necessary, however, to distinguish between numbers
that are represented exactly and those that may not be.
For example, indexes into data structures must be known
exactly, as must some polynomial coeffcients in a symbolic
algebra system. On the other hand, the results of measurements
are inherently inexact, and irrational numbers may
be approximated by rational and therefore inexact approximations.
In order to catch uses of inexact numbers where
exact numbers are required, Scheme explicitly distinguishes
exact from inexact numbers. This distinction is orthogonal
to the dimension of type.

<p>6.2.2. Exactness
<br>Scheme numbers are either exact or inexact. A number is
exact if it was written as an exact constant or was derived
from exact numbers using only exact operations. A number
is inexact if it was written as an inexact constant, if it
was derived using inexact ingredients, or if it was derived
using inexact operations. Thus inexactness is a contagious
property of a number.

<p>If two implementations produce exact results for a computation
that did not involve inexact intermediate results,
the two ultimate results will be mathematically equivalent.
This is generally not true of computations involving inexact
numbers since approximate methods such as floating
point arithmetic may be used, but it is the duty of each
implementation to make the result as close as practical to
the mathematically ideal result.

<p>Rational operations such as + should always produce exact
results when given exact arguments. If the operation
is unable to produce an exact result, then it may either
report the violation of an implementation restriction or it
may silently coerce its result to an inexact value. See section
6.2.3.

<p>With the exception of inexact->exact, the operations described
in this section must generally return inexact results
when given any inexact arguments. An operation may,
however, return an exact result if it can prove that the
value of the result is unaffected by the inexactness of its
arguments. For example, multiplication of any number by
an exact zero may produce an exact zero result, even if the
other argument is inexact.&raquo;</blockquote>

<p>It's an interesting idea.  But I can't say I've ever run into a
situation where that's what I needed.
<p>In fact, numbers are the place where Scheme seems to stop
being minimalist.  ("Convenience for the rich, virtue for the poor?")
</p>


<hr/>



<h2>I R ENGINEER!  TOOT TOOT</h2>
<h3><a href="/user/schwern/">schwern</a> on 2004-09-05T02:59:12</h3>
Sounds like it might vaguely be useful when calculating with <a href="http://www.towson.edu/user/ladon/sigfigs.html" title="towson.edu">sigfigs</a towson.edu>.



<h2>Scheme numbers</h2>
<h3><a href="/user/jordan/">jordan</a> on 2004-09-07T16:06:44</h3>
<ul><li><i>It's an interesting idea. But I can't say I've ever run into a situation where that's what I needed.</i></li></ul>  <br> <p>The people who made the Scheme standards are interested in things like <a href="http://foldoc.doc.ic.ac.uk/foldoc/foldoc.cgi?denotational+semantics" title="ic.ac.uk">Denotational Semantics</a ic.ac.uk> and proving program correctness.<br> </p><p>It's a lot easier to make rigorous statements about a language if you can be guaranteed that transformations like division and multiplication are truly inverse operations.  You want to know that (n/3)*3 = n and not (n +<nobr> <wbr></nobr>.0000000000001476).<br> </p><p>I think that some computer science types also believe that exactness in the language can lead to helpful program optimizations, but I'm not entirely on firm ground here (like I'm not on firm ground in this whole comment, but that never stopped me from posting before!).</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

