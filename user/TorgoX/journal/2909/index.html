<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of TorgoX: makepmdist</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>makepmdist</h1>
<h2><a href="/user/TorgoX/">TorgoX</a> on 2002-02-16T18:33:22</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I've written a program called makepmdist (which I'm planning to put in CPAN, once I get a bit of feedback on it) that simplifies the task of making a dist of a single module.  It's not meant to handle every kind of module in CPAN.  It's just meant to the common case of a pure-Perl modules that is the only module in its dist.  (For example, that describes about half of the dists in my CPAN directory.)

<p>Basically, you say "makepmdist Foo.pm" and it does some very minimal sanity-checking on Foo.pm, then makes a temp directory in which it copies Foo.pm, makes a Makefile.PL, a README, a MANIFEST, and a t/test.t.  Details of the contents of the Makefile.PL and the t/test.t are controlled by optional =for blocks in the Foo.pm file.  (It also does some nice things like make sure that the Foo.pm that gets disted is in Unix newline format and has a $VERSION; and it warns about any ridiculously long lines in the file.)  Then it makes test, dist, clean, moves the resulting .tar.gz up and out, and kills the temp dir -- unless there was a fatal error along the way, at which point it would just abort and let you ponder the temp dir's contents.

<p>I wrote this because someone at YAPC about two years ago said it'd be nice if disting a module were a one-step process; and I liked that idea.  Well, it almost is one-step now, if the module is simple enough (i.e., no XS, and is the only module in the dist), and if you don't count the part about actually submitting it to PAUSE, which would bring this to an aching TWO steps.

<p>I would appreciate if people would look at the program at its temporary location, at
<br><a href="http://members.spinn.net/user/sburke/makepmdist_101.txt">http://members.spinn.net/user/sburke/makepmdist_101.txt</a>
<br>and consider its docs, and test it out if you can, and let me know how it works for you.

<p>You probably have questions, and they are probably answered in the Pod that's at the end of that program file.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

