<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of TorgoX: &quot;The captain says: I'm a caveman&quot;</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>&quot;The captain says: I'm a caveman&quot;</h1>
<h2><a href="/user/TorgoX/">TorgoX</a> on 2003-01-20T01:05:22</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Dear Log,
<p>So, looking for something to do other than work on the book, I fiddled around and made a program that uses Astro::Sunrise to make a graph of sunrise and sunset times over the course of the year, for Juneau, and anywhere else I give coordinates for.
<p>Along the way, I found some bugs in Astro::Sunrise, which more or less show up only as you get toward the poles.  The notable bug was that when you ask for when the sun rises on a particular day, one of the intermediate calculations uses some Math::Trig functions that don't behave quite as expected in some cases.  Normally all is well -- but what if you're in Barrow, Alaska (above the Arctic Circle) in winter or summer, and you ask the question "when is sunrise (or sunset) today?".  The answer is, there isn't one.  But this wasn't being explicitly checked for in Astro::Sunrise.  So in a very mathy way, one of the Math::Trig functions starts returning a <em>complex number</em> at that point, which makes everything in Astro::Sunrise after that go screwy and scream warnings.  So I inserted some checks for such cases (making them return undef, in line with how some other checks in there already work), also fixed some TZ math stuff (so if sundown isn't until 1:10am, it shows up as 01:10, not 25:10), prettied up the docs, and sent off a patch to the guy.
<p>Meanwhile, I sent Gisle a patch to improve error reporting in HTML::Entities.  And while I was at it, I added a function to HTML-escape things numerically instead of nominally (&amp;#Xhexnum; instead of &amp;foo;), and also added a few more examples to the docs.  The silliest that I added was an example of HTML-escaping the string "vis-ÃÂ -vis BeyoncÃÂ©'s naÃÂ¯ve papier-mÃÂ¢chÃÂ© rÃÂ©sumÃÂ©".
<p>Thus far I have survived almost an entire month without Tivo.  It's like living in CAVEMAN TIMES!

</p>


<hr/>



<h2>Re: &quot;The captain says: I'm a caveman&quot;</h2>
<h3><a href="/user/jmcnamara/">jmcnamara</a> on 2003-01-20T09:08:56</h3>
This is the time. And <a href="http://www.cc.gatech.edu/user/jimmyd/laurie-anderson/work/albums/big-science.html" title="gatech.edu">this</a gatech.edu> is the record of the time.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

