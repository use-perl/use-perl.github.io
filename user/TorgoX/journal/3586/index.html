<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of TorgoX: Arachnia!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Arachnia!</h1>
<h2><a href="/user/TorgoX/">TorgoX</a> on 2002-03-16T09:37:42</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Dear Log,
<p>I spent all day poking at writing a chapter on spiders.
<p>I think there's roughly four kinds of LWP programs:
<ol>
<li>Programs that get one object off the web and process it (i.e., save it, whatever).
<li>Programs that get one object off the web, and find everything it links to, and process (save, etc) those.
<li>Programs that get a page, process it, look at everything that it links to <em>that's on the same host</em>, and get and process all those, and everything that they link to, and everything that those link to, <em>recursively.</em>

<li>Programs that get a page, process it, look at everything that it links to <em>wherever it is on the Web</em>, and get and process all of those, and everything that they link to, and everything that those link to, <em>recursively.</em>
</ul>
I constantly write programs that do the first two, but I don't generally call them "spiders".  I generally reserve the term "spider" for the last two.

<p>I can imagine writing a program that does the third (a single-site spider), and indeed I'm doing so for the chapter, and I think it'll comprise the meat of the chapter, showing off LWP::RobotUA.

<p>But it seems that many people want to write a program like the fourth -- a freely-traversing spider -- and for them I'm trying to muster something more useful than just saying "DON'T! [endchapter]".
<p>After spending much of the day watching the cursor blink ON and OFF and ON and OFF, I think that that section will be "Don't, because... [fifty good reasons]".
<p>Because just about everyone I know who admins a server, has had some numb-skull's useless aimless spider come and hammer their server senseless for just no good reason.
"I was just searching the whole web for pages about Duran Duran, is all!  How was I supposed to know your host would contain an infinite URL-space, in its events calendar site?"</p>


<hr/>



<h2>Third order spiders</h2>
<h3><a href="/user/ziggy/">ziggy</a> on 2002-03-16T15:00:16</h3>
Once you've got a link checker / site spider (type 3), how much work is it to make a general purpose onconstrained  spider (type 4)?  Not much.
<p>
It sounds like you need to handle the issue of senselessly hammering someone's webserver with the third part of the chapter.  Perhaps all you need to do with the fourth part is outline what needs to be changed (as an exercise for the reader) and continue with the litany of reasons why you shouldn't do this unless you <i>really</i> know what you're doing?</p>



<blockquote>

<h2>Re:Third order spiders</h2>
<h3><a href="/user/darobin/">darobin</a> on 2002-03-16T16:44:04</h3>
<p>
  <em> Once you've got a link checker / site spider (type 3), how much work is it to make a general purpose onconstrained spider (type 4)?</em>
</p>

<p>
  Actually, I think it's more the other way round. An unconstrained spider is easy to write, it's adding the constraints that's harder<nobr> <wbr></nobr>;)
</p>



<blockquote>

<h2>Re:Third order spiders</h2>
<h3><a href="/user/vsergu/">vsergu</a> on 2002-03-16T18:24:51</h3>
Yes, adding the constraints is harder, but the one constraint that distinguishes type 3 from type 4 isn't hard at all.  All you need to do it check that each URL starts with a particular prefix before you fetch it.<br> <br>The more difficult constraints, such as avoiding infinite URL spaces and not hammering a server too hard, apply to type 3 just as much as type 4.  But I guess you don't need to worry so much about them when you're running a type 3 program on a site that you control, since you'll be aware of any problems (or should be) and can stop the program when they come up.<br> <br>A type 3 program that's running on a site you don't control, however, seems to be just as troublesome as a type 4 program, so I'm not sure the distinction is all that useful.



<blockquote>

<h2>Re:Third order spiders</h2>
<h3><a href="/user/darobin/">darobin</a> on 2002-03-16T19:08:52</h3>
<p>
  True. Not hammering a site is rather simple, just sleep correctly (using LWP::RobotUA). Avoiding infinite space URLs otoh is hard and can probably only rely on heuristics (don't request more than n docs from server foo, don't request URLs that are longer than n chars, etc) or on the owner of the site having setup a robots.txt that you can read with WWW::RobotRules.
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

