<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of pemungkah: Debugger done</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Debugger done</h1>
<h2><a href="/user/pemungkah/">pemungkah</a> on 2003-06-06T17:38:48</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>The debugger has now been commented, top to bottom. <br/><br/>It was an interesting job, and well worth doing. Not only did I learn a lot, but something that others will be able to use has come out of it. In addition, I learned a lot about how to check a vastly re-commented, re-whitespaced source against the original. For those interested:
<ol>
<li>Install <a href="http://perltidy.sourceforge.net/"><tt>perltidy</tt></a>.
<li>Edit, edit edit. If you're going to try to clean up code, <tt>perltidy</tt> it now. The default settings yield very nice source.
<li>Once editing is complete, copy the source and edited versions elsewhere.
<li>Run this on <i>both</i> copies of the old and new source:
<code>
  perltidy -syn -dsm -naws -dnl -sob -dac -ce -bar
</code>
This will syntax-check the output, delete extra null statements, don't add whitespace, delete old newlines and re-break, "swallow" optional blank lines, delete all comments, cuddled elses, opening brace always on right
<li><tt>diff -ua</tt> the resulting code, piping it through 
<code>
  perl -p -e 'next if /^[\+\-]\s*$/'</code>
</ol>
You can now visually inspect the output, looking for dropped stitches. This works particularly well for catching <tt>pod</tt> blocks with missing <tt>=cut</tt>s, as the old code will show up as deleted from the output code.<br/><br/>It might be worthwhile to consider some code-comparison enhancements to <tt>perltidy</tt>; even with the command line given above, lines with their internal spacing changed will still show up as different. </p>


<hr/>



<h2>WOW!</h2>
<h3><a href="/user/ziggy/">ziggy</a> on 2003-06-06T17:44:04</h3>
Good Job!  Doubly so for having the gumption to see a problem, attempt to fix it, and succeed all on your own.
<p>
Thanks!
</p><p>
We all owe you some beers this summer.  What's your favorite?</p>



<blockquote>

<h2>Re:WOW!</h2>
<h3><a href="/user/pemungkah/">pemungkah</a> on 2003-06-10T15:05:40</h3>
I loved the stuff at the Church Brewpub in Pittsburgh; we'll have to see what's cookin' in Portland.<nobr> <wbr></nobr>:)





</blockquote>


<h2>Whitespace changes</h2>
<h3><a href="/user/vsergu/">vsergu</a> on 2003-06-06T17:45:27</h3>
Couldn't you use <code>-b</code> or <code>-w</code> when you run diff to avoid seeing whitespace changes?



<blockquote>

<h2>Re:Whitespace changes</h2>
<h3><a href="/user/pemungkah/">pemungkah</a> on 2003-06-10T15:03:46</h3>
<tt>-w</tt> seemd to help some (thanks!), but newlines are still a problem here and there. More fiddling with <tt>perltidy</tt> might do it.<br> <br>I think the real problem is that it's not easy to parse perl and do a real semantic diff.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

