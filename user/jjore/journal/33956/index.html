<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jjore: ( Regexp | XPath ) = Unification + Choicepoints + Syntax</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>( Regexp | XPath ) = Unification + Choicepoints + Syntax</h1>
<h2><a href="/user/jjore/">jjore</a> on 2007-08-02T06:03:24</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I didn't realize until today that the unifying idea behind regular expressions and XPath and all the other nifty pattern matching stuff available in neato-keen languages like Oz, Erlang, Haskell, Prolog, etc is that "regexps" and XPath were just convenient syntaxes to generate input to unification operations.<br/><br/>Consider the expression <pre>'abc' =~ /^[a-z]+\z/</pre><br/><br/>Expanded, the string is the list <pre>[ 'a' 'b' 'c' ]</pre> and conceptually, the regexp is a stream of <pre>any( 'a' .. 'z' )</pre> values which unify to any of the values a through z.<br/><br/>I gather that this idea that having unification so close to the programmer would let us all do "regexps" on arbitrary data structures more often because we'd just have to express the template streams ala HOP or similar. Apply your template to your data and viola! Destructuring!<br/><br/><pre>
%foo = (
    a => 1,
    b => 2,
    c => 3,
    d => 4,
);<br/><br/># Now apply yon unification operator
\ %foo ~~ {
    $bar => 1,
    $baz => 2,
    c => $c,
};<br/><br/># The following variables would then be populated.
assert( $bar eq 'a' )
assert( $baz eq 'b' )
assert( $c eq '3' )
</pre></p>


<hr/>



<h2>ocaml edition</h2>
<h3><a href="/user/diakopter/">diakopter</a> on 2007-08-03T02:01:49</h3>
<a href="http://www.cduce.org/" title="cduce.org">http://www.cduce.org/</a cduce.org>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

