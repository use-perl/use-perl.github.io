<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of sumdeus: Ahhhhh PHP you evil dog...</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Ahhhhh PHP you evil dog...</h1>
<h2><a href="/user/sumdeus/">sumdeus</a> on 2004-03-18T07:59:56</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Been quite busy lately using PHP--a mortal sin, but a necessary sin. Gotta get paid. In using it more and more however, I've become sincerely agitated over an increasing number of things:<br>
<OL>
<LI>If I have to write ereg_* for a regular expression one more time I'm going to barf.</LI>
<LI>All of the templating solutions are slow. Yeah, I know about caching the page, but I want more speed!</LI>
<LI>Can you say CPAN? The PHP version of cpan is googling for code... sad.</LI>
<LI><code>&lt;?</code> ... what the hell is \&lt;?...</LI>
<LI>I even miss the giant CGI.pm module...</LI>
</OL>
What I need is a to be able to write Perl code and it's translated into php by some sort of fancy shmancy translator. Ah, a dream come true. Be glad you're hacking it in Perl.</p>


<hr/>



<h2>Perl in HTML in PHP</h2>
<h3><a href="/user/Juerd/">Juerd</a> on 2004-03-18T09:55:03</h3>
<blockquote><div> <tt>&lt;?$x='PLP::Tie::Print::PRINT';$w=escapeshellarg($_SERVER[SCRIPT_FILENAME]);<br>$z<nobr>=<wbr></nobr>   preg_split("/\n\n/",`perl -e'my\$f=shift;use PLP;\$ENV{PATH_TRANSLATED}=<br>\$f;my\$z=\\&amp;$x;*$x=sub{*$x=\$z;PLP::sendheaders};<nobr>P<wbr></nobr>   LP::everything' $w 2&gt;&amp;1`<br>,2);foreach(preg_split("/\n/",$z[0])as$y)header($y);echo$z[1];exit?&gt;&lt;::&amp;<nobr>g<wbr></nobr>  t;  <br>
&nbsp; &lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;A PLP (Perl-in-HTML) document in PHP!&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;: BEGIN { $header{'Content-Type'} = 'text/html; charset="US-ASCII"'; }<nobr> <wbr></nobr>:&gt;<br>&lt;body&gt;<br>&lt;p&gt;<br>It works! Let me show you with &lt;tt&gt;&amp;lt;: print "See?&amp;lt;br&amp;gt;" for 1..5<nobr> <wbr></nobr>:&amp;gt;<br>&lt;/tt&gt;<br>&lt;/p&gt;<br>&lt;p&gt;<br>&lt;: print "See?&lt;br&gt;" for 1..5<nobr> <wbr></nobr>:&gt;<br>&lt;/p&gt;<br>&lt;p&gt;<br>And some data dumping:<br>&lt;/p&gt;<br>&lt;p&gt;&lt;pre&gt;<br>&lt;:<br>&nbsp; &nbsp; use Data::Dumper;<br>&nbsp; &nbsp; print Dumper([ `ls -l` ]);<br>:&gt;<br>&lt;/pre&gt;&lt;/p&gt;<br>&lt;p&gt;<br>YAY!<br>&lt;/p&gt;<br>&lt;p&gt;<br>There's   no POST content available this way, though. Oh, and it's slow because of the forking.<br>&lt;/body&gt;<br>&lt;/html&gt;</tt> </div></blockquote>Last line of PHP should end in, without spaces: questionmark, greaterthan, lessthan, colon, colon, greaterthan. But this site HTML encodes first and then adds spaces. Not the way to go, especially with code. I see that it also put a space in "PLP" somewhere. Ah well, you'll figure it out.



<blockquote>

<h2>Re:Perl in HTML in PHP</h2>
<h3><a href="/user/sumdeus/">sumdeus</a> on 2004-03-18T16:19:02</h3>
There mere fact that this exists is both terrifying and intriguing.  However you say that there's no POST content and it is terribly slow, not quite what I was looking for since I need to be using quite a bit of POST data and I need the site to be ultra fast.<br> <br>I am going to continue to look at this just because i find it interesting. Thanks for the heads up on this, much appreciated.



<blockquote>

<h2>Re:Perl in HTML in PHP</h2>
<h3><a href="/user/Juerd/">Juerd</a> on 2004-03-19T00:01:21</h3>
You could hack POST support into it. It's just a proof of concept and I didn't bother to do such a thing.<br> <br>If you need your site to be ultra fast, why the heck use PHP? Try PLP or if you can your own PerlHandler.





</blockquote>

</blockquote>


<h2>PHP and state of sin.</h2>
<h3><a href="/user/n1vux/">n1vux</a> on 2004-03-18T23:13:53</h3>
I also have sinned.
<p>
I tried to talk the operator of a dot-org that wanted dynamic content and templates to install slashcode and some other Perl templatey stuff, but he was already using PHP for his Photo Gallery and other projects, alas. With the built-in MYSQL hookds it's not half bad, and it's *almost* Perl<nobr> <wbr></nobr>... for what it's good for, we shouldn't need ereg_whatever_match very often. *sigh*.
</p><p>
The website is PHP fronting MYSQL for dynamic content.  Currently updates are still manual SQL, eventually we might add a GUI, but volume isn't so high it's a bother.  Originally it was static pages generated by perl -MText::Template from fielded text files, but I needed something a little more plausible. I do the offline preprocessing for the graphics in Perl still. Maybe later I'll give him a Perl DBI+GD CGI to make them dynamic too<nobr> <wbr></nobr>... later.
</p><p> If PHP comes out with a CRUD screen generator in the next release, that understands foreign keys somewhat, I'd be happy.
</p><p>
Next time I do a dot.org website, if they don't want MASON, they can find someone else<nobr> <wbr></nobr>... I tell myself<nobr> <wbr></nobr>;-)
</p><p>
Bill
<br>Editor of <a href="http://ema.arrl.org/fd/fd_dir.php" title="arrl.org">ema.arrl.org FD Directory</a arrl.org> among others.</p>



<blockquote>

<h2>Re:PHP and state of sin.</h2>
<h3><a href="/user/sumdeus/">sumdeus</a> on 2004-03-18T23:25:15</h3>
It's nice to hear from someone else with similar woes. Hardcore Mason user eh? I think I'll stick with my TT, hasn't let me down so far.<br> <br>*sigh* back to the php world...





</blockquote>


<h2>Bless me father for I too have sinned</h2>
<h3><a href="/user/WebDragon/">WebDragon</a> on 2004-03-20T00:56:14</h3>
However I was lucky enough to be able to code the back end admin interface with perl/DBI,DBD::mysql/CGI.pm/CSS before having to diddle with the front end PHP/CSS/Javascript<br> <br>SO far it's all coming together rather well, but like someone else here said, if I have to write preg_match* or ereg_match* one more damn time, I swear to god I'm gonna kill -9<nobr> <wbr></nobr>/dev/universe.<br> <br>*sigh* why the hell does it have to be so similar to perl? I'd be fine if it were widely different. and the slight differences are a major PITA.<br> <br>continue in php means next in perl.<br>there is NO SUCH THING as a continue block.<br>break in php means last in perl.<br> <br>crap like this.<br> <br>I hear php was originally based on perl, and if so why the crapulous miasma of hell did they have to change it so much?<br> <br>there's not even an 'unless' nor can I change the ordering of if statements<br> <br>I can't do<br> <br>blah($attr) unless $row-&gt;id == $whatever;<br>or<br>blah($attr) if !($row-&gt;id == $whatever);<br>or even<br>unless ($row-&gt;id == $whatever) { blah($attr);}<br> <br>I gotta do<br> <br>if ( !($row-&gt;id == $whatever) ) {<br>
&nbsp; &nbsp; &nbsp; blah($attr);<br>}<br> <br>messy, very very messy. AND ugly as &amp;*^#$^.<br> <br>shoot me now. you'd be doing me a favor.<br>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

