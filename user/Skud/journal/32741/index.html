<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Skud: PAUSE problems</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>PAUSE problems</h1>
<h2><a href="/user/Skud/">Skud</a> on 2007-03-19T11:58:18</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>
Ever have one of those days where you have a great idea, implement it, then completely forget that the implementation exists?  Perhaps it's just me.
</p>
<p>
Last October I had a not-particularly-brilliant  idea about how to deal with a website I was working on for a friend.  I figured I needed something like Template::Toolkit's "ttree" tool, but since HTML::Mason is my drug of choice I wanted a similar tool for Mason.
</p>
<p>
That's why I wrote MasonX::StaticBuilder, and uploaded it to CPAN.  And while I waited for it to wend its way from PAUSE to CPAN proper, I went off and did some other things, and got sidetracked, and to be honest I kind of forgot about it til now.
</p>
<p>
What? It's only six months!
</p>
<p>
Suffice it to say that I haven't actually found a need for MasonX::StaticBuilder since October, and haven't missed it at all.  Which is just as well, as it seems it never made it to my search.cpan.org author page (<a href="http://search.cpan.org/user/skud">http://search.cpan.org/user/skud</a>).
</p>
<p>
Googling for the module name shows that it's turned up at cpan.org (<a href="http://www.cpan.org/authors/id/S/SK/SKUD">http://www.cpan.org/authors/id/S/SK/SKUD</a>) and at cpantesters (<URL:http://www.nntp.perl.org/group/perl.cpan.testers/2006/10/msg364084.html>) but not on search.cpan.org.  The cpan.org URL shows that the .tar.gz is there but there's no readme file extracted.  Odd.
</p>
<p>
So I went to PAUSE and told it to force a re-index, but that doesn't seem to help.
</p>
<p>
Anyone know what might be up?
</p>
<p>
Not that it's the end of the world either way, but it seems like I've got an awful lot of 5+ year old cruft and nastiness in my directory, and it'd be nice to have the more recent, less horrible stuff at least show up.
</p>
<p>
(The same problem seems to have affected Test-File-Contents-0.04 and Test-Mail-0.04 which I uploaded on the same day (both being just packaging cleanups and the like).  This afternoon I uploaded Test-Mail-0.05 which superceded 0.04 and dealt with the problem in a roundabout way, so it seems that re-uploading with an incremented version number would be a workaround for MX::SB, but I'd really prefer to find out what the hell went wrong the first time, if I can.)
</p></p>


<hr/>



<h2>Contents</h2>
<h3><a href="/user/Matts/">Matts</a> on 2007-03-19T14:09:15</h3>
This can happen if the module name can't be found in the files I think. Or if the VERSION value can't be parsed. Something like that. We really need a "make lint" stage<nobr> <wbr></nobr>:-)



<blockquote>

<h2>Re:Contents</h2>
<h3><a href="/user/Skud/">Skud</a> on 2007-03-19T21:05:10</h3>
I'll look into it, but I don't believe that's the case.  I'm not CPAN guru but I do know how to build a package.  IIRC I used Module::Starter for the ones I uploaded in October, and I built the tarballs using "make dist" and "make disttest" and everything was fine then.<br/><br/>I'll probably just re-upload.





</blockquote>


<h2>Bad archive</h2>
<h3><a href="/user/tonyc/">tonyc</a> on 2007-03-19T22:40:50</h3>
<p>The file isn't a tar.gz:</p>

<code>tony@develop-help:~$ tar tzf<nobr> <wbr></nobr>/mnt/hdc2/ftp/pub/cpan/authors/id/S/SK/SKUD/MasonX-StaticBuilder-0.01.tar.gz<br>
<br>
gzip: stdin: not in gzip format<br>
tar: Child returned status 1<br>
tar: Error exit delayed from previous errors<br>
tony@develop-help:~$ file<nobr> <wbr></nobr>/mnt/hdc2/ftp/pub/cpan/authors/id/S/SK/SKUD/MasonX-StaticBuilder-0.01.tar.gz<br><nobr> <wbr></nobr>/mnt/hdc2/ftp/pub/cpan/authors/id/S/SK/SKUD/MasonX-StaticBuilder-0.01.tar.gz: HTML document text
</code>

<p>From looking at it, you've got some sort of HTML wrapper around the actual<nobr> <wbr></nobr>.tar.gz file.</p>



<blockquote>

<h2>Re:Bad archive</h2>
<h3><a href="/user/Skud/">Skud</a> on 2007-03-19T23:14:20</h3>
Ha! OK, that explains it.  It's convoluted and stupid but I know what happened.<br/><br/>I was working on the modules over on my hosted server, and rather than do the file upload to PAUSE as I usually do, I chucked the files in a web-accessible tmp directory and pointed PAUSE at the URL.<br/><br/>But around that time, I'd screwed with HTML::Mason on my website to tell it to handle all files except those explicitly excluded.  I excluded JPGs and CSS and crap like that, but I probably didn't explicitly exclude tarballs.  So PAUSE makes an HTTP request to my webserver, webserver goes "ah,<nobr> <wbr></nobr>.gz, I'll handle that with Mason," barfs horribly, spits out Mason error messages, and confuses PAUSE no end.<br/><br/>I feel like a moron, but at least the mystery is solved.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

