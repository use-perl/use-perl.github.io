<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of ziggy: Tips for web services</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Tips for web services</h1>
<h2><a href="/user/ziggy/">ziggy</a> on 2004-04-01T02:43:20</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Tip #1 for writing web services:
<blockquote>
Read fewer specs.  Keep writing code.
</blockquote>
(A variation on a theme from <a href="http://www.infoworld.com/article/03/03/05/HNmanyspecs_1.html">Don Box</a>, one of the authors of the original SOAP spec.)
<p>
The dirty little secret about web services is that they're not rocket science.  You can link two apps together through approximately one of 186,000 low level IPC mechanisms around today.  Instead of cooking up problematic binary formats, just sling text (er, XML) over the wire.  Then, cobbling together random clients and services becomes <b>much</b> easier.  Focus on that, not the latest revision of WS-ToiletPaper.
<p>
Once you've got that down, repeat with W3C XML Schema and XQuery.
<p>
That is all.
</p>


<hr/>



<h2>I was just thinking the same thing.</h2>
<h3><a href="/user/brev/">brev</a> on 2004-04-01T04:15:34</h3>
<p>My latest exciting task is to integrate two websites' back ends (and front... don't ask) using web services. On their end, the first guy wanted to hand-roll all his own XML protocols. I loudly protested that there were standards for doing this, and you guys are all<nobr> <wbr></nobr>.NET anyway so why not use SOAP? Then he disappeared from our conference calls and the new guy agreed SOAP was the answer.</p>

<p>We got his snazzy WSDL code this week, autogenerated from Visual Studio. Every function expects the parameter <code>(String xmlString)</code>, and returns <code>(String xmlString)</code>.</p>

<p>Yup! He took the hand-rolled, hand-parsed XML formats the previous guy did and wrapped them in  automatically-rolled, automatically parsed SOAP calls. Another<nobr> <wbr></nobr>.NET success story.</p>

<p>There were similar bone-headed ideas about authentication, and all this reminded me why I hated Web Services (the RPC SOAP way).</p>

<p>I moseyed into <a href="http://groups.yahoo.com/group/rest-discuss/" title="yahoo.com">rest-discuss </a yahoo.com> and it's funny how much of the discussion is about basically nothing.
REST style solves a lot of problems, and the ones it doesn't are irreducible anyway. The one useful discussion I've seen has to do with representing transactions, but that's it.</p>

<p>So in keeping with the law of conservation of frustration, everybody worries about whether little tiny variations are still RESTful. Or whether they're going to squeeze the maximum performance from intermediate caches (which they never even <i>thought</i> about, I'll bet, until REST alerted them to this property of the web.)</p>

<p>One guy makes up ridiculous constraints as excuses to use whizzy-cool stuff like <a href="http://groups.yahoo.com/group/rest-discuss/message/4284" title="yahoo.com">partially-encrypted XML documents</a yahoo.com>.</p>

<p>Are we collectively allergic to simplicity?</p>



<blockquote>

<h2>Re:I was just thinking the same thing.</h2>
<h3><a href="/user/ziggy/">ziggy</a> on 2004-04-01T14:10:58</h3>
<blockquote><div> <i>
Are we collectively allergic to simplicity?
</i> </div></blockquote>

I'm beginning to think that we are.

<p>
I had a really good conversation with a colleague recently, regarding
the most recent PyCon here in DC.  He was describing how there are two
kinds of people: those who are good at making a decision, and those who
are paralyzed into building concensus and giving voice to all sides
before choosing one path among many.

</p><p>
The industry is pretty much the same way.  There are some individuals
who are really good at making executive decisions that stick.  (James
Clark comes to mind.) There are some who make strong pronouncements that
mostly stick.  (Kent Beck comes to mind.  His vision of XP is pretty
bold and idiosyncratic; many reject it out of hand, and many accept XP
in the spirit in which it was intended.  Virtually no one takes XP
wholesale.)

</p><p>
Then there's the work that is done through consensus building: SOAP, XML
Schema, Common Lisp, C++, SGML, Windows, etc.  Funny, but that list has
some of the least simple and most reviled technologies we've yet to
produce.  I wonder if there's a connection....

</p><p>
This industry often feels like it's moving at diplomatic speed.
It takes years for things to evolve and concensus to emerge before
any change is adopted enough to have meaningful impact.  It's the
Lisper's Lament: all of these ideas are over 30 years old -- why is the
rest of the world just getting around to discovering them?</p>



<blockquote>

<h2>consensus building</h2>
<h3><a href="/user/brev/">brev</a> on 2004-04-02T01:51:55</h3>
Well, you're taking a different tack... that standards accumulate dross in trying to please everyone.<br/><br/>But people actually think SOAP is the way forward because they see all the *competing* standards and go wow, look at all this intellectual activity!<br/><br/>(Also: Windows? Consensus? Surely you meant to type X-Windows.<nobr> <wbr></nobr>;)





</blockquote>

</blockquote>


<h2>XML-RPC please!</h2>
<h3><a href="/user/jjohn/">jjohn</a> on 2004-04-01T12:46:37</h3>
<p>Although very similiar at a distance, I have found XML-RPC to be easier glue to work with than SOAP.  Why?  Because XML-RPC has a defined and limited set of datatypes.  SOAP is a bit too extensible for its own RPC good.  I recall recently fighting with Java over how an array of strings (received via SOAP) should be decoded.  What a nightmare.  I forget the anwser, but it involved a few classes. eww.
</p><p>So, yes.  7-8 data types for my RPC, please and bbjects be damned!<nobr> <wbr></nobr>;-)</p>



<blockquote>

<h2>Re:XML-RPC please!</h2>
<h3><a href="/user/ziggy/">ziggy</a> on 2004-04-01T13:49:21</h3>
Most of the time, SOAP <i>is</i> overkill.  It's just RPC with a few
primitive datatypes, and XML-RPC is sufficient.
<p>
But XML-RPC isn't without its flaws, either.  One of the things that
SOAP got right is that RPC really needs a kind of IDL.  WSDL sucks, but
at least with WSDL, you can point a decent library at an interface
definition and build a working stub, instead of working with an RPC
library directly.  With a sufficiently dynamic language, you can do it
all at runtime.  Theoretically, you <i>could</i> pair XML-RPC and
WSDL, but I haven't seen that done in practice.
</p><p>
Also, there's the RESTian issue.  Neither XML-RPC nor SOAP respect web
architecture.  It's <i>much</i> easier to create a service with simple
GET/POST parameters on a simple script than it is to overcomplicate
matters by stuffing the request and response within a sea of angle
brackets.  For one thing, it makes it much easier to do something
sensible with a service using LWP or even WWW::Mechanize.  Gee - work
with the web instead of against it, and it's easier for people to use
your service.  Who'da thunk it?
</p><p>
So, yes, XML-RPC is a lot less nasty than SOAP.  But considering
how Satan is building a whole new circle of hell for SOAP its spec
writers, that's not saying a whole heck of a lot.<nobr> <wbr></nobr>;-)</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

