<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of ziggy: Shared Nothing is in your future</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Shared Nothing is in your future</h1>
<h2><a href="/user/ziggy/">ziggy</a> on 2006-10-03T23:39:38</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>
The writing is on the wall - <a href="http://patricklogan.blogspot.com/2006/09/im-isolationist-you-probably-are-too.html">shared-nothing systems</a> are in your future:
</p>
<blockquote><p><i>
Let's be clear that the JVM has been lurching toward a shared-nothing model already for well over five years.
</i></p><p><i>
The servlet model, the EJB model, the Jini model... these are all in various ways attempting to provide semi-shared-nothing models so we can each contribute our own isolated parts to the whole. Unfortunately they're each anachronistic, one-off, partial solutions. JSR 121 is attempting to make this even more general for all kinds of pojo scenarios.
</i></p><p><i>
Given the isolation model that just comes for free with Erlang, the vast majority of the complexity and variation of these lurches toward isolation for Java would just go away. (Erlang itself has a *little* cruft but that's nitpicking.)
</i></p></blockquote>
<p>
Haskell pushes you in this direction, because "shared nothing" is the default state; making a multithreaded program is somewhat easy, and making a shared memory multithreaded system actually takes a decent amount of effort and wizardry.  PHP also pushes developers into a "shared nothing" model, which is rather telling.
</p>
<p>
Even if Erlang <i>isn't</i> in your future, chances are that lessons from Erlang <i>are</i> in your future.  There's something to be said for high performance, highly scalable systems that are ready for massively multiprocessor (and multi-node) systems.
</p></p>


<hr/>



<h2>PHP's shared nothing</h2>
<h3><a href="/user/perrin/">perrin</a> on 2006-10-04T21:02:43</h3>
I always thought that the argument Rasmus made about PHP being scalable because it didn't share anything by default was kind of silly.  I mean, you could say the same thing about bash-scripting.  (Or Perl, of course.)  To make an interesting multi-page web application, you have to introduce some kind of state, usually via sessions of some kind.  The mechanisms for saving and restoring state aren't fundamentally different for Java than they are for PHP: cookies, a database, etc.



<blockquote>

<h2>Re:PHP's shared nothing</h2>
<h3><a href="/user/ziggy/">ziggy</a> on 2006-10-04T21:12:46</h3>
If you commit to saving and restoring state, then the options are pretty much the same.<br><br>The difference is when you start persisting state in memory, share it across threads, and expect it to always be there by design.  That's when you start to see scalability problems: session affinity becomes a requirement, max users per server, max concurrent connections per server, hunting and killing long running processes, etc.<br><br><b>That's</b> the kind of resource management that gets you in trouble, and makes you move toward shared nothing, either by convention (the Java framework of the week), by enforcement (PHP, Erlang, Haskell).



<blockquote>

<h2>Re:PHP's shared nothing</h2>
<h3><a href="/user/perrin/">perrin</a> on 2006-10-04T21:18:59</h3>
None of the Java servlet implementations I used stored state in memory.  Maybe that was done really early on, or is an option on some of them.  It's certainly not the norm.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

