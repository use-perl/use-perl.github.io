<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of ziggy: Nancy Typing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Nancy Typing</h1>
<h2><a href="/user/ziggy/">ziggy</a> on 2006-02-24T17:42:47</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>
We all know about <a href="http://en.wikipedia.org/wiki/Duck_typing">Duck Typing</a> (if it walks like a duck, and talks like a duck, then it's probably a duck).  Works fine most of the time with dynamic objects (in Perl, Ruby, Python, etc.).  Also used as a defense against big up front static compilation regimes (in C++, Java, etc.) that claim to help you from making type errors by catching them early (but actually give you more stuff to type, since you're always using casts to turn off the type checks every line or three).</p>
<p>
Dave Herman has a <a href="http://calculist.blogspot.com/2006/02/nancy-typing.html">new take</a> on the situation - Nancy typing.  In typical lispnik fashion, Dave is picking on Perl's DWIMery  in this example:
<blockquote><p><i>
In some cases, the heuristics for conversion are arguably relatively clear, but sometimes the language is so eager to find some way to make the operation consistent rather than simply give an error (and force the programmer to be more explicit) that extremely bizarre and unpredictable behavior ensues.  [...]</i></p>
<p><i>[E]very once in a while, the system reported a false positive[...]. And it just so happened that in each one of these cases, the name in the record was "Nancy." 
The explanation is that the programmer had accidentally used the numeric equality operation, rather than string equality. </i></p></blockquote>
<p>
Yep.  "Every" name numifies to 0, except for Nancy, who numifies to NAN.  Everyone is thus numerically equivalent to everyone else, except for Nancy, who is numerically equivalent to no one (including herself).
</p>
<p>
Whoops.  That's a, um, rather <i>interesting</i> form of silent failure.  If you're wearing your Lispy hat today, you can extrapolate this into a proof that duck typing fails thanks to dear old Nancy.
</p>
<p>
The rest of you can take this opportunity to add dear old Nancy to your smoke tests.  :-)
</p>
<p>
<b>Update</b>: This bug exists in 5.6.0/5.6.1, but is fixed as of 5.8.0.  So you can either worry about Nancy, or just upgrade to a reasonable version of Perl.  :-)
</p></p>


<hr/>



<h2>google nancy perl</h2>
<h3><a href="/user/mr_bean/">mr_bean</a> on 2006-02-25T11:30:11</h3>
This is a fast-breaking story, which Google
hasn't picked up on yet.
The first result it turns up for Nancy Perl is
<a href="http://journals.aol.com/bookmaven2005/blog/entries/1795" title="aol.com">The Sexy Librarian</a aol.com>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

