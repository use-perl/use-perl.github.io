<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of ziggy: Patching running code</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Patching running code</h1>
<h2><a href="/user/ziggy/">ziggy</a> on 2004-02-25T16:14:14</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Lisp folks like to talk about the power of their language and environment.  A common citation is <a href="http://lib1.store.vip.sc5.yahoo.com/lib/paulgraham/bbnexcerpts.txt">Paul Graham's experiences</a> at ViaWeb, where using Lisp allowed developers to modify a system, while running.  This was quite impressive, because Paul claims that many fixes could be performed while the customer was on the phone reporting the bug, and fixed live <i>for the entire system</i>.
<p>
Lisp isn't the only language to have this property.  True, it's damn near impossible to do this in C/C++ or perhaps even Java.  But you can accomplish this with any simple fork/exec CGI script, and with a little work, you can still do it with moderatly complex web apps, including those using mod_perl.  Not as quickly as you could do with your standard lisp image, but not impossible.
<p>
Bill Clementson was talking about this <a href="http://home.comcast.net/user/bc19191/blog/040223.html">Monday</a> and <a href="http://home.comcast.net/user/bc19191/blog/040224.html">Tuesday</a> this week.  I think I figured out why these kinds of systems make my skin crawl.
<p>
First, it's nice to work with a long running system, know you've got everything working and <b>leave it alone</b> when it works.  Everything is in one place, including the test scripts.  That development model works for some people, but it never worked for me.  I'm a dyed-in-the-wool C programmer, and I'm used to lots of small programs running, with the odd server performing some task specific function.  I don't expect every program I write to have a full development environment, along with multiuser connectivity so that approximately anyone can log into the system and make modifications.  But that's just me.
<p>
Second, these Lisp-based systems tend to be written by very small teams of very talented programmers.  They like the fact that Lisp environments give them all the tools they need to operate at light speed.  At the same time, this kind of solution feels fundementally unscalable.  This is not the kind of project I'd want to use with dozens of programmers, or programmers with widely varying levels of expertise.  Allowing anyone (on the development team) unfettered access to the entire <i>running</i> project feels like an invitation to crash the system in horrible, almost irrecoverable ways.  And always at the worst possible moment, of course.
<p>
And I think that's why I'm most uncomfortable working with system images.  Not only is your source locked in, but enabling runtime patches to a live system just feels dangerous.  
<p>
Then again, these are just cultural differences.  I wouldn't expect most C programmers to understand that closures and runtime aliasing/redefinition of subs make Perl a more powerful language.</p>


<hr/>



<h2>The author's reply</h2>
<h3><a href="/user/ajtaylor/">ajtaylor</a> on 2004-02-27T17:09:10</h3>
The author noticed your post here and has posted his own reply:
<a href="http://home.comcast.net/user/bc19191/blog/040225.html" title="comcast.net">http://home.comcast.net/user/bc19191/blog/040225.html</a comcast.net>



<h2>I used to do that all the time</h2>
<h3><a href="/user/brian_d_foy/">brian_d_foy</a> on 2004-02-28T09:49:56</h3>
The clients would call up complaining about something, the phone guy would keep them on the line while I fixed it, then we would ask them if they had cleared their cache, reloaded the page, and other such things.  People expected Windows and IE to be so buggy they bought it every time.<nobr> <wbr></nobr>:)





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

