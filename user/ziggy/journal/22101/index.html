<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of ziggy: The Problem with Smalltalk, cont'd</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>The Problem with Smalltalk, cont'd</h1>
<h2><a href="/user/ziggy/">ziggy</a> on 2004-12-02T07:06:18</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><a href="http://use.perl.org/user/ziggy/journal/22083">Yesterday's screed</a> elicited <a href="http://www.cincomsmalltalk.com/userblogs/avi/blogView?showComments=true&entry=3279337619
">some</a> <a href="http://www.cincomsmalltalk.com/blog/blogView?showComments=true&entry=3279343432
">comments</a> from the good folks over at Cincom.  Avi Bryant notes:
<blockquote><i>
The thing is, when you move away from code and into arbitrary data files, most of the useful features of *any* version control system go away. [...] The most you usually need or are able to do is to associate a specific revision of a binary file with a specific version of the code[...].  Now, where there's some truth to ziggy's argument is when it comes to non-Smalltalk code that needs to be managed in a Smalltalk project; the most obvious examples for web apps are CSS and Javascript. I'd love to extend Monticello to parse CSS by selector and do the same kind of semantic merging with it that I can do with Smalltalk methods. 
</i></blockquote>

There are two issues here.  Within the context of an image, higher level semantic tracking of revisions is possible, whereas it is impossible to perform that kind of semantic tracking when dealing with data files of random content.  But even within an image, it's not possible to do semantic analysis of <i>everything</i> that needs to be under version control.  Sure, you could add parsers for CSS and JavaScript.  But what about HTML <a href="http://mercury.ccil.org/user/cowan/XML/tagsoup/">tag soup</a>?  TeX and LaTeX?  C/C++ code?  Makefiles?  Where does it all end?
<p>

Versioning changes within the context of a live image is a really cool hack.  It does make the nastiness of darcs' Theory of Patches go away in a puff of smoke when tracking changes to objects and methods.  But it does not <i>eliminate</i> the need for revision control of "<i>arbitrary text files</i>".  Jumping through hoops to track changes in text files with random content may be retrograde within a Smalltalk image, but they are certainly not "<i>unnecessary</i>".
<p>
On this side of the Smalltalk fence, we're not that familiar with versioning parsed, live code within an image.  But we're also reasonably happy with throwing any random file into a revision control system, confident that it will track changes (or copy binary files) between revisions.  We may be dealing with text diffs, but the techique is remarkably scalable -- the same skills work for tracking changes to any kind of text file, whether it's tag soup, Perl, C, config files or some baroque write-only language I whipped up one night while wired on Yerba Mate.  And all but the most trivial projects use a variety of different languages in some capacity or another -- C sources, Makefiles, Shell scripts, and so forth.

<p>
&nbsp;
<p>
Elsewhere, James Robertson corrects a factual error I made in haste: 
<blockquote><i>
Hmm - it's not a VM level thing - the code and parse trees are all available at the Smalltalk level - which is a large part of what makes them easy to deal with. 
</i></blockquote>
Yep.  I misspoke.  I said things like <i>...the VM can track every change...</i> when I meant <i>...the Image can track every change...</i>.  Thanks for the clarification.

<p>
James goes on to say:
<blockquote><i>
The point is, the various file based systems aren't perfect either, and they simply don't mesh well with image-based development.
</i></blockquote>
Yep.  Nothing's perfect.  My point was that tracking changes in text files (like CVS does) is still relevant, even within a Smalltalk image.  Adding parsers for CSS and JavaScript can help, but it that ignores the underlying problem, but doesn't eliminate it.  (Thus the term "Smalltalk Disease".)</p>


<hr/>



<h2>Version Control</h2>
<h3><a href="/user/Matts/">Matts</a> on 2004-12-02T11:50:22</h3>
To me version control is a whole lot less about just tracking changes, and a whole lot more about supporting group development, branching, tagging and merging.<br> <br>I don't know anything about the smalltalk environment, so it may or may not provide for all these things. But IMO a project needs to be tagged all together as one big project, otherwise how do you go back to a specific version?



<blockquote>

<h2>Re:Version Control</h2>
<h3><a href="/user/ziggy/">ziggy</a> on 2004-12-02T15:06:14</h3>
Yep.  I'm assuming for the sake of argument that these features can be/have been built on top of Monticello and friends.  If not, it should be a SMOP.  Those features can be built on top of anything that can diff and patch, and maintain a database of revisions.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

