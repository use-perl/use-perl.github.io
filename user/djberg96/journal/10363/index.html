<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of djberg96: prtdiag - new (for me) solaris command</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>prtdiag - new (for me) solaris command</h1>
<h2><a href="/user/djberg96/">djberg96</a> on 2003-02-03T15:52:31</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>In my quest to get cpu info on solaris, I came across the command "prtdiag".  Most solaris boxes have it (I think), though it's probably not in your path.  Check /usr/platform/&lt;system&gt;/sbin, where &lt;system&gt; is the current system type (probably "sun4u" these days, but double check).
<P>
Anyway, it provides a lot more information than ye ol' sys/processor.h file does, including cpu temperature and exact type, plus some other goodies.  I'm now searching for the source for prtdiag to see if I can wrap it. :)</p>


<hr/>



<h2>prtdiag is so 90s :)</h2>
<h3><a href="/user/hfb/">hfb</a> on 2003-02-03T17:04:49</h3>
<p>If you have solaris 9, try kstat. Solaris 8 has kstat too but you'll need to get the kstat module off of CPAN.</p>



<blockquote>

<h2>Re:prtdiag is so 90s :)</h2>
<h3><a href="/user/djberg96/">djberg96</a> on 2003-02-03T18:41:49</h3>
Is prtdiag just another subset of kstat?  I wasn't sure.  I didn't see anything for getting the cpu temp, for example, although the man page doesn't strike me as complete.
<p>
I downloaded <i>Solaris::Kstat</i> but it's only good for 2.5, 2.6 and 2.7 (so it says).  At least that tells me I need to watch out for using kstat functions that aren't in older versions of solaris.  I'm sure I'll be able to get some ideas from it, although the documentation is a bit lacking IMHO.
</p><p>
Hopefully, Sun will provide smaller libs in the future for us mediocre C programmers (such as sys/loadavg.h, available since 2.7) so that we don't have to decipher kstat.h.  Right now, comp.unix.solaris is a <b>very</b> good friend.<nobr> <wbr></nobr>:)</p>



<blockquote>

<h2>Re:prtdiag is so 90s :)</h2>
<h3><a href="/user/hfb/">hfb</a> on 2003-02-03T20:32:42</h3>
<p>ah, right...kstat, the command utility is in 8 as well. The library is pretty much the same across 2.5-&gt;9 but the kstat utility, which is perl I might add, is in 8 and up. I didn't think prtdiag had the environmental output before solaris 8 or with earlier sun4u boxes.  envctrl_temp is the kstat instance that you want but I'm not sure if the kstat utility will grab that or not...though, since it's perl, you can probably make it do what you need.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

