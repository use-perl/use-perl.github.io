<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of djberg96: Sys::ProcTable</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Sys::ProcTable</h1>
<h2><a href="/user/djberg96/">djberg96</a> on 2002-07-01T01:38:46</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>The Ruby port of <I>Proc::ProcessTable</I> is coming along, and I'm already getting some good tips from Mike Hall, who apparently wrote an interface for the /proc info for a web app at some point.
<P>
Having started with Linux, I have already reached the conclusion, as did Mike earlier, that this system of laying out kernel information in flat files is <I>DUMB</I>.  Solaris is usually a bigger headache, but on this particular issue they got it right by using the psinfo struct and a library provided for your convenience.  To top it off, it appears that the layout changed between kernel 2.2. and 2.4.  Lovely.  Well, I'm developing on a 2.4 kernel, so upgrade or suffer, 'cuz I ain't dealing with it.
<P>
One issue where I've decided to part with Dan Urist's approach has to do with constructors.  With Dan's module you actually create an object, where all the /proc data is stuffed into that object.  Although convenient (and probably satisfactory for most people most of the time, including me), the problem with this approach is that the second after you create the object, your information is already out of date.
<P>
Given that, I'm doing a couple things different.  First, if you just want to loop through /proc, it will be a class method.  There will be no object instantiation.  It's a waste of memory.  Second, I'm going to offer a method that allows you to query a specific pid, and thus get the info for that pid *at the moment of the call*, instead of recalling earlier information.
<P>
On to the code...</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

