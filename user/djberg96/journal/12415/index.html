<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of djberg96: $/ features</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>$/ features</h1>
<h2><a href="/user/djberg96/">djberg96</a> on 2003-05-23T20:14:24</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>So, I was looking in the Camel, wondering if $/ can take a regex (it can't, dammit - neither can Ruby's), when I came across this interesting little trick:
<P>
$/ = \004; # read four bytes of data at a time.
<P>
Is there any advantage to using this over, say, sysread(4)?  Also, is there any chance of getting $/ to accept regexen in the future?</p>


<hr/>



<h2>$/ Regex</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2003-05-23T21:31:08</h3>
<p>This is a hard problem.  Consider backtracking (stuff it back in a buffer) and greediness (how much do you read?).  The trivial cases are pretty easy, but they rapidly get complex.</p>



<blockquote>

<h2>Re:$/ Regex</h2>
<h3><a href="/user/nicholas/">nicholas</a> on 2003-05-24T10:15:45</h3>
<p>There have been several threads about this on p5p, and I agree with what you say. However, I think that it may be possible to make it work reasonably for non-greedy regexps, and my hunch is that most of the time non-greedy regexps would be the correct way to express most people would want for a line ending.</p>
<p>Here's the <a href="http://archive.develooper.com/perl5-porters@perl.org/msg85001.html" title="develooper.com">middle of one p5p thread on $/ regexp</a develooper.com> If people are searching, I think that some of the other threads have had qr// in the subject. (Mmm. I'm linking to a message by me. Blantant self-promotion.)</p>
<p>Maybe we could do a use.perl poll on "features from other languages that I miss most in perl", as $/ as a regexp is probably not the only one.</p>



<blockquote>

<h2>Re:$/ Regex</h2>
<h3><a href="/user/nicholas/">nicholas</a> on 2003-05-24T11:28:22</h3>
<p>Hmm. I could see one way that this could go...</p>
<blockquote><div> <strong>"features from other languages that I miss most in perl"</strong> <br> <br>
<ul> <li>$/ as a regexp</li> </ul> </div></blockquote>
<p>&lt;damian&gt; Perl 6 will have this</p>
<blockquote><div> <ul> <li>seamless integration between script and C++/Java/etc objects</li> </ul> </div></blockquote>
<p>&lt;damian&gt; Perl 6 will have this</p>
<blockquote><div> <ul> <li>compiles to bytecode which I can ship independently of the souce</li> </ul> </div></blockquote>
<p>&lt;damian&gt; Perl 6 will have this</p>
<blockquote><div> <ul> <li>compiler can check for typos in member names</li> </ul> </div></blockquote>
<p>&lt;damian&gt; Perl 6 will have this</p>
<blockquote><div> <ul> <li>2 dimensional playfield</li> </ul> </div></blockquote>
<p>&lt;damian&gt; Perl 6 will have this</p>
<blockquote><div> <ul> <li>All programs should be expressible as combinations of Ook. <i>Ook?</i> and <b>Ook!</b> </li> </ul> </div></blockquote>
<p>&lt;damian&gt; Perl 6 will have this</p>
<blockquote><div> <ul> <li>Given SMU (Symmetric Multi-Universe) hardware parallel programs should run in constant time</li> </ul> </div></blockquote>
<p>&lt;damian&gt; Perl 6 will have this</p>



<blockquote>

<h2>Re:$/ Regex</h2>
<h3><a href="/user/Damian/">Damian</a> on 2003-05-25T02:07:39</h3>
Actually...

<blockquote><div> <ul> <li>seamless integration between script and C++/Java/etc objects</li> </ul> </div></blockquote>

<p>&lt;damian&gt; <b>Parrot</b> will have this</p>
<blockquote><div> <ul> <li>compiles to bytecode which I can ship independently of the source</li> </ul> </div></blockquote>
<p>&lt;damian&gt; <b>Parrot</b> will have this</p>
<blockquote><div> <ul> <li>compiler can check for typos in member names</li> </ul> </div></blockquote>

<p>&lt;damian&gt; Perl 6 <b>will</b> have this</p>
<blockquote><div> <ul> <li>2 dimensional playfield</li> </ul> </div></blockquote>
<p>&lt;damian&gt; Perl 6 <b>will</b> have multidimensional arrays and vectorizable functions and operations.</p>
<blockquote><div> <ul> <li>All programs should be expressible as combinations of Ook. <i>Ook?</i> and <b>Ook!</b> </li> </ul> </div></blockquote>

<p>&lt;damian&gt; Perl 5 <b>already</b> has <a href="http://search.cpan.org/author/JHI/Acme-Ook-0.10/lib/Acme/Ook.pm" title="cpan.org">this</a cpan.org>. Though I <i>do</i> like the idea of distinguishing the three constructs by font!
</p>
<blockquote><div> <ul> <li>Given SMU (Symmetric Multi-Universe) hardware parallel programs should run in constant time</li> </ul> </div></blockquote>
<p>&lt;damian&gt; Perl 6 <b>will</b> have junctions (the successor to quantum superpositions). Whether Parrot is ported to the necessary hardware, and whether the Perl 6 compiler is able to emit Parrot code that can take advantage of it are both, of course, entirely up to Dan's team.<nobr> <wbr></nobr><tt>;-)</tt> </p>





</blockquote>


<h2>Re:$/ Regex</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2003-05-24T16:59:51</h3>
<p>Yes, handling non-greedy regexes (simple alternations, bounded ranges) is possible.  I could see disallowing unbounded ranges or the<nobr> <wbr></nobr><tt>/m</tt> and<nobr> <wbr></nobr><tt>/s</tt> flags.  I wonder if that'd confuse people who don't know the implementation and the reason for the implementation, though.</p>





</blockquote>

</blockquote>


<h2>Perl 6 may have what you want</h2>
<h3><a href="/user/Damian/">Damian</a> on 2003-05-24T03:07:13</h3>
As chromatic points out, matching regexes against an input stream complicates stream buffering considerably. But it's certainly not impossible, if you're prepared to put up with potentially having to buffer an entire input stream in the pathological cases.

<p>Greedy regexes are troublesome for the same reason: in the edge cases you potentially have to scan an entire input to determine where to stop reading.

</p><p>Nevertheless, despite those problems, I'm confident we'll be able to permit Perl 6 input streams to use a regex as an input record separator (they'll be per-filehandle, not global, in Perl 6).</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

