<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of djberg96: Test suites for net stuff</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Test suites for net stuff</h1>
<h2><a href="/user/djberg96/">djberg96</a> on 2002-09-24T16:53:36</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I've been reading a lot of entries about Mr. Schwern's test module and testing in general.  That has me thinking about my currently incomplete test script for <I>Net::SCP::Expect</I> and I have some generic questions.
<P>
Is there a standard way to test modules that rely on remote connections of some sort?  I mean, the goal of scp is to put a file from one system onto another.  The problem is, is there a reliable way to check success or failure for something like scp?
<P>
My general feeling on the subject was that it was just easier for you, the user, to just eyeball the results.  In other words, just manually check to see if it copied successfully and the file sizes are correct.  Otherwise, I'm looking at a scenario where I generate my own test file, check the size, scp to a user-specified host, somehow telnet into that machine, check for the file's existence and file size, then report back to the user.
<P>
Easy enough, but ONLY if the remote host allows port 23 connections.  Since you're using scp in first place, there's a good chance it won't and I certainly can't assume that it will.  In that case, then the only recourse is to make them install something like <I>Net::SSH::Perl</I> which has an incredible number of dependencies when you factor in everything (something like 25 modules, plus a math lib).  All so that I can do the equivalent of "ls -l".
<P>
Should I simply add that as an option?  i.e. "If you want a *real* test, install <I>Net::SSH::Perl</I>.  Otherwise, eyeball it".</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

