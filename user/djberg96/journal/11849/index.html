<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of djberg96: DBD::Oracle, Solaris, Perl nastiness</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>DBD::Oracle, Solaris, Perl nastiness</h1>
<h2><a href="/user/djberg96/">djberg96</a> on 2003-04-25T17:39:58</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>A bunch of our servers were recently upgraded from Oracle 7.3 to Oracle 8.1.6 as part of an "upgrade everything" campaign.
<P>
Naturally, this broke a bunch of Perl scripts (which belong to a coworker) and at first I figured that DBD::Oracle simply needed to be rebuilt and the LD_LIBRARY_PATH variable reset.  But NOOOOOOOOO, this is Solaris we're talking about.  I got this message:
<BLOCKQUOTE><I>You must install a Solaris patch to run this version of
    the Java runtime.
    Please see the README and release notes for more information.</I></BLOCKQUOTE>
<P>
Turns out it's an issue specific to Solaris and Oracle 8.1.6 (or later).  My options were to either to muck with the Oracle install, rebuild Perl with thread support or set LD_PRELOAD.  Since I don't own the Oracle installation and I could never get thread support to build properly on Perl 5.6 or earlier, guess which option I chose?
<P>
<B>Update: </B> Upgrading to 8.1.7 seems to have solved this nasty little bugger.</p>


<hr/>



<h2>Sounds vaguely familiar</h2>
<h3><a href="/user/dws/">dws</a> on 2003-04-25T22:07:07</h3>
We ran into something like this two jobs ago, but the details are hazy. IIRC, the java stuff was needed by SQL*Net for some security feature we weren't using. Our Solaris guy figured out how to link the Oracle driver without it. Somehow. I think. Or something like that.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

