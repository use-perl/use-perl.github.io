<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: If you DO need an XML Schema, you need File::ShareDir 0.01</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>If you DO need an XML Schema, you need File::ShareDir 0.01</h1>
<h2><a href="/user/Alias/">Alias</a> on 2005-12-12T10:53:43</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>So having decided to use XML for World Domination Plan #6, I of course need to use an XML Schema. And unlike on commercial projects, I don't have the option of NOT using the "standard" Perl installation mechanisms.<br/><br/>So of course, now I have to fix those as well, because it would appear that there is no sane, standard way to install a shared read-only resource file to the filesystem and find it later.<br/><br/>Except of course there IS, it's just that nobody seems to have thought to make it easy enough to use that people might actually find it.<br/><br/>This is a two part problem. Firstly, getting it installed.<br/><br/>The new <a href="http://search.cpan.org/perldoc?Module::Install">Module::Install</a> 0.43 will contain an <i>install_share</i> command.<br/><br/>If your distribution has a directory called <i>share</i> in it, the command will install the share directory to the appropriate place on the filesystem. It's the teensiest bit evil so I won't explain it, but suffice it to say it works everywhere and several code modules depend on it. So it works.<br/><br/>Once you have used <i>install_share</i> to install the files, you need to use the new <a href="http://search.cpan.org?perldoc?File::ShareDir">File::ShareDir</a> to find them.<br/><br/>Like File::HomeDir, File::ShareDir will do the little bit of master-level obscure work for you, so all you need to do is something like this.<br/><br/>my $schema_file = File::ShareDir::module_file('Schema.xsd');<br/><br/>My understanding of the mechanism isn't entirely perfect yet, so <a href="http://search.cpan.org/perldoc?File::ShareDir">File::ShareDir</a> might need a few more releases before it covers all cases, but at least now maybe we can get away from this insane practice of embedding fonts and other files in modules as 1.5meg Data::Dumper structs, simply because the shared file mechanism is so obscure only a master-level Unix administrator can work out how to use it.
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

