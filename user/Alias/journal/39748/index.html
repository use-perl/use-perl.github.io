<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: Would you like to implement a CPAN download counter?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Would you like to implement a CPAN download counter?</h1>
<h2><a href="/user/Alias/">Alias</a> on 2009-10-14T00:00:09</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>The subject of download counters for CPAN modules has risen yet again, as it does every few years.<br/><br/>This time around, I'm ready for it.<br/><br/>For the last few years, I've been running <a href="http://cpan.strawberryperl.com/">http://cpan.strawberryperl.com/</a><br/><br/>This is not a mirror as such, it is a redirect server that acts as the default CPAN mirror for Strawberry's pre-configured CPAN client. It runs via a simple .htaccess file pointing at whatever the most interesting of safely reliable mirror of the moment is, and I'm able to repoint it instantly.<br/><br/>It doesn't necessarily provide the fastest mirror, but it does provide something that won't be slow and is assured not to break (unlike the DNS rotation or geo-redirect services, which can't always tell when one of their members breaks).<br/><br/>One of the luxuries of this redirect mechanism is that I have logs, going back about 400 days, of every module that a Strawberry Perl user who is happy to live with the default mirror has downloaded.<br/><br/>If anyone is interested in coming up with a log processor for this data set to build some kind of analysis tool, I'd be happy to provide you with access.<br/><br/>One of the benefits of this is that I can upgrade my CPAN Top 100 lists with demand-weighted scoring, so that we can better map CPAN Testers failures to the actual daily needs of Windows Perl hackers and identify which are the modules that we need to focus the most attention on.<br/><br/>You can find me, or one of the other people with access to the cpan.strawberry logs, in the <a href="http://widget.mibbit.com/?settings=1c154d53c72ad8cfdfab3caa051b30a2&server=irc.perl.org&channel=%23win32&noServerTab=false&noServerNotices=true&noServerMotd=true&autoConnect=true">#win32 channel on irc.perl.org</a>.</p>


<hr/>



<h2>Great job!</h2>
<h3><a href="/user/robinsmidsrod/">robinsmidsrod</a> on 2009-10-14T11:37:21</h3>
I look forward to seeing this data aggregated (like you suggest) some way in CPANDB.



<h2>Am I right</h2>
<h3><a href="/user/mw487/">mw487</a> on 2009-10-14T14:10:34</h3>
<p>that this data is (basically) only for Strawberry perl default distribution use of CPAN?</p><p>I think it would be lovely if all module downloads first registered the download (if possible) at a counter before actually using bandwidth of a mirror.</p>



<blockquote>

<h2>Re:Am I right</h2>
<h3><a href="/user/Alias/">Alias</a> on 2009-10-15T04:14:20</h3>
<p>It can't work that way.</p><p>CPAN pulls not just the tarballs, but also (and more importantly) the package indexes from the mirror. This full distributeness and zero single-point-of-failure design is what makes things like minicpan and private frozen corporate mirrors possible so easily.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

