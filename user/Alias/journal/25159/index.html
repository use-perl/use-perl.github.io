<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: PPI 0.992 released. New PPI::Transform API</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>PPI 0.992 released. New PPI::Transform API</h1>
<h2><a href="/user/Alias/">Alias</a> on 2005-06-12T13:03:26</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>So after dealing with Perl::Squish and associated problems, I'm wondering briefly this afternoon how the hell I'm going to get PPI::Transform, the API from hell, done any time before the 1.000 release I want to do for OSCON.<br/><br/>PPI::Transform is meant to be the API for writing classes and objects that munge PPI::Documents, in a way that is usefully like File::Find::Rule enough to allow for passing transforms around, combining them together, and doing other neato things.<br/><br/>And it's a bitch. I've written and thrown it away no less than 6!!! times.<br/><br/>So this afternoon it occurs to me that Perl::Squish has sort of the right approach to this.<br/><br/><a href="http://ali.as/CPAN/Squish.html><br">http://ali.as/CPAN/Squish.html><br</a><br/>But that approach is not going to be able to do things like this.
<code>
$Transform-&gt;apply( $SomeObject )
</code>
Buuuuut... with a working <code>$Transform->document($Document)</code> command, all we'd need to do is get some random object to be a PPI::Document and then back again.<br/><br/>So 3 hours of hacking up a PPI::Transform ->apply registration system, we now have a shiny new PPI::Transform API.<br/><br/>What's really great about this is how adaptable it should be.<br/><br/>For example, imagine an editor that you could register your own transform command for.<br/><br/>"Clean up Whitespace" --> "Perl::Cleanwhitespace"<br/><br/>Perl::Cleanwhitespace would be a PPI::Transform subclass. The editor only has to create a default Perl::Cleanwhitespace object, and then pass a reference to SCALAR to it containing the contents of the currently open document, and everything will happen magically!<br/><br/>THIS means that you should now be able to write your own transform classes VERY easily, and they will be compatible with ANY editor that  knows how to talk to the PPI::Transform API.<br/><br/>I look forward to writing my own transform classes I can move from editor to editor :)<br/><br/>Yeah baby!
</p>


<hr/>



<h2>Many Perl documents?</h2>
<h3><a href="/user/jplindstrom/">jplindstrom</a> on 2005-06-12T21:15:10</h3>
This sounds very interesting.<br> <br>Is there any work done, or thoughts about, handling many Perl documents, i.e. something that looks more like an entire Perl application?<br> <br>I'm primarily thinking along the lines of refactoring, code navigation etc. where this would be useful.



<blockquote>

<h2>Re:Many Perl documents?</h2>
<h3><a href="/user/Alias/">Alias</a> on 2005-07-04T03:17:14</h3>
I imagine that we'll end up with a number of indexers relatively quickly.<br/><br/>There is likely to be a number of things that need them.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

