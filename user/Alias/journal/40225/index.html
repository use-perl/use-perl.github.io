<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: When a 99% solutions works, and when it doesn't</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>When a 99% solutions works, and when it doesn't</h1>
<h2><a href="/user/Alias/">Alias</a> on 2010-03-05T07:29:44</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>With Miyagawa's cpanminus (or as I like to think of it, cpantiny, but hey it's his module) now officially the New Shiny of the moment, the same old arguments are resurfacing about less is more, and worse is better.<br/><br/>And the great wheel of opinion circles again.<br/><br/>Rather than bother commenting on cpanminus itself (I suspect many could guess my opinions) I thought I would add some caveats to the praise, that hopefully can help you identify and engineer your own equivalent successes.<br/><br/>1. These "subset" modules are truly successful only when you make the accuracy trade offs worth it.<br/><br/>Thus, the installation must be effortless, the user interface must be super-simple, zero-conf is an absolute must, and the module must succeed in all those niches where the "real" application is too hard, too big, or too clumsy.<br/><br/>If your accuracy is going to suck, NOTHING else is allowed to suck.<br/><br/>2. As I hint about with "real" these subset modules work best when they are an alternative solution, not the only solution.<br/><br/>If you are inaccurate and the only solution, you are an annoying limitation.<br/><br/>If you are inaccurate and an alternate solution, you are handy because you create a kind of user-pays situation. Simple people with simple use cases get a simple solution. Hardcore people with hardcore needs get a hardcore solution.<br/><br/>So if you want to make a small solution, it has to be a subset of something larger that works better. It can't be the only solution.<br/><br/>3. 99% is a just a marketing number, but the real number does matter.<br/><br/>Why? Take a look at the Heavy 100 index (<a href="http://ali.as/top100/">http://ali.as/top100/"</a>) and you'll notice that many major and popular CPAN modules (like, say, Catalyst) have more than 100 dependencies.<br/><br/>With a 99% success rate (using stupidly naive "statistics") every single module on that Top 100 list will fail to install. In a large system with lots of recursive dependencies, it doesn't take much for your install count to grow to 20 or 50 or 100 dependencies.<br/><br/>So you need to be sure about WHICH subset you want to support, so you can be sure what percentage you REALLY need.<br/><br/>For example, despite all the work to support it, there is only one single module currently using Bzip2. Would it be worth it to remove bzip2 support entirely from the CPAN and help that author to convert? Probably.<br/><br/>The biggest benefits of these alternate solutions are often not only to do what they do. It's to demonstrate what is possible, pushing the competitors to do it as well.</p>


<hr/>



<h2>MojoMojo installs fine with cpanm</h2>
<h3><a href="/user/draven/">draven</a> on 2010-03-05T08:10:47</h3>
It might be worth mentioning that when Miyagawa developed cpanminus one of the test cases he used was installing my wiki MojoMojo, the heaviest app on CPAN according to your Heavy 100 index. Thus the actual number is probably higher than 99%, or at least the 1% would be in an obscure corner of the CPAN.



<blockquote>

<h2>Re:MojoMojo installs fine with cpanm</h2>
<h3><a href="/user/educated_foo/">educated_foo</a> on 2010-03-05T11:12:59</h3>
It looks like <a href="http://deps.cpantesters.org/?module=MojoMojo;perl=latest" title="cpantesters.org">273 dependencies</a cpantesters.org> (be patient) (which together guarantee its failure to install).  This is nothing close to 99% of CPAN, which contains <a href="http://www.cpan.org/" title="cpan.org">8020 authors and 17538 modules</a cpan.org>.  As <a href="http://www.brainyquote.com/quotes/quotes/h/hlmencke129796.html" title="brainyquote.com">Sage Mencken declared</a brainyquote.com>, "For every complex problem there is an answer that is clear, simple, and wrong."  Translated into the modern vernacular, "clear" means "99%."



<blockquote>

<h2>Re:MojoMojo installs fine with cpanm</h2>
<h3><a href="/user/draven/">draven</a> on 2010-03-05T13:29:02</h3>
Was just replying to Alias's claim:<p><div class="quote"><p>With a 99% success rate (using stupidly naive "statistics") every single module on that Top 100 list will fail to install. In a large system with lots of recursive dependencies, it doesn't take much for your install count to grow to 20 or 50 or 100 dependencies.</p></div><p>Given that logic, and the fact that the top module on that list passes, cpanm would have to work with more than 99% of cpan (or only be broken for very little used modules). I'm quite aware that MojoMojo does depend on most of cpan. I think the 273 dependencies we have is quite sufficient. (and a bit over 1% of the total number of CPAN modules<nobr> <wbr></nobr>:)</p>





</blockquote>


<h2>Re:MojoMojo installs fine with cpanm</h2>
<h3><a href="/user/Alias/">Alias</a> on 2010-03-07T23:48:48</h3>
<p>I note '(using stupidly naive "statistics")'.</p><p>Clearly, 99% does NOT mean that a 271-dependency distribution must fail according to either "real" statistics, or the real world.</p><p>Plus, there's a bias there that makes the discussion moot, because cpanm has been specifically checked and monitored to work with that distribution.</p>



<blockquote>

<h2>Re:MojoMojo installs fine with cpanm</h2>
<h3><a href="/user/miyagawa/">miyagawa</a> on 2010-03-11T01:42:08</h3>
<p>False. No, i didn't add any specific workarounds or anything to MojoMojo and its dependencies. I just used that, along with Jifty, Catalyst and KiokuDB, as a known source of "huge dependencies of well-maintained modules" test bed. I also tested with randomly selected 100 modules from from 02packages, the same thing.</p>





</blockquote>

</blockquote>


<h2>Congratulations, you've statistically &quot;proven&quot;</h2>
<h3><a href="/user/hobbs/">hobbs</a> on 2010-03-05T11:31:42</h3>
<p>that cpanm is well beyond the "99%" level if installing things is a metric. Not that it is -- any connection between "99% solution" and "install succcess rate" was invented entirely by you.</p>



<h2>Tiny? 99%?</h2>
<h3><a href="/user/dagolden/">dagolden</a> on 2010-03-05T16:33:48</h3>
<p>At 2200+ SLOC, I don't think it qualifies as a "Tiny" module except in comparison to CPAN(PLUS).</p><p>-- <a href="http://www.dagolden.com/" title="dagolden.com">dagolden</a dagolden.com> </p>



<blockquote>

<h2>Re:Tiny? 99%?</h2>
<h3><a href="/user/Alias/">Alias</a> on 2010-03-08T01:04:25</h3>
<p>::Tiny was never about specific line count (although that was the main practical constraint).</p><p>If it uses less than 10% of the memory consumption of it's peers, and doesn't have any dependencies, it largely meets the main criteria (even if it achieves this by bundling some modules and using a few other tricks).</p>





</blockquote>


<h2>The Rise of Better is Worse</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2010-03-05T22:20:03</h3>
<p>I remember that before Module::Build could replace MakeMaker, it had to do things MakeMaker didn't do well, if at all (else all it had to do was crib <code>PREFIX</code> support).</p><p>Fortunately not everyone believes that the complexity of a system remains constant (and many people believe that removing 90% of the pain of an existing system is sometimes worth increasing pain 10% in a few other cases).</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

