<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: Heading towards production-grade Perl-on-a-Stick</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Heading towards production-grade Perl-on-a-Stick</h1>
<h2><a href="/user/Alias/">Alias</a> on 2009-02-08T13:45:36</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>With the <a href="http://strawberryperl.com/">Strawberry Perl Portable Beta</a> out for several months now, I'm starting to think about what I need to do to get this thing pushed through to a stable release.<br/><br/>One biggie is to resolve the bugs in the batch file generator. Some fixes have been submitted for these, so hopefully they should start working in the next release.<br/><br/>The other item I've been waiting on is for modules to themselves start to add Portable support, so I can identify any gaps in the implementation.<br/><br/>With the Config 2.0 implementation completed in Padre, making Padre itself Portable is a great test. While most of the hard word of being portable is taken care of for you by the <a href="http://search.cpan.org/perldoc?Portable">Portable</a> module, there's one area you need to deal with yourself.<br/><br/>When storing paths to disk, significant care needs to be taken to ensure that all paths are written as relative paths, and then are resolved back to absolute paths when they are read in again.<br/><br/>This job is complicated by the problem of knowing if and when you are running in a portable context.<br/><br/>Portable 0.12 has just been uploaded to the CPAN. This new release provides an easily usable $Portable::ENABLED variable. As long as your application has already loaded something with Portable hooks (like, say, Config.pm or anything that needs it) then this variable will be true if you are in a Portable context.<br/><br/>(And you don't even need to use Portable; or add a dependency on it yourself, just make sure to refer to $Portable::ENABLED twice to avoid warnings)</p>


<hr/>



<h2>sitecustomize.pl?</h2>
<h3><a href="/user/dagolden/">dagolden</a> on 2009-02-09T02:02:09</h3>
<p>What about using sitecustomize.pl to set the global variable?  That way, regardless of whether Portable is loaded, anything could check to see if it's running on a portable perl.</p><p>-- David</p>



<blockquote>

<h2>Re:sitecustomize.pl?</h2>
<h3><a href="/user/Alias/">Alias</a> on 2009-02-09T08:49:37</h3>
<p>Because then it wouldn't be "site" customisation, it would be vendor customisation.<nobr> <wbr></nobr>:)</p>



<blockquote>

<h2>Re:sitecustomize.pl?</h2>
<h3><a href="/user/dagolden/">dagolden</a> on 2009-02-09T11:05:55</h3>
<p>Unless, for this particular case, you consider "portable" to be a "site" -- i.e a location (drive letter) that is determined by the user at run time, not the vendor at compile time.</p>



<blockquote>

<h2>Re:sitecustomize.pl?</h2>
<h3><a href="/user/Alias/">Alias</a> on 2009-02-10T00:41:13</h3>
<p>I consider site to be a single stick, not the set of all sticks.</p><p>For the set of all sticks, the location (drive letter) is determined by the vendor at run-time.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

