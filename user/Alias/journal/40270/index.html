<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: Pitting Mojo vs Dancer in a competition to build Top100 2.0</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Pitting Mojo vs Dancer in a competition to build Top100 2.0</h1>
<h2><a href="/user/Alias/">Alias</a> on 2010-03-26T03:32:24</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>With most of my government hackery now finished, I find myself with a free timeslice for the first time in a while.<br/><br/>I plan to use the time to rewrite my <a href="http://ali.as/top100">CPAN Top 100</a> website from statically generated to being dynamically generated.<br/><br/>The main reason for this is that I want to start generating priority and ranking lists for individual authors or, say, the entire dependency tree of Padre in the same way I currently do for the entire CPAN. The underlying theme of the Top100 is around prioritising maintenance, but the toolchain seems to drown out the rest of the modules, by virtue of being needed for everything.<br/><br/>Having written my <a href="http://geo2gov.com.au/">geo2gov.com.au</a> website in Catalyst (to force myself to finally learn it) I'd like to also take a look at some of the new lightweight toolkits.<br/><br/>This is mainly because the Top100 database (and the <a href="http://search.cpan.org/perldoc?CPANDB">CPANDB</a> database it is based on) is available as an <a href="http://search.cpan.org/perldoc?ORLite">ORLite</a> model. And tying a light weight ORM to a light weight web framework seems like a natural fit.<br/><br/>The two that seem to stand out as having sufficiently good project managers who understand the need to build communities around their code are <a href="http://search.cpan.org/perldoc?Dancer">Dancer</a> and <a href="http://search.cpan.org/perldoc?Mojolicious">Mojolicious</a>.<br/><br/>Since neither of the two looks like it particularly outshines the other on face value, my plan is build the new Top100 website simultaneously in both of them.<br/><br/>At some point during the process (hopefully near the end) I will declare a winner. The code for the loser will be discarded, and the code for the winner will go on to power the final production top100.cpan.org site.<br/><br/>The main judging criteria will be based on simplicity, legibility, and how amenable they are to collective maintenance.<br/><br/>To help evaluate the last criteria accurately, and to spice up the competition rules a bit, I'm going to be building both versions of the site in an open commit environment.<br/><br/>I will be keeping the code for both implementations in my open repository at <a href="http://svn.ali.as/">http://svn.ali.as/</a> and I will be giving commit access to the authors of both Dancer and Mojolicious (and anyone else they nominate).<br/><br/>I see many "competitions" (especially in benchmarking) where the person running the competition writes all the code as well (badly) and ends up falsely judging certain entries. And I don't want that in this case.<br/><br/>While I will try to create the initial functionality for each new page or section of the site, both teams are allowed to refactor or improve anything as they see fit so that the code represents what they see as best showcasing their toolkits.<br/><br/>HOWEVER, teams take certain risks in "improving" my newbie code.<br/><br/>Any collective maintenance policy requires that experienced developers try to keep their code understandable for newbies. This keeps the pool of talent both wide and deep, while preventing newbies from accidentally breaking code too complex for them to understand.<br/><br/>So if the team-contributed changes to show off their toolkits in their respective websites makes it harder for me as a newbie to maintain my code, then they will be judged down accordingly.<br/><br/>In a similar spirit of newbie and small site friendliness, I will be developing the application on Windows without access to a web server, and deploying it onto a remote Linux server running Apache.<br/><br/>If building the application requires dependencies or external changes add features that don't work in both of these scenarios, they will be penalised.<br/><br/>As in real life, I won't be laying out precise scoring methods in advance.<br/><br/>After each chunk of work, I will assess and comment on my experiences, and assign points for that stage of the work (while trying to remain fair about weighting each task appropriately).<br/><br/>If you have your own web micro-framework you would like to include in the competition as well, you are welcome to petition for inclusion in the comments below.<br/><br/>However, be warned that to qualify for inclusion you must demonstrate sufficiently robust project management and community involvement. If you have a low bus-sensitivity(1) score, or are not sufficiently mature yet to make me think you are a viable long-term choice for my site (5 years or more) you won't make the grade for entry.<br/><br/>So let the fight begin!<br/><br/>Next post, creating the initial application skeletons!<br/><br/>(1) Bus Sensitivity is the number of people that would need to be hit by a bus for your project to effectively collapse.</p>


<hr/>



<h2>interesting...</h2>
<h3><a href="/user/domm/">domm</a> on 2010-03-26T08:05:26</h3>
Especially as after briefly skimming the docs the only differences between the two seems to be <code>dance();</code> vs <code>shagadelic();</code>, but I know there has to be more to it<nobr> <wbr></nobr>:-)





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

