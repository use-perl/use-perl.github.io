<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: It looks like MYMETA.yml will be the next major CPAN upgrade</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>It looks like MYMETA.yml will be the next major CPAN upgrade</h1>
<h2><a href="/user/Alias/">Alias</a> on 2009-02-04T00:12:39</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Following on from the 2007 efforts to upgrade the TAP modules, and the 2008 implementation of configure_requires, it looks like 2009 will be the year of "MYMETA.yml".<br/><br/>First discussed at last year's QA hackathon, MYMETA.yml unifies the method by which a Makefile.PL or Build.PL communicates back to the parent CPAN client.<br/><br/>The idea is to reuse the format and schema of META.yml (which CPAN client's need to implement anyway) and have the configure script write a "localised" version of META.yml at user-install time which will contain accurate host-specific dependencies, as opposed to META.yml which only contains "advisory" dependencies.<br/><br/>MYMETA.yml should let us achieve two or three different things.<br/><br/>Firstly, it simplifies and normalises the parsing of metadata from the configure script. Currently the CPAN client needs to parse a special (outdated) section of the Makefile when using Makefile.PL, or use a different similarly special method when using Build.PL.<br/><br/>Secondly, it simplifies the work needed to create new CPAN clients. While we current have two CPAN clients, it's not unreasonable to consider the creation of new experimental CPAN clients to run in specialised circumstances. <br/><br/>Thirdly, it will improve our ability to write new and interesting functionality in configuration modules. For example, Module::Install currently is trapped in the dependency model of ExtUtils::MakeMaker, which only supports PREREQ_PM deps (i.e. requires). With MYMETA.yml Module::Install can continue to use ExtUtils::MakeMaker to do the actual building work, but could write MYMETA.yml itself to provide full resolution dependency information up to the CPAN client.<br/><br/>To kick things off from my end, I've added experimental MYMETA.yml support to <a href="http://search.cpan.org/perldoc?Module::Install">Module::Install 0.79</a>.<br/><br/>For safety reasons, at the moment it requires that you issue an entirely separate write command to generate it (WriteMyMeta) and won't be written by default.</p>


<hr/>



<h2>Meanwhile, in CPAN.pm...</h2>
<h3><a href="/user/dagolden/">dagolden</a> on 2009-02-04T01:11:51</h3>
<p>And I've already created a CPAN.pm branch to support MYMETA.yml.  It will be merged into the trunk after the current feature-freeze for the 1.94 release of CPAN.pm.</p><p>-- dagolden</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

