<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: This is the sort of crap that &quot;patch&quot; test reports cause...</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>This is the sort of crap that &quot;patch&quot; test reports cause...</h1>
<h2><a href="/user/Alias/">Alias</a> on 2008-10-07T13:43:15</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>One of the modules that we rely on at work is PDF::API2, and I'm deeply grateful for the fact it exists. But we're also highly sensitive to it, so if it ever goes rotten we have some hard thinking to do. But lets ignore that part for now.<br/><br/>If you were considering writing a PDF application, and happened to be searching around for something to use, and you stumbled across the PDF::API2 module on CPAN <a href="http://search.cpan.org/user/areibens/PDF-API2-0.71.001/">you would see this</a>.<br/><br/>Now, looking at that page, I can see that it's failed a third of all CPAN Testers reports, and it hasn't had a release of note in a while. To me, that looks like a fairly rotten not very well maintained module that I should avoid.<br/><br/>So lets look at it's CPAN Testers report page.<br/><br/>And if you want to see what it looks like with my settings, which only shows production releases of the module that have occurred on production versions of Perl (that is, in the real world) then <a href="http://www.cpantesters.org/show/PDF-API2.html#PDF-API2-0.71.001?grade=1&amp;perlmat=2&amp;patches=2&amp;oncpan=2&amp;distmat=2">you see something like this</a>.<br/><br/>And what you'd see, if you only care about the real world, is that in the real world PDF::API2 has no less than 100% PASS rate (ignoring the 2 UNKNOWNs).<br/><br/>Not a single damned FAIL.<br/><br/>And yet looking at the graph on the CPAN testers page, you could be forgiven for thinking that the module is decending into rot.<br/><br/>The real situation is that the module works perfectly, unless you try to build it one of two dozen patched versions of Perl that nobody other than the P5P team will ever see, and which are probably already fixed.<br/><br/>It's all well and good that we run tests of patched versions and developer versions, and that we collect results from patched versions and developer versions.<br/><br/>But the poison is spreading and as a result we're staining the reputation of reputable modules in public forums.<br/><br/>EVERY feed of information coming out of the CPAN Testers database needs to be limited to production releases of modules on production versions of Perl BY DEFAULT, unless someone has a specific need to request otherwise.<br/><br/>This bullshit needs to end.</p>


<hr/>



<h2>Different data views please</h2>
<h3><a href="/user/brian_d_foy/">brian_d_foy</a> on 2008-10-07T14:32:06</h3>
<p>I like that people test my modules on any version of Perl, but I'd like to see the Testers figure out how to have two sets of results: stable version results and everything else. The stable results are for the public. The everything else gets sent to developers and isn't in the testers database.</p><p>I'd like to see things such as CPAN Search just use the stable results. That might be as easy as slicing the data for public consumption without making any changes to the people doing the testing.</p>



<blockquote>

<h2>Re:Different data views please</h2>
<h3><a href="/user/srezic/">srezic</a> on 2008-10-07T21:44:41</h3>
That's why the CPAN Testers Matrix (<a href="http://bbbike.radzeit.de/user/slaven/cpantestersmatrix.cgi?dist=PDF-API2+0.71.001" title="radzeit.de">e.g. the PDF::API2 results</a radzeit.de>) exists. You can easily see if failures are OS or perl dependent and feel free to ignore it.



<blockquote>

<h2>Re:Different data views please</h2>
<h3><a href="/user/brian_d_foy/">brian_d_foy</a> on 2008-10-08T04:06:15</h3>
<p>The CPAN Testers matrix isn't something see on CPAN Search though, which is the point. This isn't the normal techie problem of thinking that the data is there and if people would just look at it everything would be fine. People see the summary of PASS and FAIL on a module page first, and then maybe (maybe) the matrix.</p><p>I want that first impression to be better tuned to what their experience will be, which is using the module with a stable version of Perl.</p>



<blockquote>

<h2>Re:Different data views please</h2>
<h3><a href="/user/srezic/">srezic</a> on 2008-10-08T06:08:55</h3>
If you're refering to the number of PASSes and FAILs on the summary page --- these numbers are nearly meaningless, just like the cpanrating stars or the number of open RT tickets.



<blockquote>

<h2>Re:Different data views please</h2>
<h3><a href="/user/Alias/">Alias</a> on 2008-10-08T14:32:36</h3>
<p>Those numbers are quite meaningful to large set of people unable to reliable judge the code themselves. They use results like 100% PASS as a guide of it they can trust the code to work in some random place.</p>



<blockquote>

<h2>Re:Different data views please</h2>
<h3><a href="/user/srezic/">srezic</a> on 2008-10-08T21:44:12</h3>
People really choose a CPAN distribution based on a <i>single number</i>?



<blockquote>

<h2>Re:Different data views please</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2008-10-08T22:28:35</h3>
<p>Pretend you're not an expert Perl contributor for ten minutes.  Imagine that someone told you to find an XML module for Perl from the CPAN.  You shuffle through several dozen pages of search results and read the distribution pages.  Some of them have a big red "CPAN TESTERS SAYS THIS CODE GETS A FAIL!!!" notice.</p><p>How many non-experts are going to dig into matrices of platform combinations and bleadperl patchlevels to realize that, oh, you can't rearrange the struct members between a PV and a PVMG and retain source code XS compatibility, but that's okay, because someone on p5p just proposed a patch to fix things?</p><p>I don't normally guess at hypothetical situations like that, but in this case, I don't have to guess.  The number is zero.</p><p>I suppose an alternate approach is to educate some 6.2 billion potential CPAN users that there's little useful meaning in the numbers posted on the CPAN distribution pages, but that seems like more work than removing meaningless data and publishing only meaningful data.</p>



<blockquote>

<h2>Re:Different data views please</h2>
<h3><a href="/user/srezic/">srezic</a> on 2008-10-09T06:35:31</h3>
For a question like "which XML module is the best" search.cpan.org is
not very well suited. If I was a beginner, I would rather ask Google
and hope to find some comparison or recommendation page like<br/><br/><a href="http://www.perlfoundation.org/perl5/index.cgi?pbp_module_recommendation_commentary" title="perlfoundation.org">http://www.perlfoundation.org/perl5/index.cgi?pbp_module_recommendation_comment<nobr>a<wbr></nobr> ry</a perlfoundation.org>
<a href="http://www.xml.com/pub/a/2002/08/21/perl-xml.html" title="xml.com">http://www.xml.com/pub/a/2002/08/21/perl-xml.html</a xml.com><br/><br/>or<br/><br/><a href="http://perl-xml.sourceforge.net/" title="sourceforge.net">http://perl-xml.sourceforge.net/</a sourceforge.net>



<blockquote>

<h2>Re:Different data views please</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2008-10-09T17:11:41</h3>
<blockquote><div><p> <em>For a question like "which XML module is the best" search.cpan.org is not very well suited.</em></p></div> </blockquote><p>I know that and you know that and almost everyone reading this knows that, but you had to take off your beginner hat to know that.</p>





</blockquote>

</blockquote>

</blockquote>

</blockquote>


<h2>Re:Different data views please</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2008-10-08T21:28:15</h3>
<p>Why publish meaningless data?</p>



<blockquote>

<h2>Re:Different data views please</h2>
<h3><a href="/user/srezic/">srezic</a> on 2008-10-08T21:43:06</h3>
It's just a teaser. If it's 100% PASS, then I don't need to look at the results. If not, then I can look at the matrix and see if there are patterns. Or dive deeper into the results.





</blockquote>

</blockquote>

</blockquote>

</blockquote>

</blockquote>


<h2>Please STOP Bitching</h2>
<h3><a href="/user/barbie/">barbie</a> on 2008-10-07T15:23:38</h3>
<p>Yes I get it. You don't like it. You've bitched about it all over the place. I get the message. Instead trying to beat the hell out of me, perhaps you can help fix it.
</p><p>Do I really deserve this public thrashing?
</p><p>Stop and think for a moment. Would you be so ready to fix problems within your code when someone is persistently telling you how crap you are for not fixing their specific problem?</p>



<blockquote>

<h2>Re:Please STOP Bitching</h2>
<h3><a href="/user/Alias/">Alias</a> on 2008-10-07T22:23:56</h3>
<p>You wouldn't believe the amount of crap I get about some of the stuff Strawberry does that people want changed.</p><p>And yes, I'm trying to fix it.</p><p>Also, I deeply grateful for the stuff you in particular have done to fix the problem on the places you control. You've probably done more to fix this problem than anyone.</p>





</blockquote>


<h2>NO TESTS!</h2>
<h3><a href="/user/ChrisDolan/">ChrisDolan</a> on 2008-10-08T04:27:55</h3>
<p>Your argument may or may not have merit, but PDF::API2 is a terrible example to make your point.</p><p>Have you looked in the t/ directory of PDF::API2?  Here, I'll save you the time:</p><blockquote><div><p> <tt>use Test;<br>BEGIN { plan tests =&gt; 1 }<br>use PDF::API2; ok(1);</tt></p></div> </blockquote><p> <b>With no unit tests, a PASS is meaningless.</b>  Only a FAIL has any meaning at all.</p><p>That said, I think PDF::API2 is good code and Fredo has been remarkably responsive in my experience, but my own not-really-competing <a href="http://search.cpan.org/dist/CAM-PDF/" title="cpan.org">CAM::PDF</a cpan.org> library has unit tests with code coverage over 50% -- not great but infinitely better than PDF::API2.</p>



<blockquote>

<h2>Re:NO TESTS!</h2>
<h3><a href="/user/Alias/">Alias</a> on 2008-10-08T14:35:11</h3>
<p>True that, but the sheer percentage of FAILs all of which are on non-prod environments provides an excellent visual example.</p>



<h2>Re:NO TESTS!</h2>
<h3><a href="/user/Alias/">Alias</a> on 2008-10-08T14:41:04</h3>
<p>Also, alas, we're doing PDF creation, and we've implemented pretty much an entire graphic design environment, with box geometry model and a ton of other crazy stuff.</p><p>PDF::API2 is the only thing we've found with enough features and control over the generation of the PDF content.</p><p>The old system this replaced used to use PDFLib, but it's not good enough any longer.</p><p>We'll probably end up contributing patches and improvements to PDF::API2, rather than switching.</p>





</blockquote>


<h2>5.10.x</h2>
<h3><a href="/user/srezic/">srezic</a> on 2008-10-08T06:10:22</h3>
I could agree about the reports for 5.11.0. These can be neglected for
some time. I cannot agree about the reports for 5.10.x. So if you look
at the <a href="http://bbbike.radzeit.de/user/slaven/cpantestersmatrix.cgi?dist=PDF-API2%200.71.001;reports=1;perl=5.10.0" title="radzeit.de">filtered
reports for 5.10.0</a radzeit.de>, then it's clear that PDF-API2's test suite is
broken with every perl-5.10.1-tobe. And what did you do about it?
Where's the report in the PDF-API2 RT queue? Where's the report on
perl5-porters? If nobody takes action, then 5.10.1 will come out,
PDF-API2 will be broken and you have to switch to another PDF module.
<p>
I think you could spend your time better.</p>



<blockquote>

<h2>Re:5.10.x</h2>
<h3><a href="/user/Alias/">Alias</a> on 2008-10-08T14:34:27</h3>
<p>Who's to say that it will REMAIN broken for the final prod version though...</p>



<blockquote>

<h2>Re:5.10.x</h2>
<h3><a href="/user/srezic/">srezic</a> on 2008-10-08T21:45:24</h3>
It will remain broken. Until somebody notices and fixes it.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

