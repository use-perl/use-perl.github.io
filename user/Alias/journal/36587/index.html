<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: Vista Service Pack 1 unbreaks Strawberry Perl?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Vista Service Pack 1 unbreaks Strawberry Perl?</h1>
<h2><a href="/user/Alias/">Alias</a> on 2008-06-04T19:05:07</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I've received word that for at least one person, upgrading a Windows Vista install to Service Pack 1 seems to make CPAN XS compilation magically start working for the existing April Strawberry Perl releases.<br/><br/>If anyone out there has copies of Windows Vista and is able to help confirm these reports, it would be greatly appreciated.</p>


<hr/>



<h2>So it was SP1?</h2>
<h3><a href="/user/snaury/">snaury</a> on 2008-06-04T19:26:29</h3>
That's what it was! And I thought how came I buy a new laptop with Vista, immediately upgrade to SP1, read a lot about msvcrt.dll upgrade and how it breaks access(), swear at Microsoft in preparation to use a recompiled gcc, when I suddenly I discover that I don't have this bug.<br><br>To be honest, I thought it could be some difference between English and Russian SKU, a thought that SP1 fixes something like that didn't even cross my mind.<nobr> <wbr></nobr>:)



<h2>Ping me</h2>
<h3><a href="/user/jk2addict/">jk2addict</a> on 2008-06-04T19:28:50</h3>
on irc this evening (claco).<br><br>I've got Vista SP1 running under Parallels. I'll give SP a whirl. Any particular module to try and compile, or just any old xs module will do?



<h2>I'll try it</h2>
<h3><a href="/user/Mr. Muskrat/">Mr. Muskrat</a> on 2008-06-04T20:07:23</h3>
It's been a while since I've booted my laptop into Vista but I'll give a shot.



<blockquote>

<h2>Re:I'll try it</h2>
<h3><a href="/user/Mr. Muskrat/">Mr. Muskrat</a> on 2008-06-06T13:53:49</h3>
I tried installing a few XS modules last night and it was hit and miss.  I'm hopeful that once I go through the tweaks that made it sort of work pre-SP1 that it will be good to go.





</blockquote>


<h2>YouTube</h2>
<h3><a href="/user/pudge/">pudge</a> on 2008-06-04T21:29:33</h3>
Not that I care much about this Microsoft stuff -- as far as you know -- but I saw this new video on teh YouTube called <a href="http://www.youtube.com/watch?v=tz-574UsHOs" title="youtube.com">Strawberry Perl</a youtube.com> that I figured maybe you haven't seen.  So there it is!



<h2>Maybe. Not so sure.</h2>
<h3><a href="/user/jk2addict/">jk2addict</a> on 2008-06-04T23:24:52</h3>
I have Vista SP1 on Parallels. It's an as yet unmolested install. In fact, SP is the first thing to be installed right after Firefox.<nobr> <wbr></nobr>:-)<br><br>Data::UUID, which builds fine on XP, failed in Vista with a bung of unicode/character errors.<br><br>However, DBI built and tested in the first shot. So depending on what the Vista issue really is, it appears to work on SP1.<br><br>Then I want back to Data::UUID. Sometimes it builds. Sometimes it doesn't. Damn inconsistant.<br><br>C:\strawberry\cpan\build\Data-UUID-1.148-nc9CkU&gt;dmake<br>gcc -c          -s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DPERL_IMPLICIT_CONTEXT -DPERL_<br>IMPLICIT_SYS -fno-strict-aliasing -DPERL_MSVCRT_READFIX -s -O2    -DVERSION=\"1.<br>148\"   -DXS_VERSION=\"1.148\"  "-IC:\strawberry\perl\lib\CORE"  -D_STDIR=\"C:\U<br>sers\claco\AppData\Local\Temp\" -D__MSWin32__ -D_DEFAULT_UMASK=0007 UUID.c<br>UUID.xs:263:45: warning: universal character names are only valid in C++ and C99<br><br>UUID.xs:263:45: incomplete universal character name \U<br>UUID.xs:263:45: warning: unknown escape sequence '\c'<br>UUID.xs:263:45: warning: unknown escape sequence '\A'<br>UUID.xs:263:45: warning: unknown escape sequence '\L'<br>UUID.xs:263:45: warning: unknown escape sequence '\T'<br>UUID.xs:269:46: warning: universal character names are only valid in C++ and C99<br><br>UUID.xs:269:46: incomplete universal character name \U<br>UUID.xs:269:46: warning: unknown escape sequence '\c'<br>UUID.xs:269:46: warning: unknown escape sequence '\A'<br>UUID.xs:269:46: warning: unknown escape sequence '\L'<br>UUID.xs:269:46: warning: unknown escape sequence '\T'<br>UUID.xs:280:49: warning: universal character names are only valid in C++ and C99<br><br>UUID.xs:280:49: incomplete universal character name \U<br>UUID.xs:280:49: warning: unknown escape sequence '\c'<br>UUID.xs:280:49: warning: unknown escape sequence '\A'<br>UUID.xs:280:49: warning: unknown escape sequence '\L'<br>UUID.xs:280:49: warning: unknown escape sequence '\T'<br>UUID.xs:319:47: warning: universal character names are only valid in C++ and C99<br><br>UUID.xs:319:47: incomplete universal character name \U<br>UUID.xs:319:47: warning: unknown escape sequence '\c'<br>UUID.xs:319:47: warning: unknown escape sequence '\A'<br>UUID.xs:319:47: warning: unknown escape sequence '\L'<br>UUID.xs:319:47: warning: unknown escape sequence '\T'<br>UUID.xs:463:45: warning: universal character names are only valid in C++ and C99<br><br>UUID.xs:463:45: incomplete universal character name \U<br>UUID.xs:463:45: warning: unknown escape sequence '\c'<br>UUID.xs:463:45: warning: unknown escape sequence '\A'<br>UUID.xs:463:45: warning: unknown escape sequence '\L'<br>UUID.xs:463:45: warning: unknown escape sequence '\T'<br>dmake:  Error code 129, while making 'UUID.o'<br><br>C:\strawberry\cpan\build\Data-UUID-1.148-nc9CkU&gt;perl Makefile.PL<br>UUID state storage [C:\Users\claco\AppData\Local\Temp] dmake<br>Writing Makefile for Data::UUID<br><br>C:\strawberry\cpan\build\Data-UUID-1.148-nc9CkU&gt;dmake<br>gcc -c          -s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DPERL_IMPLICIT_CONTEXT -DPERL_<br>IMPLICIT_SYS -fno-strict-aliasing -DPERL_MSVCRT_READFIX -s -O2    -DVERSION=\"1.<br>148\"   -DXS_VERSION=\"1.148\"  "-IC:\strawberry\perl\lib\CORE"  -D_STDIR=\"dmak<br>e\" -D__MSWin32__ -D_DEFAULT_UMASK=0007 UUID.c<br>gcc -c          -s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DPERL_IMPLICIT_CONTEXT -DPERL_<br>IMPLICIT_SYS -fno-strict-aliasing -DPERL_MSVCRT_READFIX -s -O2    -DVERSION=\"1.<br>148\"   -DXS_VERSION=\"1.148\"  "-IC:\strawberry\perl\lib\CORE"  -D_STDIR=\"dmak<br>e\" -D__MSWin32__ -D_DEFAULT_UMASK=0007 md5.c<br>Running Mkbootstrap for Data::UUID ()<br>C:\strawberry\perl\bin\perl.exe -MExtUtils::Command -e chmod 644 UUID.bs<br>dlltool --def UUID.def --output-exp dll.exp<br>g++ -o blib\arch\auto\Data\UUID\UUID.dll -Wl,--base-file -Wl,dll.base -mdll -s -<br>L"C:\strawberry\perl\lib\CORE" -L"C:\strawberry\c\lib" UUID.o   md5.o -Wl,--imag<br>e-base,0x7b310000  C:\strawberry\perl\lib\CORE\libperl510.a -lmsvcrt -lmoldname<br>-lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -<br>loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32<br>
&nbsp; dll.exp<br>dlltool --def UUID.def --base-file dll.base --output-exp dll.exp<br>g++ -o blib\arch\auto\Data\UUID\UUID.dll -mdll -s -L"C:\strawberry\perl\lib\CORE<br>" -L"C:\strawberry\c\lib" UUID.o        md5.o -Wl,--image-base,0x7b310000  C:\st<br>rawberry\perl\lib\CORE\libperl510.a -lmsvcrt -lmoldname -lkernel32 -luser32 -lgd<br>i32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -lu<br>uid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 dll.exp<br>C:\strawberry\perl\bin\perl.exe -MExtUtils::Command -e chmod 755 blib\arch\auto\<br>Data\UUID\UUID.dll<br>C:\strawberry\perl\bin\perl.exe -MExtUtils::Command -e cp UUID.bs blib\arch\auto<br>\Data\UUID\UUID.bs<br>C:\strawberry\perl\bin\perl.exe -MExtUtils::Command -e chmod 644 blib\arch\auto\<br>Data\UUID\UUID.bs<br><br>C:\strawberry\cpan\build\Data-UUID-1.148-nc9CkU&gt;





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

