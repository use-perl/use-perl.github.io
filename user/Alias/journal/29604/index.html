<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: Some wetware optimisation for the collaborative svn</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Some wetware optimisation for the collaborative svn</h1>
<h2><a href="/user/Alias/">Alias</a> on 2006-05-13T04:14:57</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Things seem to be working pretty well so far with the collaborative SVN setup.<br/><br/>I've got about 15-20 CPAN authors that have accounts now, although about 5-10 are there because they know they will add things in the future, rather than needing it immediately. 3 or 4 actual bug fixes have been done, and the process has worked pretty smoothly.<br/><br/>My use of Insurrection seems to have become a bit more controversial than I had expected.<br/><br/>So far I've had two authors of different web-based svn tools query me over the choice and why I didn't use theirs (one accidentally in public) and I've had two other CPAN authors trying to set their own installs up get $annoyed at me for recommending something they can't get to install.<br/><br/>So I probably should clear up the situation with Insurrection.<br/><br/>Insurrection is <b>not</b> a web-based svn viewer in the style of <a href="http://search.cpan.org/perldoc?SVN::Web">SVN::Web</a>. While it does have a fairly minimal amount of viewing functionality, that isn't the point.<br/><br/>What Insurrection <b>does</b> do is make it easier to <b>run the repository</b>.<br/><br/>A few people have been bemused, "is it that hard to use an editor and add two lines to two config files?"<br/><br/>The effect I'm aiming for here is "Wetware Optimisation".<br/><br/>In order to let someone else fix a bug in one of my modules, there are three critical tasks I have to take, and can't avoid. These are 1) Access Approval 2) Review Changes 3) Release to CPAN.<br/><br/>My goal is to remove any and all other tasks, and make those three as small (both in terms of time and intensity of thought) as possible while retaining the same quality of oversight.<br/><br/>My target for my <b>total</b> involvement in a bug fix, including all three of the above, is 1 minute. That is, I'd like to be able to add an account, let them fix a bug, review the changes, and upload the new version, with the total for my involvement being less than 60 seconds (obviously more if it's a big change that needs more review).<br/><br/>If I can keep the involvement down to that level, it means that I can keep the evolution of the CPAN modules going without having to be distracted from my normal <a href="http://phase-n.com/">perl consulting</a> work, and so I don't have to put aside entire days to deal with the RT backlog. This is the win-win situation I'm looking for.<br/><br/>And by using Insurrection, with it's email-based accounts, and managing the generation of passwords and so on, it cuts down the "Access Approval" step to a minute or so. It's still not quite as fast as I'd like, but it's the best there is for now.<br/><br/>I will note however, that as great as it is, Insurrection is _incredibly_ difficult to install. For anyone who wanted to try, I posted a (large) installation guide back to the author after I finally got mine working.<br/><br/>You can find it in the Insurrection mailing list archives.<br/><br/>Yesterday I also managed to chop some more time out of the 3) Release to CPAN.<br/><br/>One of the nice things about the <a href="http://svn.phase-n.com/svn/cpan/tools/build_cpan.pl">release script</a> I use is that it commits a copy of the tarball back into SVN. Because of anonymous read access being enabled, this means every release has an master canonical URL.<br/><br/>PAUSE accepts a URL as one option for uploading modules. :)<br/><br/>So I've been cut and pasting the URL from the release script output, pasting it into the PAUSE upload form, and PAUSE will suck the release directly out of my SVN.<br/><br/>I could potentially make the release script upload as well, but that would mean giving the script my passwords, and I'd also strongly like to keep at least one human step in there to protect myself against script bugs which uploaded bad things.<br/><br/>Yesterday I realised that I can go one step further and abuse the "Quick Search"  feature in Firefox.<br/><br/>This makes bookmarks linked to a keyword you can type into the URL bar.<br/><br/>For example "cpan Foo::Bar" is set up to do a search.cpan search for "Foo::Bar".<br/><br/>With a little bit of PAUSE hackery, I found I can abuse this same feature to automated the "upload" of a repository release URL.<br/><br/>So now, instead of going to pause, and uploading a file, I just copy the URL from the release script output, and just type/paste the following into the Firefox URL bar.<br/><br/>"release http://svn.phase-n.com/svn/cpan/releases/PPI-1.113.tar.gz"<br/><br/>And in one step that goes to PAUSE and executes a URL upload.<br/><br/>So now step 3) is down to about 20-30 seconds, and I don't have to read anything or fill out any forms. :)
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

