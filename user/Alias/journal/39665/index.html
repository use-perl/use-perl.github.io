<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: The long-awaited return of the JSAN</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>The long-awaited return of the JSAN</h1>
<h2><a href="/user/Alias/">Alias</a> on 2009-09-23T02:13:48</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>During the original JSAN development, I wrote a new shiny client and shell but never got to do the final production release due to the untimely demise of both Class::DBI (which it used) and the SQLite index (which it needed).<br/><br/>The code has sat on the shelf for a very long time awaiting the zombie apocalypse, when JSAN would come back from the dead.<br/><br/>In the time since then, I've continued refining and rewriting some of the fundamental pieces of the client for use in CPAN and CCAN that JSAN was acting as an experimental use case for.<br/><br/>The biggest and most important of these is <a href="http://search.cpan.org/perldoc?ORLite">ORLite</a> (and <a href="http://search.cpan.org/perldoc?ORLite::Mirror">ORLite::Mirror</a>). A (lowercase) tiny extensible ORM built specifically for SQLite, with the ability to pull that database from a remote URL is what we really wanted in JSAN but didn't have the time to write.<br/><br/>It is far lighter, more flexible, and easier to install (both manually and for packagers) than something like Class::DBI or DBIx::Class, and by publishing the index itself as a SQLite file, you remove entirely the need for a parsing phase in the repository client. Just download, connect, inflate, and in under a second you are up and running.<br/><br/>You can see a proof of concept of this in <a href="http://search.cpan.org/perldoc?ORDB::JSAN">ORDB::JSAN</a>, which is a pure ORDB database fetching module for the JSAN index.<br/><br/>As for the main JSAN::Client implementation I'm happy to report that after a hectic back and forth night of hacking with Nickolay Platonov (who is one of the main forces behind the JSAN rebirth) we've managed to rip Class::DBI out of JSAN::Client and port it to ORLite, file transports, module installation.<br/><br/>Dependency resolution is extremely slow (because of the different ways that Class::DBI and ORLite do connection management and caching) but the entire test suite now passes in full.<br/><br/>One more day of hackery pokery should be all we need now to prepare the new JSAN::Client 2.0 for release and to update JSAN::Shell to use the new client properly.<br/><br/>Once that is done, we should have a new shiny JSAN command line client capable of installing packages finally completed.</p>


<hr/>



<h2>Great News!</h2>
<h3><a href="/user/Theory/">Theory</a> on 2009-09-23T16:24:58</h3>
<p>This is great news, Adam, thanks! I'm looking forward to playing with it.</p><p>--Theory</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

