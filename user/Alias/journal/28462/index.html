<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Alias: Stephen Steneker's CamelPack claims the metre of beer!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Stephen Steneker's CamelPack claims the metre of beer!</h1>
<h2><a href="/user/Alias/">Alias</a> on 2006-01-25T03:18:43</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>After an initial rejection due to networking CPAN.pm failures (reports on which have been fed back into RT and will hopefully be fixed before 5.8.8), <a href="http://search.cpan.org/user/stennie/">Stephen Steneker</a>'s second submission of his <a href="http://stennie.org/camelpack/">Perl CamelPack 5.8.7</a> passed all 9 points and he claims the reward of a <a href="http://use.perl.org/user/Alias/journal/28427">vertical metre of beer</a>.<br/><br/>Stephen (back row centre in <a href="http://perl.net.au/wiki/Image:Syd_pm_1.jpg">this picture</a>) is the co-ordinator of <a href="http://sydney.pm.org/">Sydney.pm</a>, but this will be his first ever CPAN upload. He even went the extra step of producing us a 5.6.1 version of the CamelPack for version dependency testing purposes.<br/><br/>In typical Australia fashion and in an <i>excellent</i> use of the "you may steal mercilessly" rule, he simply bundled together ActivePerl 5.8.7, the Bloodshed Dev-C editor (which installs at the same time a working MinGW environment), and Microsoft's nmake. And It Just Works (and even maintains compatibility with ActivePerl's PPM binary packages)<br/><br/>To avoid licensing issues, rather than embed the installers in his main installer, his installer downloads them on the fly during the install and they Do The Right Thing. This also means that the CamelPack comes in at only 345k.<br/><br/>If a little crude, his solution worked well, was pulled together quickly, and should be easily repeatable for new Perl versions. And happily for me, I get to deliver his beer in person since I plan to be in town for the February Sydney.pm meeting.<br/><br/>He <i>just</i> edged out <a href="http://search.cpan.org/user/cfranks/">Carl Franks' </a> Vanilla Perl. (which I won't link to because he has bandwidth issues where it is hosted)<br/><br/>Carl took the opposite approach with Vanilla and compiled gcc, a set of unix tools, and perl itself all from scratch specifically for Windows, and then wrapped it up in a unified installer (total size about 15meg).<br/><br/>However, he was tripped up by the same networking problem (related to passive FTP and the Windows firewall) that caught Stephen out, and also suffered from a badly crashing gzip.exe. In the end, it may have actually come down to timezones, with Carl simply running out of ability to avoid sleep just as Stephen was waking up and starting on the problems from his initial rejection.<br/><br/>In the end, I suspect it will turn out that BOTH Perl distributions will live on and be useful. Stephen is keen to solve the problem of integrating CPAN with binary installs and solve the libfoo.dll problem (and was already working on it) so the CamelPack could well become an ideal "end user" Perl installation.<br/><br/>And because Vanilla Perl contains <i>only</i> the core Perl modules, and not the extra ActivePerl modules, it will serve as an ideal Perl install to run inside of Win32 <a href="http://ali.as/pita/">PITA</a> images, for testing CPAN distributions on Windows.<br/><br/>All in all, the competition was a resounding success, and now we should truly be able to install modules directly from CPAN across linux, mac, and Win32, without any undue pain. Well worth a metre of beer!<br/><br/>P.S. Photos of the beer presentation to follow :)</p>


<hr/>



<h2>Great stuff!</h2>
<h3><a href="/user/osfameron/">osfameron</a> on 2006-01-25T09:20:33</h3>
Kudos to all!  Getting a working installation of Perl for Windows (where "working" now means "can compile XS modules out of the box") is a worthy and important goal.



<h2>Hmmmm</h2>
<h3><a href="/user/sigzero/">sigzero</a> on 2006-01-25T13:37:05</h3>
<p>While PXPerl seems to have "frozen" at the moment (the guy is a student after all). I would rather have seen someone step in to help on that one as I see this having the most "potential" as it is indepedent.</p>

<p>I would much rather have the MingW install over the DEV-C++. Why install something like an IDE when 99.9% of the end users will never use it? Too much cruft.</p>



<blockquote>

<h2>Re:</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2006-01-25T17:55:12</h3>
<p>I agree. That was the angle I was thinking of and might have tried myself, had I a Windows machine to actually do this on. (Ie. set up MingW, compile Perl with it, then package the lot together with an installer.)</p>

<p>The ActiveState + Dev-C++ solution is good for contests (you get to win fast), but loads of bloat in practice.</p>



<blockquote>

<h2>Re: ActiveState + Dev-C++</h2>
<h3><a href="/user/bart/">bart</a> on 2006-01-25T21:11:51</h3>
I like the compatibility with PPM. In cases where you don't succeed in building an XS module yourself (for example because of dependency on external libriries which is not for newbies in C compilers), then you can always use a prebuilt PPM distribution, which is nice.<br><br>But I sincerely dislike the idea that this installer installs an IDE for C++, just in order to compile XS modules.<br><br>BTW Intrepid on Perlmonk told me earlier today he has built complex XS modules with MinGW to work with ActivePerl. If you know what you're doing, it's not too hard, that's what he says. Unfortunately, I don't.<br><br>So the direction I'd like to see the most, is ActivePerl or a binary compatible perl, combined with MinGW for the C compiler, creating PPM compatible DLLs.



<blockquote>

<h2>Re: ActiveState + Dev-C++</h2>
<h3><a href="/user/stennie/">stennie</a> on 2006-01-25T21:34:41</h3>
Would be great if someone can interpret what actually needs to be bundled for MinGW and how to configure it to work with ActivePerl or other win32 environments.  Much prefer just installing the compiler, if that's all that is needed!<br><br>I couldn't make easy sense of the MinGW mess, while DevC++ "Just Worked":<br>
&nbsp; &nbsp; <a href="http://www.mingw.org/" title="mingw.org">http://www.mingw.org/</a mingw.org><br>
&nbsp; &nbsp; <a href="https://sourceforge.net/project/showfiles.php?group_id=2435" title="sourceforge.net">https://sourceforge.net/project/showfiles.php?group_id=2435</a sourceforge.net><br><br>Cheers,<br>Stephen<br>





</blockquote>


<h2>Re: Hmmmm</h2>
<h3><a href="/user/stennie/">stennie</a> on 2006-01-25T21:15:29</h3>
Agree with comments on creating a "minimal" installer, based on a vanilla build of perl (or pxperl) and gcc/mingw toolchain.  I'd love to do so, but am not interested in signing myself up for the ongoing build and testing of distinct binary releases... as that's yet another distro that can fall by the wayside.  Aside from that, I only boot into Windows for testing<nobr> <wbr></nobr>;-).<br><br>In the interests of expediency, I simply packaged up some reliable (and maintained) tools in the most straightforward way possible.  I would consider this solution a "proof of concept" that can surely be improved (for example, with options to install minimal or more complete development environments).<br><br>I would welcome anyone to try to get the PXPerl community going (original author seems to have vanished after a early build, forums are not getting replies?)<nobr> <wbr></nobr>.. and would be happy to see more support for creating a more comprehensive Windows installer.  I considered a few alternative perl installers, but in general these wanted to install even more bloat by default: apache, mod_perl, or even php.<br><br>Before attempting an installer, I had already noted several posts on PXPerl from Adam asking if / how he could assist in getting that across the line, and I suspect this challenge arose from his frustration in lack of response there.<br><br>Further notes on what I considered:<br>
&nbsp; <a href="http://stennie.org/camelpack/" title="stennie.org">http://stennie.org/camelpack/</a stennie.org><br><br>Suggestions welcome!<br><br>Cheers,<br>Stephen<br>



<blockquote>

<h2>Re:</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2006-01-25T22:48:07</h3>
<p>Creating a new distribution, it seems to me, wouldn&#x2019;t be a huge issue, if only there was an easy way for people beside the original author to repeat the process &#x2013; ie. a build script, the one thing that PXPerl clearly lacks.</p>



<h2>Re: Hmmmm</h2>
<h3><a href="/user/Alias/">Alias</a> on 2006-01-26T12:43:01</h3>
Well, not only that, but a managed to get a couple of people to look at simply taking it over the moving ahead on their own, or even to create a screencast of how to get MinGW set up with it.<br><br>None of them were able to do it.<br><br>If someone else is able to make it work, that would be great.<br><br>



<blockquote>

<h2>Re: Hmmmm</h2>
<h3><a href="/user/bart/">bart</a> on 2006-01-27T00:03:36</h3>
Are you saying you don't know how to get MinGW to work for PXPerl? Well, it works for me. I did have to delete a command line option, one that gcc for MinGW (?) apparently didn't support. The command line options that I have left are<blockquote> <div><tt>-g -O3 -fno-strict-aliasing</tt></div> </blockquote>(Use <tt>configure_pxperl</tt>, a script with a Tk GUI, to select the MinGW gcc compiler first.)





</blockquote>

</blockquote>

</blockquote>

</blockquote>


<h2>Re: CamelPack doesn't work for me....</h2>
<h3><a href="/user/terrypchan/">terrypchan</a> on 2006-02-27T23:41:16</h3>
On a windows XP box that has never had perl installed, CamelPack does not get a working CPAN for me.  Yes, it correctly installs ActiveState perl, dev-c++ toolchain and nmake. However there is no gzip, and no (gnu) tar installed. Without those two binaries, CPAN is pretty much useless.  CPAN will start up but even a "cpan Bundle::CPAN" will not get very far!  I'm also having problems even finding a pre-compiled gnu tar binary &gt; 1.13 (which is already too old it seems for CPAN). So I fail to see how this perl distro can claim the beer prize.



<blockquote>

<h2>Re: CamelPack doesn't work for me....</h2>
<h3><a href="/user/dagolden/">dagolden</a> on 2006-03-15T22:58:20</h3>
Check out <a href="http://unxutils.sourceforge.net/" title="sourceforge.net">UnxUtils.</a sourceforge.net>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

