<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of rafael: Today's disgusted moment</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Today's disgusted moment</h1>
<h2><a href="/user/rafael/">rafael</a> on 2006-01-13T18:09:35</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Sometimes, language programming constructs are just <a href="http://mail.python.org/pipermail/python-dev/2005-September/056846.html">objectively ugly</A>. (Or do I do too much C programming ? No. I don't want to believe that.)</p>


<hr/>



<h2>ternary operators are inherently ugly</h2>
<h3><a href="/user/jmm/">jmm</a> on 2006-01-13T19:54:08</h3>
Ternary operators are inherently ugly, the only thing a language designer can do is choose amongst the flavours of ugliness.<p>
Having to create a syntax that lets three units (condition, true selection, false selection) be associated easily by a reader requires at least 2 operators and is an order of magnitude more awkward than binary operators.  While C and Perl5 go for huffman encoding with ? : (which Perl6 is changing to ??<nobr> <wbr></nobr>:: IIRC), there is history for using a more verbose mechanism, requiring more verbosity from the writer in exchange for greater clarity for the reader which is reasonable for a relatively rare construct.  Algol 68 had all statements allowed as an expression, so you just coded "if cond then true_expr else false_expr fi" in the middle of an expression.</p><p>
Using 4 operators instead of 2 provided complete bracketing of the operands so there was no need to assign and remember precedence to the operators - that is useful for an operator that is not used often, and the ternary nature requires that the middle term is completly bracketed anyhow and only permits precedence to affect the parsing of the first and last terms.</p><p>
Guido has taken a middle ground with "true_exp if cond else false_exp" which keeps the longer keyword operators for clarity, but only 2 operators for shorter encoding (than using 4).  Switching the order so that the condition is in the middle may have some odd effects on precedence.  (It makes the conditional portion unambiguous, but now both result portions need operator precedence rules to determine which parts of the surrounding context is part of one of the two condition result expressions and which is to be applied to whichever result emerges.  I don't know whether this is better or worse than the C/perl syntax, offhand.)</p>



<blockquote>

<h2>Historical huffman encodeing of ternary operator</h2>
<h3><a href="/user/n1vux/">n1vux</a> on 2006-01-15T03:24:32</h3>
<i> While C and Perl5 go for huffman encoding with ? : (which Perl6 is changing to ??<nobr> <wbr></nobr>:: IIRC), there is history for using a more verbose mechanism,</i>
<p>

The oldest is the quatenary operator or ternary if in Fortran -</p><blockquote> <div><tt> if (expr) line_lt, line_eq, line_gt</tt></div> </blockquote>which predates if..then by several years; but neary as old is the ternary operator <code>if</code> in Lisp<blockquote> <div><tt>(if pred-expr, true-val, false-val)</tt></div> </blockquote>which with is pretty well Huffman encoded.


<p>The beautiful thing of Perl is TIMTOWTDI<nobr> <wbr></nobr>... if you won't want ternary operators, don't use one. Once Switch.pm is built-into Perl 6, I'll probably use it less.</p>





</blockquote>


<h2>Backward compatibility in Python?</h2>
<h3><a href="/user/speters/">speters</a> on 2006-01-27T02:33:19</h3>
<p><em>
We will adjust the syntax of what goes inside an 'if' to disallow
lambda; currently</em></p> 
<code>
        if lambda: x:
</code>
<p><em>is accepted but quite useless (it's always true) so this will be disallowed.</em></p> 
<p>I guess backward compatibility is an issue when working with Python.  That's something rather important advocacy note to remember.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

