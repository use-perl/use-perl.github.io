<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Lecar_red: Mac IE strikes again... This time select with optgroups.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Mac IE strikes again... This time select with optgroups.</h1>
<h2><a href="/user/Lecar_red/">Lecar_red</a> on 2005-11-14T15:49:11</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p> Another very strange Mac IE rendering problem. I know, I know, I know stop supporting Mac IE already. Unfortunatly at $work nothing is quite that easy. </p>

<p> This time Mac IE's wonderful support (per half the blogs on the planet) for optgroup usage has bit me in the ass. It seems that when you use a multiple select with a size and style height:
<code>
&lt;select size="6" multiple style="height=6em;" &gt;
</code>
And then include a (or multiple) optgroups in that select. It cannot figure out what the correct option count to start displaying the scroll bar since it doesn't actually count the 'optgroup' element as a display element. An example:
<pre>
<select size="6" multiple name="stuff" style="height: 6em;">
<optgroup label="Group 1">
   <option value="one"> One </option>
   <option value="two"> Two </option>
   <option value="three"> Three </option>
   <option value="four"> Four </option>
   <option value="five"> Five </option>
</optgroup>
</pre>

According to Mac IE the size is '5' which is correct (in the javascript DOM) but it doesn't figure out that the display size is six (it seems to use 'select.length') so it never puts the scroll bar there causing the last element to be impossible to select. You have to pad it with blank options to the size of 'size'. Fun...</p>


<hr/>



<h2>Oh jeeze...</h2>
<h3><a href="/user/jk2addict/">jk2addict</a> on 2005-11-14T18:05:58</h3>
I never even knew there was an optgroup element.<nobr> <wbr></nobr>:-)





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

