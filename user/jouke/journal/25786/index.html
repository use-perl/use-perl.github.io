<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jouke: More pVoice on OS X</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>More pVoice on OS X</h1>
<h2><a href="/user/jouke/">jouke</a> on 2005-07-19T11:53:52</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Yesterday during my commute to work I worked on the OS X port some more.<br/><br/>Although there are some differences between wxPerl on Win32 and OS X, most of the incompatibilities seem to be related to errors in my wxPerl code that don't have any effect on Win32, but cause the OS X part not to work as expected. So in the end, it all results in better code.<br/><br/>Last night I couldn't sleep because of a thunderstorm, so I coded some more. I took Mac::Speech and tried to use it in the pVoice TTS modules. The TTS preferences in pVoice shows a languages drop down box (which contains a list of languages of all installed voices) and a voices drop down box (which all voices for the selected language). It turns out that Mac::Speech (or in fact the OS X Speech Manager) has a strange way of handling languages for their voices. All pre-installed voices have a language and region code set to 0. I take it that this means that it's unknown. It's kind of weird that these values are numeric, since all references I've found on languages and regions on OS X are ISO letter codes, and not 'short' numeric values as they are in the VoiceDescription struct.<br/><br/>Anyway, I've contacted Acapela (formerly Babel Technologies) and asked them if they could send me an SDK of their OS X Text-To-Speech system (Acapela Multimedia it is called), to which they promptly agreed.
I'll have to wait until I get the details to download it, and see what values the language and region codes of their voices return.<br/><br/>One may be thinking "Why is Jouke putting all this effort in OS X development now, while the 2.2 version for Windows has *still* not been released?". I think that pVoice 2.2 should be a stable product. Getting it to work on OS X forces me to go over a lot of code again, and see what Just Works and what non-portable code I have put in. Especially getting the Text-to-Speech part to work on OS X has already shown me a few (Win32) bugs that I hadn't discovered otherwise.<br/><br/>Anyway, more to come later.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

