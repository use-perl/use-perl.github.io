<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jonasbn: Poor mans revision control vs. Stupid mans revision control</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Poor mans revision control vs. Stupid mans revision control</h1>
<h2><a href="/user/jonasbn/">jonasbn</a> on 2008-01-28T10:16:10</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I am sick and tired of reading code where large sections are commented out, this mean I have to skip large sets of lines and this disturbs my reading of the code.<br/><br/>An even worse practice is when the entry points are renamed. Like subs are renamed to <code>dostuff2</code> or <code>dostuffold</code> and <code>dostuff</code> is the one currently used.<br/><br/>The later probably being one of the worst, I have seen some of these in XSL style sheets where the match tag id disabled so it does not correspond with your XML. So the code is not really commented out, it is just never entered, very misleading.<br/><br/>I call this stupid mans revision control.<br/><br/>Comments in code are nice and sometimes you comment out something for debugging or disable a feature, even in production, since this is simply faster, we know it is the right way, but we do it anyway.<br/><br/>The problem with the last practice is that you overwrite everything also these small <i>fixes</i> when you deploy the next release. So I will argue that if you find it necessary to apply such <i>fixes</i> in your production code and you can not propagate the <i>fix</i> back into your SCM you need to work on your setup one way or the other. Your SCM should at all times be the sole place of reference.<br/><br/>Yes, CVS and SVN and all of these might not be the answer to all your problems but if you work around them they are not really put to use and instead they become a poor man's backup tool instead of a poor mans revision control.<br/><br/>I am no SCM superman, but I force myself to use SCMs and learn new stuff all the time, it is uphill sometimes and I make the same mistakes over and over again (me and CVS import will never ever become friends), but I insist on using SCM and getting the tools to work for me instead of having them becoming a tedious part of doing development.</p>


<hr/>



<h2>Ah yes:</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2008-01-28T10:48:44</h3>
<p>In the extreme, this is called a <a href="http://thedailywtf.com/Articles/The_Developmestuction_Environment.aspx" title="thedailywtf.com">developmestuction environment</a thedailywtf.com>.</p>

<p>It is the most horrible habit <em>ever</em> &#8211; the most horrible <em>possible</em> habit.</p>

<p>Dare to delete, people! Does the code need to be there? <em>Really</em>? If it&#8217;s not absolutely necessary, why keep it? If you end up needing it, you can always go back through the revision history. (You&#8217;re not a dilettante and do have source control, right? Right?) At worst, leave a comment and mention the source control revision in which the deleted code can be found. There, now you can get rid of the code.</p>

<p>Deleting code is the greatest pleasure in the life of a programmer. If you don&#8217;t understand that in your guts, well I&#8217;m sorry, but you&#8217;re not a programmer. (You may yet become one, mind; but you aren&#8217;t one now.)</p>



<blockquote>

<h2>Re:Ah yes:</h2>
<h3><a href="/user/rjbs/">rjbs</a> on 2008-01-28T13:30:26</h3>
I once boasted that I had deleted more code at $JOB than I had written.  I'm afraid that isn't quite true -- then or now -- but I like to think that I keep the ratio pretty close to 1.<br><br>I love the feeling of deleting awful old code.  It's like, I don't know, throwing away my meds for some horrible disease I've overcome.





</blockquote>


<h2>Man, you are tough</h2>
<h3><a href="/user/jonasbn/">jonasbn</a> on 2008-01-28T11:57:10</h3>
But I agree, deletion is a privilege we sometimes forget that we have and there is nothing like the feeling of cleaning up code.<br><br>I should schedule some regular refactoring session, just to get that special kick, I have seen several DRY violations in the code base.<br><br>But again, time is not on my side.



<blockquote>

<h2>Re:Man, you are tough</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2008-01-28T14:42:25</h3>
<p>Yeah, time pressure can make you do horrible things to a codebase. I know all too well.</p>

<p>As for tough, well&#8230; I can&#8217;t really put this in few words, because it&#8217;s a big issue with many sides. The best I have seen it explained is by MJD in <a href="http://video.google.com/videoplay?docid=-4037440245833870135" title="google.com">his Program Repair Shop talk at last year&#8217;s YAPC::Asia</a google.com>. I really recommend that; watch it if you can. He makes a string of very good points about repetition, and more generally redundancy, in code.</p>





</blockquote>


<h2>Die die die</h2>
<h3><a href="/user/runrig/">runrig</a> on 2008-01-28T17:30:17</h3>
At $former_employer, programmers had the nasty habit of copying and commenting out entire functions, entire classes even, to change a few lines of code. This was in a $language (not perl) that made it easy to do so...by commenting out the first line of an indented block, the whole block was commented. It made it hell to search for anything in the code. I wrote a perl utility to remove all such blocks before I started working on any such file. No one <em>ever</em> missed the code. And it was all in revision control (albeit a crappy one) anyway.



<blockquote>

<h2>Re:Die die die</h2>
<h3><a href="/user/runrig/">runrig</a> on 2008-01-28T19:15:54</h3>
...should've said "by commenting out the line before an indented block".



<h2>Re:Die die die</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2008-01-29T02:19:26</h3>
<p>It&#8217;s odd. For some strange reason, people Don&#8217;t Understand Source Control. And they have this inexplicable discomfort about deleting code.</p>

<p>My impression is that this is a consequence of programming by coincidence, but I don&#8217;t know if that&#8217;s a sufficient (or even at all correct) explanation.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

