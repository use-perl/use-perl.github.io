<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jonasbn: Promptly</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Promptly</h1>
<h2><a href="/user/jonasbn/">jonasbn</a> on 2008-10-17T06:51:39</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I have for a long time used the following prompt in my bash shell:<br/><br/><pre>
S1="\h \w\n\r% "
</pre>
	
<cite>
hoarfrost /Users/jonasbn
% 
</cite>
	
I do however sometimes resort to wanting to copy a path and command to another terminal, where I would just write <code>cd</code><br/><br/>The % would however give the following error message when pasted:<br/><br/><cite>
-bash: fg: %: no such job
</cite><br/><br/>So I changed it to:<br/><br/><pre>
PS1="\h \w\n\r; "
</pre>
	
Warning gone, I could remove the hostname to make it easier to copy it.<br/><br/><pre>
PS1="\h\n\w\n\r; "
</pre><br/><br/>Suggestions welcome:<br/><br/>In addition to the bash prompt, I find the following to prompt useful:<br/><br/>For MySQL:
<pre>
MYSQL_PS1="(\u@\h) [\d]> "
</pre>
	
For PostgreSQL (from .psqlrc)
<pre>
\set PROMPT1 '(%n@%m) [%/]>'
</pre><br/><br/>These show the user, hostname and database. Having the two database engine prompt being uniform, is quite nice.<br/><br/>I found the <a href="http://sql-info.de/postgresql/notes/transaction-status-in-the-psql-prompt.html">following tip</a> however, which includes transactional state in the prompt. This could prove quite useful.<br/><br/>prompt suggestions and examples welcome</p>


<hr/>



<h2># Shell prompt</h2>
<h3><a href="/user/parv/">parv</a> on 2008-10-17T11:53:47</h3>
<p>I use '#' (comment marker) at the beginning of the 2-line prompt (when using X; space is at premium on console).  That way even if you copy the whole thing, one can still edit the lines before executing.  (BTW, vi-mode in zsh is really excellent, much better than ksh93 or bash3.)</p>



<h2>I like it in color</h2>
<h3><a href="/user/Eric Wilhelm/">Eric Wilhelm</a> on 2008-10-18T08:07:09</h3>
<p>\n\[\033[45m\]\u@\h${debian_chroot:+ \[\033[0m\]($debian_chroot)\[\033[45m\]}: \[\033[49m\]\[\033[31m\]\w\n\[\033[0m\]\[\033[45m\]#\[\033[0m\]\t \[\033[45m\]$\[\033[0m\]</p>



<h2>Color as hint</h2>
<h3><a href="/user/cosimo/">cosimo</a> on 2008-10-18T08:30:56</h3>
<p>I use color on my<nobr> <wbr></nobr>.psqlrc on production machines, in particular, the <b>red</b> color, to remember to think twice before "TRUNCATE"-ing tables or deleting stuff...<nobr> <wbr></nobr>:-)
</p><p>
<code>
\timing<br>
\set PROMPT1 '%[%033[1;31;40m%]%n::%/@%`hostname -s` %x%R%[%033[0m\n%#%]'<br>
\set PROMPT2 '...   %#%] '<br>
</code>
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

