<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jonasbn: Getting Started with Perl::Critic</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Getting Started with Perl::Critic</h1>
<h2><a href="/user/jonasbn/">jonasbn</a> on 2007-10-31T08:23:28</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I gave a quick (unprepared) lightning-talk in <i>Danglish</i> to the Copenhagen Perl Mongers yesterday on getting started with <a href="http://search.cpan.org/perldoc?Perl::Critic">Perl::Critic</a>.<br/><br/>Well my only preparation was my experiences and existing code.<br/><br/>My idea was to help people kick-off their use of Perl::Critic, by adding a <code>t/critic.t</code> test from <a href="http://search.cpan.org/perldoc?Test::Perl::Critic">Test::Perl:: Critic</a> to their project so the static code analysis performed by Perl::Critic becomes and integrated part of the build-test process.<br/><br/>I often resort to <a href="http://search.cpan.org/perldoc?Perl::Critic::PolicySummary">the following list</a> of policies, but I always attempt to guess what policies I am looking for since I have only been using the default output.<br/><br/>After some discussion and POD reading, we located the <code>-verbose</code> flag and this could even go into the perlcriticrc in the <code>t/</code> directory as:<br/><br/><code>verbose = 8</code><br/><br/>And this gives you easily identifiable policy names<br/><br/>So a successful evening and I learned something too.<br/><br/>Anyway this brings me to something related.<br/><br/>The <code>perlcriticrc</code> is located in <code>t/</code> (based on the example from the POD of Test::Perl::Critic). But wouldn't it be nicer if is was located in the root directory of the given project, since then you could use it also for the command line tool and other things if necessary since the local directory is checked first for the existence of a <code>.perlcriticrc</code> according to the POD of Perl::Critic.<br/><br/>If anybody has any suggestions along these lines please let me know.<br/><br/>Well back to the topic<br/><br/>The idea of having Test::Critic integrated in you build-test process is that it lets you hack away and you do not <i>forget</i> to run <code>perlcritic</code> against you code.<br/><br/>Of course you still have the option of setting <code>TEST_AUTHOR</code> so the tests are skipped - I renamed this to <code>TEST_CRITIC</code> in my own tests, since this is easier to remember and I need <code>TEST_AUTHOR</code> for my CPAN work.<br/><br/>finally, to follow-up on <a href="http://use.perl.org/user/rjbs/journal/34726">RJBS journal entry</a> on headless use of Perl::Critic, do not just adhere to policies because you see a violation, either disable the given policy in the local scope or in your the <code>t/perlcriticrc</code> and document as to why or rewrite your code accordingly.<br/><br/>The good thing about Perl::Critic is that it should have you thinking about your code, it is not writing your code - <b>you are!</b></p>


<hr/>



<h2>perlcriticrc</h2>
<h3><a href="/user/kaare/">kaare</a> on 2007-10-31T09:33:57</h3>
Isn't it just a matter of changing the test to<br><br>use Test::Perl::Critic (-profile =&gt; 'perlcriticrc');<br><br>?





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

