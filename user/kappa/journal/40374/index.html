<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of kappa: I love indirect object notation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>I love indirect object notation</h1>
<h2><a href="/user/kappa/">kappa</a> on 2010-06-02T13:54:29</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I am fond of indirect object notation.</p>

<p>It's the <tt>my $inst = new Class::Class arg => 42;</tt> thing.

<p>It's beautiful and I've never faced any unsolvable problems with it. All arguments against it basically sum up to it being too hard to parse properly. As if we got computers not for this exactly reason Ã¢â¬â to do hard things for the sake of <em>beauty</em> (which is a special case of <em>order</em>).

<p>One example of bad things happening was presented in a <a href="http://www.shadowcat.co.uk/blog/matt-s-trout/indirect-but-still-fatal/">post by Matt Trout</a>. Well, <strong>not convincing</strong>, if I am allowed a slightly offensive quote from Strugatsky brothers here. Do not use it when it causes problems and this particular case seems to be hard to debug due to poor error reporting from perl interpreter only. If <a href="http://search.cpan.org/perldoc?indirect">indirect.pm</a> DOES detect these cases, why perl cannot? Probably because it's too late to change this behaviour in Perl 5. Well, I shut up and return to work.</p>


<hr/>



<h2>Error reporting is not enough</h2>
<h3><a href="/user/zby/">zby</a> on 2010-06-02T20:13:02</h3>
because it could end not with a syntax error but instead with a well defined but unexpected behaviour.  The important thing is that the possibility that the perl parser treats <code>Two::two { (foo =&gt; 'bar', baz =&gt; 'quux') }</code> as an indirect call is not something that comes to the mind of the programmer. What that indirect call does, whether it is an error or not, is always something unexpected.



<h2>Been bitten by this many times</h2>
<h3><a href="/user/cjfields/">cjfields</a> on 2010-06-09T15:33:14</h3>
<p>I work heavily with an old OO system where this syntax bit us several times with some very hard-to-diagnose bugs. Switching project-wide to direct syntax fixed a ton of these. </p><p>Yes, you can probably use this <b>if you are careful and know what you are doing</b>, but the problem I found is many devs don't know about the problems with it (or willingly ignore it). To me it's just easier to code defensively in this case and stick with direct syntax.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

