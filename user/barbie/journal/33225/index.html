<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of barbie: A fresh Outlook</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>A fresh Outlook</h1>
<h2><a href="/user/barbie/">barbie</a> on 2007-05-09T08:43:08</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The latest version of <a href="http://search.cpan.org/dist/Mail-Outlook">Mail-Outlook</a> is now on CPAN. I've been getting a lot of interest in the module over the last year, and while there have been a few patches and suggestions, there was one bug that seemed fine to me, but wasn't for others. However, having finally spotted that my testing was loading an older version of the distribution and not the latest, I soon found the bug. Part of the problem is that I wrote the module for my CPAN Testing work, but seeing as I'm not running tests at the moment, I hadn't noticed the bug. Now I'm using the module for real work, so I've had a need to fix it. As a consequence I've also implemented the Sent/Received methods to return the date/time a message was sent/received. This was actually easier to implement than I thought, and I'm kind of surprised I didn't introduce it earlier.
<p>I've also added lots of tests. So much so that my Devel::Cover(age) is now over 84%. However, due to the nature of some of the tests, I've disabled one of the scripts by default. The tests in question will read your messages in your Inbox. As some are rightly concerned with security, these will only be enabled if your set the environment variable PRIVATE_TESTS. This kind of testing has often been discussed on perl-qa and module-authors, but I don't think there has ever been an agreement as to what to call the environment variable. So now I've gone and added yet another!
<p>However, the most interesting set of tests were the ones where I wanted to test for failure. Due to the way mocking works, I couldn't properly test the modules without turning strict off. But as I didn't want to upload the distribution with strict turned off, this looked like a non-starter. Then I took a look at <a href="http://search.cpan.org/dist/Acme-USIG">Acme-USIG</a> and learnt this sneaky trick:
<pre>*strict::import = sub { $^H };</pre>
<p>So Acme modules can be useful sometimes ;)</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

