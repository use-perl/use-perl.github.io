<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of barbie: Registry BAD / PPM v4 GOOD</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Registry BAD / PPM v4 GOOD</h1>
<h2><a href="/user/barbie/">barbie</a> on 2007-02-21T10:17:08</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Unfortunately yesterday ended up being a bit of a write-off as the corruption of my registry was so bad it was irrepairable. It meant the disk had to be completely scrapped and I've had to start with a brand new disk image. Thankfully I was able to use an Ubuntu live disk to at least save off the important parts of what I had on the disk, but I did have to reinstall all my apps again. 

<p>It made me realise just how bad a decision Microsoft have made about craming everything into the registry. I can't say for certain that my <a href="http://use.perl.org/comments.pl?sid=34587&cid=53304">upgrade of CPAN.pm in Strawberry Perl</a> was the cause, but the fact that that was the last thing to touch the registry does make it a likely suspect. If that is the case, then the old way of adding boot install information to a separate file that was outside the registry seems a much more sensible way. Making the registry such a single point of failure is just asking for trouble, and with MS so reluctant to give you disks any more, fixing the problem can be extremely awkward.

<p>Thankfully this was a works laptop, so we were able to write a new base install image to the hard drive and have me start again, but had it not been, my response would have been to just install Debian or Ubuntu on it. It's what I ended up doing with my Win98 box a few years ago, when a similar situation happened. 

<p>On a sort of plus note, it has meant I've refreshed my installs, mostly with newer versions. However, older versions of Apache and MySQL did prove a bit tricky to find, as the versions I have been using are no longer supported. Initially I was going to go with the latest versions, but the server that the code ultimately ends up on has these older versions, and it just makes life easier for the moment. I'm looking to upgrade both at some point, but not when I have plenty of other things to keep me busy.

<p>I also installed the latest ActiveState version of Perl, which as <a href="http://use.perl.org/comments.pl?sid=34587&cid=53284">pointed out to me</a> includes the latest PPM (v4), which uses a very nice GUI. On first usage of the GUI, it was exactly the kind of thing I'd been looking for. It's very Synaptic like, allowing you to select distributions, checking for dependencies and adding those to the list, warning of when an install might downgrade your install, and then allowing you to install in one go.

<p>However, although my first impressions were good, and overall I like what they've done, I have found a few weaknesses. 

<ol>
<li><strong>Lack of dependency checking</strong>

<p>If you select a module, it will add any dependencies not already installed to the list. However, it doesn't check whether those dependent distributions have their dependencies installed. Trying to install one module cause Compress-Zlib to be added to the list, but failed to add IO-Compress-Zlib!

<li><strong>Only lists PPD packages</strong>

<p>While I wasn't too surprised by this, it would have been nice to allow you to have some kind access to the source (on CPAN) and compile it on your machine, but perhaps that's something that they might be thinking for a future version. This would definitely give better support for distributions that require 3rd party libraries that ActiveState don't have on their build boxes.

<li><strong>All or Nothing approach</strong>

<p>Several distributions I selected either required dependencies that had newer installed versions or they themselves had newer versions installed. This again isn't too surprising as the PPD repositories I was using (I use 6 non-AS repositories too) don't always have the latest version. However, if the installed version of a dependency is newer than the one in the repository, why do I have to deselect the original distribution and install it by hand? Either confirm whether I wish to downgrade, or leave my installation as is.
</ol>

<p>As a first version I do think they've done extremely well. However, I hope some of the above can be improved for future versions. It would be interesting to see the code at some point, as I would be interested in contributing. It would also be nice to see the app be made available outside of ActiveState installs, so that it could potentially be ported to all the OSs that have a windowing system that could support the GUI, or even be translated into a curses version for a terminal based app.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

