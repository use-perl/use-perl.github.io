<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of barbie: More module writing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>More module writing</h1>
<h2><a href="/user/barbie/">barbie</a> on 2003-05-19T13:30:59</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Managed to write considerably more of the Calendar::List module over the weekend. Thanks to davorg's idea, it now looks to see whether a series of modules are installed before performing any date metriculation.
<P>
First in the list is <a href='http://search.cpan.org/author/DROLSKY/DateTime-0.12/lib/DateTime.pm'>DateTime</a>, which is looking to become a very nice module, although currently there isn't a working version available for Win32, so isn't very portable. Next up is <a href='http://search.cpan.org/author/RBOW/Date-ICal-1.72/lib/Date/ICal.pm'>Date::ICal</a>, which is very similar and I've been using it more and more over the last year. Then lastly there's the old diehard of <a href='http://search.cpan.org/author/JHI/perl-5.8.0/lib/Time/Local.pm'>Time::Local</a>, though that means we only have a limited date range. I did think about checking for <a href='http://search.cpan.org/author/SBECK/DateManip-5.40/Manip.pod'>Date::Manip</a>, but seeing as the others are faster I didn't bother.
Most of the need for these modules is centred around the need to represent dates in a standard format internally, which then get munged into appropriate formats.
<P>
Having discussed with Dave about some aspects of calendars, I thought it might be useful to have a Calendar::Functions module that contains a number of small bitesize routines that save you the time of writing them, should you need them. Seeing as Calendar::List had quite a few, I've already started to write it as a companion to Calendar::List.
<P>
Some of these sorts of routines are available in DateTime, Date::ICal, etc, but seeing as they might not be installed and the rest of the module copes without them, do you roll you own, or write a extra layer? I've gone with the latter (primarily because I need to write the Time::Local versions), but it does niggle me for two reasons. 1) It's extra code and 2) there are already far too many date/time routines already. My excuse is that it doesn't try to rewrite the other modules, but acts as an interface between the higher level functionality and the really cool date/time modules. So I suppose it's not so bad.
<P>
I'm hoping to get a first release prepared for the end of the week, so with a bit of luck it might hit CPAN before the end of the month.
<P>
I also had the thought that Params::Check/Params::Validate could do with a nice wrapper module for CGI params, as I will potentially have to do this anyway to pass my stuff through to whichever module I decide to use. Once I've got Calendar::List out the door, I'll be looking further into these.</p>


<hr/>



<h2>DateTime on Win32</h2>
<h3><a href="/user/autarch/">autarch</a> on 2003-05-19T17:02:51</h3>
DateTime also comes with a pure Perl implementation that works fine on Win32.



<blockquote>

<h2>Re:DateTime on Win32</h2>
<h3><a href="/user/barbie/">barbie</a> on 2003-05-20T08:11:01</h3>
On CPAN? The one I got didn't work. It fails to get past make. I have several additional PPM repositories and none of them have a Win32 version either.
<p>
Having done a google search, I noted that several other people have had similar problems, with no effect answer. Perhaps you ought to make a note of the Win32 situation with an appropriate link to a working version in the POD.</p>



<blockquote>

<h2>Re:DateTime on Win32</h2>
<h3><a href="/user/autarch/">autarch</a> on 2003-05-20T15:00:57</h3>
There's a problem compiling the module, but if you do "perl Makefile --pm" it'll skip trying to compile the XS code, and use the pure Perl version instead.  Hopefully the compilation problems will be worked out soon and it'll install normally on Win32 in the next version.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

