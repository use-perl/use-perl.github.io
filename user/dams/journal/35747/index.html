<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of dams: keychain</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>keychain</h1>
<h2><a href="/user/dams/">dams</a> on 2008-02-25T12:07:41</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>On our way back from FOSDEM, I had a quick discussion about ssh with Chris, and it motivated me to clean up all my ssh keys, passphrases, agents.</p>

<p>So now I use different keys for work and home, and ssh keychain on both.</p>

<p>Next move is to add my work identity to my home session to be able to connect directly to servers at work without having to go through my workstation at work. Without putting my home private id on my machine at work, nor copying my home public id on all servers at work. It should be possible I've heard :)</p>

<p>Anyway, here is briefly how I did it : <code>ssh-keygen</code> (dsa as main key). Then install keychain (see <a href="http://www.gentoo.org/proj/en/keychain">http://www.gentoo.org/proj/en/keychain</a> and configure it a bit. I added the following script in </code>/etc/profile.d/keychain.sh</code> (gentoo host), and I plan to use <a href="http://www.sshkeychain.org">http://www.sshkeychain.org</a> on my mac.</p>

<p><code>
#!/bin/bash<br>
# start keychain, with the private keys to be cached<br>
/usr/bin/keychain ~/.ssh/id_dsa<br>
# then load the generated files<br>
for i in ~/.keychain/*-sh*; do<br>
  echo "sourcing $i"<br>
  source $i<br>
done<br>
</code>
</p>

<p>I know, I know, everybody is supposed to know everything about ssh, but I'm happy to admit that I learnt 2 or 3 things while setting up everything properly. Besides, how many of you have no passphrase on your ssh key ? :)</p></p>


<hr/>



<h2>Re: keychain</h2>
<h3><a href="/user/mattk/">mattk</a> on 2008-02-26T02:54:15</h3>
You don't need SSHKeychain if you're running Leopard - it starts up ssh-agent on boot, exports SSH_AUTH_SOCK, and even integrates nicely with the system keychain.



<blockquote>

<h2>Re: keychain</h2>
<h3><a href="/user/dams/">dams</a> on 2008-03-16T13:04:16</h3>
Indeed, I discovered it just after posting this entry<nobr> <wbr></nobr>:) I like mac os X for these kind of good surprises from time to time... Anyway, thanks for the tip.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

