<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Arador: CPAN2</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>CPAN2</h1>
<h2><a href="/user/Arador/">Arador</a> on 2009-06-04T20:43:23</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Recently there has been a discussion about what the <i>New CPAN</i> of Perl6, called CPAN6 by some, is going to be like. I've heard a lot of good ideas from different people, but I'd like to take a slightly different approach. I'm all in for CPAN6, but let's have CPAN2 first.<br/><br/>I don't think it's helpful to reinvent all pieces at the same time. Let's keep the good pieces and get rid of the bad pieces. Module::Build and Module::Install got that right. ExtUtil::MakeMaker sucked ass, so people decide to make something better. We need more of that.<br/><br/>CPANPLUS.pm didn't get it right. It's a better implementation of a wrong idea. CPAN's handling of meta-data sucks. In particular, the way it doesn't deal with dependencies is problematic. We can easily come up with something better. The data exists, let's make it more accessible.<br/><br/>A perfect solution would require a major overhaul, but it could be fixed too by simply adding an extra tier to the CPAN ecosystem that deals with meta-data. I can think of better solutions than that for the future (where the meta-data is integrated into the whole stack), but to be honest I'm more interesting in a solution for NOW than a solution in the far future.</p>


<hr/>



<h2>Specific</h2>
<h3><a href="/user/grink/">grink</a> on 2009-06-05T01:33:46</h3>
<p>Can you be a little bit more specific about how you want CPAN2 to work?</p><p>This has been a sore point for me lately, I really think we need to do a better job of lowering the barrier of entry to access CPAN.</p><p>For example, if I do some searches for CPAN (on Google), it's difficult to find clear instructions on how to install stuff. The examples I've seen show something like this:</p><p>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; perl -MCPAN -e shell</p><p>BEFORE introducing</p><p>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cpan -i</p><p>I mean really, put the newbie into a strange environment? Not a great idea IMHO.</p><p><a href="http://sial.org/howto/perl/life-with-cpan/" title="sial.org">http://sial.org/howto/perl/life-with-cpan/</a sial.org> is really terrific, I mean, a wonderful resource. However, there's no clear synopsis on the top on how to install, say, Moose.</p><p>Installing a CPAN module should be as easy as doing</p><p>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; apt-get install (package)</p><p>Perl IS CPAN, and we need to make it more accessible to the newish developer.</p>



<blockquote>

<h2>Re:Specific</h2>
<h3><a href="/user/Alias/">Alias</a> on 2009-06-05T02:50:00</h3>
<p>&gt; Installing a CPAN module should be as easy as doing<br>&gt;<br>&gt;    apt-get install (package)</p><p>It already is...</p><p>
&nbsp; &nbsp; &nbsp; &nbsp; cpan install (package)</p>



<blockquote>

<h2>Re:Specific</h2>
<h3><a href="/user/grink/">grink</a> on 2009-06-05T03:06:49</h3>
<p><a href="http://rt.cpan.org/Public/Bug/Display.html?id=46045" title="cpan.org">http://rt.cpan.org/Public/Bug/Display.html?id=46045</a cpan.org></p><p>Yes, it has the command-line sugar, but it also needs to be able to complete successfully (I realize this can be problematic with out-of-date installations)</p><p>Finally, we need to blat "cpan -i (package)" over the web so people can easily find out how to do it. Maybe even include some pointers to local::lib</p>



<h2>Re:Specific</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2009-06-07T02:43:32</h3>
<p>Was that sarcasm?</p>



<h2>Re:Specific</h2>
<h3><a href="/user/grink/">grink</a> on 2009-06-08T18:09:01</h3>
<p>Just FYI, cpan doesn't seem to like 'install' from the command line:</p><p>cpan install Catalyst::Engine::FastCGI</p><p>It looks like you specified 'install' as an argument to cpan(1). This<br>script is not the CPAN.pm prompt and doesn't understand the same commands.<br>In fact, doesn't require the extra typing. You probably just want to<br>list the modules you want to install:</p><p>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cpan Catalyst::Engine::FastCGI</p><p>See the documentation for more details on using this script.</p>



<blockquote>

<h2>Re:Specific</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2009-06-08T20:02:14</h3>
<p>What you really want is <code>cpan -i Some::Module</code>.</p>





</blockquote>

</blockquote>

</blockquote>


<h2>We're already working on this</h2>
<h3><a href="/user/Alias/">Alias</a> on 2009-06-05T03:02:22</h3>
<p>It may not be entirely obvious, but this is exactly what has been happening over the last few years.</p><p>Various bits of the current CPAN model are already being systematically replaced.</p><p>META.yml is being replaced with a <a href="http://search.cpan.org/perldoc?JSON" title="cpan.org">JSON</a cpan.org>-format META.json.</p><p>configure_requires (2 years in the making, now in the Perl core, appearing in 5.10.1) has allowed us to upgrade Makefile.PL and Build.PL related modules sanely and do more thorough configure-time testing (and will finally remove the need for some of Module::Install's more evil ways of doing things).</p><p>The upcoming "MYMETA.json" file removes the problem of Makefile.PL/Build.PL communicating dependencies to CPAN.pm and any other processing that build packages (experimental support now in Module::Install, but coming to everything else eventually)</p><p>The 07mirror.json file and <a href="http://search.cpan.org/user/adamk/Mirror-URI-0.90/lib/Mirror/JSON.pm" title="cpan.org">Mirror::JSON</a cpan.org> will fix the problem of finding a CPAN mirror by providing a fully automated mechanism for mirror discovery and selection, with detection of stale mirrors and the ability to tolerate currently being on a mirror that goes stale.</p><p>And <a href="http://search.cpan.org/perldoc?CPANDB" title="cpan.org">CPANDB</a cpan.org> gives us a glimpse of what a new next-generation SQLite index would look like, that you can download and use immediately (without having to parse and process three separate index files).</p><p>It's not that we aren't doing anything.</p><p>It's just that after the Module::Build debacle, we've learned not to noisily promote new CPAN improvements until they are <b>fully</b> completed and safe for universal use.</p>



<blockquote>

<h2>Is any of this documented?</h2>
<h3><a href="/user/xsawyerx/">xsawyerx</a> on 2009-06-08T10:06:27</h3>
<p>I've read many of these discussions (about meta.json, special configuration options, repository options, etc.) and it really is exciting, I just couldn't find much documentation for it, other than journals such as yours and rjbs.</p><p>Is there anywhere I could read about this more?</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

