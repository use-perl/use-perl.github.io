<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of richardc: blue leds</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>blue leds</h1>
<h2><a href="/user/richardc/">richardc</a> on 2001-12-03T18:29:35</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>After about a month of having to use an external USB keyboard with jay 
the excellent folks from <a 
href="http://www.macimports.com/home.html">macimports.com</a> shipped 
me a replacement in what feels like record breaking time (ordered on 
Friday, arrived on my desk on the other side of the atlantic at about 
2pm Monday) 
<p> 
It's lovely, it's got the control key in the right place, and blue leds!  It also means I can get back to hacking in random places, rather than being constrained to a desk. 
<p> 
Right, Perl.  Since last london.pm technical meeting I've been constructing my perfect parameter passing idiom in my mind.  Now there are quite a few modules for parameter parsing on CPAN, a quick search 
shows up <a 
href="http://search.cpan.org/search?dist=Class-ParamParser">Class::ParamParser</a> 
and <a 
href="http://search.cpan.org/search?dist=Params-Validate">Params::Validate</a>, 
but their focus is mainly on validation than the mechanics of passing 
values. 
<p> 
What I want to be able to do is make this work: 
<p>
<tt>
package Class;<br> 
use Attribute::Parameters;<br> 
<br>
sub foo {<br> 
&nbsp;&nbsp;&nbsp;&nbsp;    my $self : Parameter;<br> 
&nbsp;&nbsp;&nbsp;&nbsp;     my $foo  : Parameter 'rw';<br>
 &nbsp;&nbsp;&nbsp;&nbsp;   my @bar  : Parameter 'optional';<br> 
<br> 
 &nbsp;&nbsp;&nbsp;&nbsp;   $foo++;<br> 
}<br> 
<br>  
my $val = 1;<br> 
Class->foo($val);<br> 
print $val; # prints 2<br> 
Class->foo(foo => $val);<br> 
print $val; # prints 3<br> 
</tt>
<p>
Which lands me well and truly in the realms of attributes.  Slight 
catch, currently attributes are dealt with in the CHECK phase, which 
means the lexicals in the sub can only be monkeyed with once per run. 
<p> 
Luckily[0] Damian has thought of that, and <a 
href="http://search.cpan.org/search?dist=Attribute-Handlers-Prospective">Attribute::Handlers::Prospective</a> 
should be able to give me access to the RUN phase by trickery[1] 
before the perl core can do properly but when I last tried it 
(admittedly at 4am) it didn't want be behave itself. 
<p> 
Given tuits I shall bend <a 
href="http://unixbeard.net/user/richardc/lab/Attribute-Parameter/">this</a> 
to my will though, and then it'll be just like ada, all over again. 
<p> 
[0] or maybe not, cause otherwise I could have just thrown the towel 
in. 
<br> 
[1] of the hugely complex sourcefilter variety - shudder</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

