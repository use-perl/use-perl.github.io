<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of james: More Pixie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>More Pixie</h1>
<h2><a href="/user/james/">james</a> on 2002-03-13T21:19:29</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>As <a href="/user/pdcawley/journal/">pdcawley</a> mentions, we are both working on Pixie.  And, as he says, we have different needs.  An example of this is that we only need hashes to enter the database, which is cool, because it means in the short term I've punted on anything but.<br/><br/>Piers has been working on other types and that is handy too.  The benefits of open source I guess.<br/><br/>As far as piers' talk of only returning $self,  I've been trying to do that all afternoon while I write the networking layer of OODB, and it does work really well. Certainly once you get used to the fact that <i>this is how it works</i> it feels slow to go back to anything else.<br/><br/>One of the hard things about writing pixie's network layer is where the data is kept.    As it stands in the <a href="http://www.fotango.com">fotango</a> branch I've punted on worrying about writing the data to disk for now,  and are just focussing on getting the various bits and pieces to talk to each other.   Which means that data is in memory.  This is really hard to deal with.  At the moment the code forks-on-demand when a query request comes in.  On an insert it handles it all in process.  This is so that all the information is available to all the processes whenever it comes time to query.  Its not the most efficient method, but for purposes of bootstrapping it works quite well.<br/><br/>If anyone has any idea how to write a preforking network server without reading and writing to disk every time it would be very nice to know.<br/><br/>This is, of course, where the stevens networking book would come in very handy, as his Advanced Unix Programming book , while very good indeed, doesn't really cover network servers well enough for my purposes here.<br/><br/><i>A trip to the PC Bookshop would useful, methinks</i> 
</p>


<hr/>



<h2>Writing to Disk</h2>
<h3><a href="/user/2shortplanks/">2shortplanks</a> on 2002-03-14T00:51:35</h3>
What's the problem with writing to the filesystem?
<p>
The filesystem != the disk.  If you're quick (for certain values of quick) you can write to the filesystem from one process, read it in from another, and delete the data before the computer decides it needs to flush that data out to a physical device.
</p><p>
This kind of stuff really is up to the OS.  I wouldn't worry about it so much.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

