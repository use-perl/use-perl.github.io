<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Qiang: module install</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>module install</h1>
<h2><a href="/user/Qiang/">Qiang</a> on 2007-04-02T16:39:53</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>applications we wrote run on Solaris exclusively. all the modules and plugins are installed out of solaris packages. i.e we have to wait for the unix team build and install it for us first. aparently they are busy as hell and the difficulities of installing Perl modules usually make things worst. thus a request may take weeks to finish.<br/><br/>for the pure Perl module, this is not much issue. we just drop it to our common lib directory.<br/><br/>today i need Text::CSV_XS to parse lots of CSV files. but alas.. it is XS. <br/><br/>i am glad that Perl usage at my workplace is going up. but this just slows thing down. another example, the mod_perl request's been in the queue for two weeks ..  :-(  </p>


<hr/>



<h2>Build your own</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2007-04-02T17:52:27</h3>
<p>Can you get a dedicated perl user that owns<nobr> <wbr></nobr>/usr/local/perl and <a href="http://use.perl.org/user/jdavidb/journal/6477" title="perl.org">install your own instance there</a perl.org>, where you can manage the modules yourself?  Can you install your own instance as your own development user somewhere in<nobr> <wbr></nobr>/home or something?</p>

<p>Not having access to Text::CSV_XS is ridiculous.  Having to wait two weeks for it is ridiculous.  Not being able to put it in a development area yourself to work with would be beyond ridiculous, but hopefully you can at least install the module somewhere you have write access to and set the PERL5LIB environment variable until your admins catch up with reality.</p>

<p>Developers ought to have complete control over the development platform.  This is the reason.  If administrators are required to "protect" something, then that something should be production, and your organization would be well-served by formalizing the boundaries between development and production, and letting the developers have control over the development server/instance.</p>



<blockquote>

<h2>Re:Build your own</h2>
<h3><a href="/user/jhorwitz/">jhorwitz</a> on 2007-04-02T19:35:59</h3>
<p><blockquote><div>Developers ought to have complete control over the development platform. This is the reason. If administrators are required to "protect" something, then that something should be production, and your organization would be well-served by formalizing the boundaries between development and production, and letting the developers have control over the development server/instance.</div></blockquote>
<p>
I both agree and disagree with you here.  Most developers do not know how to properly administer a server or even their own workstation.  I don't care if they use Linux at home.  Professional sysadmins have the experience in this department, and it's their job to maintain the infrastructure.  And yes, having been a sysadmin for almost 12 years, I'm biased.<nobr> <wbr></nobr>:)
</p><p>
In my experience, it's critical that developers have a consistent environment to work with.  As an example, an improperly configured development server could very easily cause software to behave differently than on a properly maintained staging or production platform, or even other development boxes.  Who's to blame when the software fails in production?  And what happens if the security is compromised on the development server?  You should at least have some minimal controls in place.
</p><p>
Now, that said, I agree with you that developers should be in control of <em>their own application stack</em> on the development servers.  I agree that it is completely unacceptable that anyone has to wait two weeks for a Perl module, and that developers should have their own installations to work with.  But the underlying operating system, no.  Unless they're kernel developers, of course.<nobr> <wbr></nobr>;-)</p>



<blockquote>

<h2>Re:Build your own</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2007-04-02T23:56:04</h3>
<p>I'll also both agree and disagree with you.<nobr> <wbr></nobr>:)  Developers should have the support of admins who do maintain the OS, etc.  There should be some standard configuration the admins can restore, and the developers ought to be able to request needed changes (for some apps that might be the OS level, for others it might be as simple as a Perl module or even a config file) and receive those in a timely manner, and all of it ought to be well-controlled and not put into production until it is well-documented and reproducible.  Some of the particulars as to who makes the change don't matter as much as long as it is both <i>timely</i> and <i>well-controlled</i>, and some of the particulars as to what should be under admin purview and what should be under developer purview will vary from situation to situation.</p>





</blockquote>


<h2>Re:Build your own</h2>
<h3><a href="/user/Qiang/">Qiang</a> on 2007-04-02T19:56:12</h3>
on the development server, i can install modules to my home directory and use it from there. however, i need to make sure that the module that i am using under dev environment will be available to me on production.<p>

in the linked journal, you are using CPAN for moudle installation. do you do that in production environment? if not, do you build pkg for each module for every version of Perl? do you reuse some of the Perl modules built against older Perl?
</p><p>
also, you mention the update of symbolic links from<nobr> <wbr></nobr><code>/usr/local/bin/</code> to<nobr> <wbr></nobr><code>/usr/local/perl??/bin/</code>. such as <code>perldoc</code>, <code>splain</code>. my question is why aren't those links in<nobr> <wbr></nobr><code>/usr/local/perl???/bin/</code> ? how do you cope with those links if you have more than two Perl installed?

I will do some more research on this and hopefully have a better solution for our enviroment.</p>



<blockquote>

<h2>Re:Build your own</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2007-04-03T00:06:35</h3>
<p><div class="quote">in the linked journal, you are using CPAN for moudle installation. do you do that in production environment? if not, do you build pkg for each module for every version of Perl? do you reuse some of the Perl modules built against older Perl? </div>  <p>Sadly, when it comes to Perl, the lines between development and production are badly blurred in my organization.  Happily, it tends to affect only me.<nobr> <wbr></nobr>:)</p>

<p>I have gone the route of building Solaris packages for Perl modules.  I would never do this again, if I could help it.  I believe the ideal situation would be a production installation of Perl managed by CPAN shell and never touched to add or upgrade a module until all code had run regression tests against a development instance that had been so updated first, to test.  Then, simultaneously, a development instance where modules are updated all the time, as long as they pass their own tests, to smoke out potential problems as soon as possible in development.  (With more developers, you probably wouldn't want the dev instance to be so "bleeding edge," but more intermediate between the two extremes.)  One approach to production might be to build your own local CPAN repository that contains only tested and approved versions of modules and then have the production server(s) update from that repository only.  Another approach might be to distribute a single custom Perl package (doing<nobr> <wbr></nobr>/usr/local/perl/5.8.8 makes it easy/easier) as a tar.gz or as an OS package; you release a new update to the package when you need new modules added or a newer version.  I'd rather do that than separate OS packages for each module.  If there's only one OS package to deal with, then your environment is far more predictable.<nobr> <wbr></nobr>:)</p> <p><div class="quote">also, you mention the update of symbolic links from<nobr> <wbr></nobr>/usr/local/bin/ to<nobr> <wbr></nobr>/usr/local/perl??/bin/. such as perldoc, splain. my question is why aren't those links in<nobr> <wbr></nobr>/usr/local/perl???/bin/ ?</div>  <p>I should mention that now instead of<nobr> <wbr></nobr>/usr/local/perl588 I recommend an installation location of<nobr> <wbr></nobr>/usr/local/perl/5.8.8 .  This puts all (or most) installations of perl under a common directory which can be much handier (and keeps<nobr> <wbr></nobr>/usr/local cleaner).</p>

<p>Under my recommendations,<nobr> <wbr></nobr>/usr/local/bin will contain symbolic links to links to the real version of each utility in<nobr> <wbr></nobr>/usr/local/perl/x.x.x/bin.  I'm not sure I understand your question as those links cannot be in the other location because the real versions of the utilities are there. ???  Under this layout, developers tie their programs directly to something like #!/usr/local/bin/perl5.8.8 on the first line of the program; then, when new versions of perl are installed, each program can continued to be tied to the old version until tested against the new, at which time the #! line can be changed to #!/usr/local/bin/perl5.8.9 .  The two perls will be completely independent; each will have its own independent set of modules, etc.  Nothing will break for 5.8.8 programs while you experiment with 5.8.9 when it comes out.</p>

<p>Another approach would be to forget the links in<nobr> <wbr></nobr>/usr/local/bin entirely and just change your PATH to include<nobr> <wbr></nobr>/usr/local/perl/x.x.x/bin and set the top line of your programs to be #!/usr/local/perl/x.x.x/bin/perlx.x.x<nobr> <wbr></nobr>.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

