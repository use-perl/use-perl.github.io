<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Facts versus Reputation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Facts versus Reputation</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2009-02-16T20:42:36</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><blockquote><em>What language community has a greater reputation for being obsessed with TDD?</em></blockquote>

<p>&mdash; <a href="http://gilesbowkett.blogspot.com/2009/02/obie-no.html">Obie: NO</a>, <a href="http://gilesbowkett.blogspot.com/">Giles Bowkett</a> (discussing Ruby)</p>

<p>Perl has had a canonical test suite in the core repository and shipped those tests with every source distribution since 1987.  As of at least Ruby 1.8.7 (May 2008), this was not true of Ruby.</p>

<p>The third edition of Programming Perl, released in 2000, had a short (less than a page) discussion of Perl's testing modules and the CPAN testing system.  The first edition of Programming Ruby, released in 2001, has no mention of testing that I can find.</p>

<p><a href="http://search.cpan.org/perldoc?Test::Builder">Test::Builder</a>, written in 2002, allows the existence of hundreds of Perl testing modules which can all work together in the same program to improve testing and the reusability, abstraction, and clarity of test programs.  To my knowledge, Ruby has nothing like this.</p>

<p>The <a href="http://testers.cpan.org/">CPAN Testers</a> project is nearly 11 years old (May 1998).  Every distribution uploaded to the CPAN receives test reports for myriad combinations of operating system and version.  The Perl CPAN culture encourages a testing culture, and has done so since before anyone in the US had even <em>heard</em> of Ruby.  (Ruby has nothing quite like the CPAN.)</p>

<p>The Perl 6 specification includes a comprehensive test suite; every implementation of Perl 6 must pass this test suite to earn the label of "A conforming Perl 6 implementation".  While the Rubinius project has done great work trying to create something similar for Ruby -- and while projects such as JRuby and IronRuby use this suite -- I'm not aware that the MRI developers have the same degree of interest in a comprehensive test suite.</p>

<p>This, then, is one of my persistent gripes with certain vocal members of the Ruby community.  While it may be <em>technically</em> correct (the best kind of correct) that the Ruby community has the greatest reputation for testing of any other language community, the facts as I see them seem to contradict such a strong assertion.</p></p>


<hr/>



<h2>Red Apples vs Green Apples</h2>
<h3><a href="/user/djberg96/">djberg96</a> on 2009-02-16T22:27:50</h3>
Hey, never let facts get in the way of a little hyperbole.<nobr> <wbr></nobr>;)<blockquote><div><p>Perl has had a canonical test suite in the core repository and shipped those tests with every source distribution since 1987. As of at least Ruby 1.8.7 (May 2008), this was not true of Ruby.</p></div></blockquote><p>
I wouldn't equate a core development team with that language's <b>community</b>. The Perl core team certainly was and is fanatical about testing, but the community? I think they caught up much later. In the case of Ruby we have the opposite situation - the community is good about testing, but the core team is not.
</p><p>
IMHO most language communities these days are pretty good about testing. At least I hope they are.
</p><blockquote><div><p>Test::Builder, written in 2002, allows the existence of hundreds of Perl testing modules which can all work together in the same program to improve testing and the reusability, abstraction, and clarity of test programs. To my knowledge, Ruby has nothing like this.</p></div>
</blockquote><p>
We've got Test::Unit (please use 2.x) and RSpec, with variations for each, and those seem to be enough. Adding features is usually a simple matter of subclassing (with Test::Unit anyway - I don't use RSpec). You'll have to be more specific about what you think we're missing.</p>



<blockquote>

<h2>Re:Red Apples vs Green Apples</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2009-02-17T00:12:07</h3>
<blockquote><div><p> <em>The Perl core team certainly was and is fanatical about testing, but the community? I think they caught up much later.</em></p></div> </blockquote><p>In 2000, CPAN authors had the expectation to write tests.  The CPAN client <em>ran</em> those tests when installing modules.</p><p>It's 2009.  Does Ruby gems run tests yet?</p><blockquote><div><p> <em>Adding features is usually a simple matter of subclassing (with Test::Unit anyway - I don't use RSpec).</em></p></div> </blockquote><p>You don't even have to do this with Perl.  Someone writes a new test module, once, uploads it to the CPAN, and then everyone can use it <em>without subclassing</em> or trying to get multiple subclasses to work together nicely.</p><p>I haven't used RSpec, but the last time I tried to do anything useful with Test::Unit (2006), I very nearly ported Perl's Test::Builder and Test::More to Ruby so I wouldn't have to feel like a caveman trying to build a skyscraper out of bear skins and flint knives.</p><blockquote><div><p> <em>You'll have to be more specific about what you think we're missing.</em></p></div> </blockquote><p>A sense of proportion, a sober understanding of the rest of the world of programming, and a solid grasp of history would do nicely.</p>



<blockquote>

<h2>Re:Red Apples vs Green Apples</h2>
<h3><a href="/user/djberg96/">djberg96</a> on 2009-02-17T00:44:22</h3>
<blockquote><div><p> <i>In 2000, CPAN authors had the expectation to write tests. The CPAN client ran those tests when installing modules.</i></p></div> </blockquote><p>
Yeah, but I don't know when a real jump was made from running that stock one-test default test file that h2xs generated to people being really good about writing tests. That's hard to know for sure, but I would put it somewhere around 2002. But still, yeah, pretty good.
</p><blockquote><div><p> <i>You don't even have to do this with Perl. Someone writes a new test module, once, uploads it to the CPAN, and then everyone can use it without subclassing or trying to get multiple subclasses to work together nicely.</i></p></div>
</blockquote><p>
Actually, I misspoke. With open classes you don't need to subclass, so just require'ing the library is good enough. That's what the context, matchy and stump libraries all do as far as I know.
</p><blockquote><div><p>It's 2009. Does Ruby gems run tests yet?</p></div>
</blockquote><p>
It's always been possible to my knowledge, it just doesn't run them by default. I think the decision to not run them by default is, in part, because of the weakness of Test::Unit 1.x.</p>



<blockquote>

<h2>Re:Red Apples vs Green Apples</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2009-02-17T00:56:22</h3>
<blockquote><div><p> <em>That's hard to know for sure, but I would put it somewhere around 2002.</em></p></div> </blockquote><p>It started in late 2001, but you're probably right that it only became popular and inevitable in 2002.  I spent a lot of time in late 2001 avoiding finishing a book and writing tests for the Perl 5 core instead.</p><blockquote><div><p> <em>I think the decision to not run them by default is, in part, because of the weakness of Test::Unit 1.x.</em></p></div> </blockquote><p>That's what I don't get about the "Rah rah, TDD whee!" cheerleading from some parts of the Ruby community.  You might as well not write tests if you're not going to run them.</p>



<blockquote>

<h2>Re:Red Apples vs Green Apples</h2>
<h3><a href="/user/Arador/">Arador</a> on 2009-02-17T01:30:46</h3>
<p> <i>That's what I don't get about the "Rah rah, TDD whee!" cheerleading from some parts of the Ruby community. You might as well not write tests if you're not going to run them.</i> </p><p>Yeah, that makes no sense to me either.</p>





</blockquote>

</blockquote>

</blockquote>


<h2>Re:Red Apples vs Green Apples</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2009-02-17T01:51:45</h3>
<blockquote><div><p>IMHO most language communities these days are pretty good about testing.</p></div> </blockquote><p>How good? <a href="http://stats.cpantesters.org/mreports.html" title="cpantesters.org">200,000 fully automated test reports per month</a cpantesters.org> good?</p>





</blockquote>


<h2>I'm not even sure the &quot;reputation&quot; part is true...</h2>
<h3><a href="/user/Mutant321/">Mutant321</a> on 2009-02-17T15:42:04</h3>
<p>Perl's name is mud to most people outside the community (or so it seems), but in my experience, the Java community has a very strong reputation for TDD. It's probably partly because Java is still the defacto language for a lot of new development, and a lot of new stuff tends to focus on modern practices.</p><p>But I do think the testing movement in Perl pre-dates even Java's. One reason why Perl doesn't use xUnit - it wasn't invented when the original test modules were written.</p><p>We all have biases towards our language of choice, mainly because we have more contact with that community than any other. It's usually a good idea to at least be aware of that bias.</p>



<h2>TDD != testing</h2>
<h3><a href="/user/Adrian/">Adrian</a> on 2009-02-17T16:00:16</h3>
<p>I love Perl. I love testing<nobr> <wbr></nobr>:-)</p><p>That said... while I see a lot of focus on *testing* in Perl. I've not encountered *that* much focus on TDD. They are - as you know - completely different things.</p><p>Now I've not spent huge amount of time with Ruby teams / code bases / community - so I can't say whether they're better or worse. But evidence of testing != evidence of TDD.</p>



<blockquote>

<h2>Re:TDD != testing</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2009-02-17T18:03:13</h3>
<p>TDD is all well and good, but if you don't run your tests, you've wasted your time writing them.</p><p>Say what you like about the Perl community, the language, our testing libraries, our culture, or whatever -- but we run our tests.</p>



<blockquote>

<h2>Re:TDD != testing</h2>
<h3><a href="/user/Adrian/">Adrian</a> on 2009-02-18T07:57:34</h3>
<blockquote><div><p> <em>TDD is all well and good, but if you don't run your tests, you've wasted your time writing them.</em></p></div> </blockquote><p>No I haven't. I still get the "D" from TDD. I get that even if a third party never runs my tests again.</p><p>I'm not saying running tests is useless. They're not. I'm not saying that the Perl/CPAN testing infrastructure isn't grand. It's fantastic - the best in any language that I've used.</p><p>I'm just saying that it has nothing to do with whether Perl folk do TDD. Because it doesn't. And that was the quote you seemed to be responding to. And because folk misunderstanding and misinterpreting what TDD is often causes me a major PITA for me - I niggle<nobr> <wbr></nobr>:-)</p><p>Whether the Ruby community is more obsessed with TDD than the Perl one - who knows... </p><p>(As an aside, and in my experience, the Perl/CPAN infrastructure supports testing really well doesn't seem to have any relation to whether teams writing Perl code in the wild do good testing - TDD or not. That, like most development issues, is down to good people. No matter what language they use.)</p>



<blockquote>

<h2>Re:TDD != testing</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2009-02-18T08:40:08</h3>
<blockquote><div><p> <em>As an aside, and in my experience, the Perl/CPAN infrastructure supports testing really well doesn't seem to have any relation to whether teams writing Perl code in the wild do good testing - TDD or not.</em></p></div> </blockquote><p>Agreed, but we can measure that neither for Perl nor Ruby.</p><p>Along those lines, I'm sure you have the same experience that I do, that many (if not most) people who claim to do TDD really don't, not in any pervasive fashion.</p><p>Perhaps I've overspoken here, especially claiming that TDD without running the tests is useless, but Giles implied that Ruby's superior obsession with TDD has some connection to quality.  From what I can measure, I don't believe that Ruby's quality or testing practices are so superior to those of other languages.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

