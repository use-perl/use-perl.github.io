<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Double-Speed</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Double-Speed</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2008-05-17T05:33:52</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Today's Parrot speedups add up to almost 50%.  That's right -- a little rethinking nearly doubled the benchmark speed.</p>

<p>Patrick said he'd work on this a little bit, but I ran a couple of quick tests.  The NQP grammar included with Parrot 0.5.2 builds in 5.575 wallclock seconds with today's new Parrot.  It built in 12.956 seconds with Parrot 0.5.2.  Today's version of the grammar failed to build with Parrot 0.5.2 after 20.636 seconds.  It builds with today's Parrot in 16.322 seconds.</p>

<p>Those numbers aren't scientific (despite all those decimal points of precision), but they're roughly correct.  I trust Callgrind's accuracy more for comparison.  Parrot 0.5.2 spent 21,285,518,488 cycles building its grammar.  New Parrot spent 9,189,968,377 cycles building the grammar for 0.5.2.</p>

<p>The grammar as of r27568 is 2332 lines long; it was 806 lines long in Parrot 0.5.2.  It costs 24,377,028,231 cycles to build in today's Parrot.  Doubling the speed in six months is good.  Doubling the speed while adding so many new features is even better.  Also keep in mind that most of the optimizations were in the core of Parrot, not in NQP or PIR.  We don't yet have a good way to profile PIR, so we've performed very few optimizations at that level.  There are likely several decent improvements lying in wait.</p>

<p>If there's sufficient interest, I'll explain today's two optimizations in a future post.</p></p>


<hr/>



<h2>Very interesting, keep it coming.</h2>
<h3><a href="/user/tlbdk/">tlbdk</a> on 2008-05-17T07:30:20</h3>
I'm always up for some more information on parrot development.



<h2>yes</h2>
<h3><a href="/user/rjbs/">rjbs</a> on 2008-05-17T11:30:54</h3>
Tell me more.



<h2>yes</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2008-05-17T17:54:55</h3>
<p>Tell me more.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

