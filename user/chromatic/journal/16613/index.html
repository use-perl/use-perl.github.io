<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Why I am Not A (Good) C Programmer, part 2</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Why I am Not A (Good) C Programmer, part 2</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2004-01-04T01:28:14</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p><em>with apologies to Bertrand Russell</em></p>

<p>What confuses me about a 35 year old programming language today?  Include paths.  Specifically, why does the order in which I specify paths to headers matter, since the header only exists in <em>one</em> of those paths?  Why does the GCC preprocessor fail if it can't locate one header in the <em>first</em> path specified, without continuing to look in the <em>other</em> paths I so helpfully provided?</p>

<p>Yep, shuffling my <tt>-I</tt> declarations around on the compile line made it work.  I discovered this after comparing the output from the <tt>Makefile</tt> from that of <a href="http://search.cpan.org/perldoc?Module::Build">Module::Build</a> (and you probably <strong>don't</strong> want to know what kind of evilness I do there to give different options to different XS files; but it's Perl and I know how to make that work).</p></p>


<hr/>



<h2>Your Fault</h2>
<h3><a href="/user/Robrt/">Robrt</a> on 2004-01-04T02:13:30</h3>
The symptoms you describe are a sign of something else being wrong.



<h2>Include Paths</h2>
<h3><a href="/user/ziggy/">ziggy</a> on 2004-01-04T04:22:53</h3>
If shuffling include paths makes something magically work, it sounds like the same filename exists in two paths.  With your include paths misconfigured, you'll pull in the wrong one first, and find that the definitions you expect to find simply aren't defined, causing gcc to fail.
<p>
Try <tt>locate <i>foo.h</i> </tt> to track down where the unfortunately named include file appears.</p>



<blockquote>

<h2>Re:Include Paths</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2004-01-04T23:50:08</h3>
<p>Yeah, that's what I thought at first too.  However, the header's only in one place, exactly where it's supposed to be.  The only thing close to a duplicate header is a<nobr> <wbr></nobr><tt>.ph</tt> file, which appears to have come from <tt>h2ph</tt> -- but it's Perl, not C, and I'm reasonably confident gcc does absolutely nothing with it.</p>



<blockquote>

<h2>Re:Include Paths</h2>
<h3><a href="/user/gnat/">gnat</a> on 2004-01-05T05:08:46</h3>
I wonder whether precompiled headers are involved?<p>

<i>--Nat</i></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

