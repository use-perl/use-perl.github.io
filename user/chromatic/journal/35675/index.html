<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Implementing an Internal DSL in Ruby (simplified version)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Implementing an Internal DSL in Ruby (simplified version)</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2008-02-16T21:42:08</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>If you're like me, your attention span on a three-day weekend is too short to wade through all of <a href="http://blog.jayfields.com/2008/02/implementing-internal-dsl-in-ruby.html">Implementing an Internal DSL in Ruby</a>.  I've decided to be helpful to all of the confused people in the world who just don't see the special magic that goes in to writing an internal DSL.  Here's the condensed version which helpfully fits on an index card.  (That way, you can palm it at the next Rails meetup if you need a cheat sheet.)</p>

<ol>

<li>Create a class.</li>
<li>Declare class methods in that class.  These methods should take blocks as their only arguments.  These methods should execute those blocks.</li>
<li>Use the class in your programs.</li>

</ol>

<p>If this doesn't sound very spectacular, you're absolutely right.  I thought it important to take a break before the final, magical step which turns bog-standard rote programming into unicorn-and-glitter wonderful tooth-whitening DSL creation.</p>

<ul start="4">
<li>Pat yourself on the back vigorously, repeatedly, and noisily in full public view of everyone who might ever have a passing interest in computers, even if that interest is solely in the game Minesweeper.</li>
</ul>

<p>Congratulations!  Unlike the poor slobs who merely declare classes and methods, give them meaningful names, and occasionally pass around first-class functions, YU WRITED AN DSL!!  GRATE JOBZES!!!</p></p>


<hr/>



<h2>Crikey</h2>
<h3><a href="/user/pdcawley/">pdcawley</a> on 2008-02-17T08:49:40</h3>
i only skimmed that one first time past thinking "Well, it's a wee bit content light", but on second reading...<br><br>That took him <em>months?</em><br><br>Frankly, I don't start to think it might be a pidgin until the code in those blocks starts looking pretty damned unrubylike. Class methods are for introducing the weird scope you need to make your declarative style pidgin work. Perl libraries like Jifty::DBI::Schema do something similar, they just have a different toolchain and 'feel' to them because Perl's prototyping pushes the style in that direction.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

