<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Minutes for 09 May 2007</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 09 May 2007</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2007-05-10T21:06:28</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 09 May 2007.  Larry, Nicholas, Jesse, and chromatic attended.  These are the minutes.</p>

<p><strong>Allison:</strong></p>

<ul>
<li>have reduced my workload and am taking some time off</li>
<li>working on C patches to Parrot this week</li>
<li>spent some time on a big set of bugs on a little-used set of code paths</li>
<li>working on the PMC PDD; will check that in today</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>thinking a lot about a few things</li>
<li>mostly to do with deep semantics of overloading</li>
<li>when you generate</li>
<li>how to specifiy that so as not to get infinite regress</li>
<li>ties into the notion of having a prelude which defines everything in terms of everything else</li>
<li>you need to break that circularity somehow</li>
<li>but you don't want incompatibility between different platforms which break that in different ways</li>
<li>also thinking about how ugly the chunky list syntax is</li>
<li>if you use something in a <code>for</code> loop, it does the right thing if you use a regular <code>for</code> loop but the wrong thing with a modifier</li>
<li>with one argument, you can't get a useful cross product out of it</li>
<li>something's a little screwy on the defaults there</li>
<li>maybe the default ought to be chunky and not flattened</li>
<li>or maybe the evil is deeper than that</li>
<li>the usual working with people to keep them moving along</li>
<li>also thinking ahead to what I'll say at the various conferences</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>fixing a few bugs in Parrot</li>
<li>hope to implement more of PDD 15 before the release</li>
<li>looking for a few more testers, especially for some weird FreeBSD bugs</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>Gerard Goosen is still playing around with MAD</li>
<li>he has a few questions</li>
<li>is anyone available to replace Ann as summarizer?</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>no one yet</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>looking at Larry's new grammar and the S05 changes</li>
<li>I think that means a substantial change to the current Perl 6 work</li>
<li>coming up with a small subset of Perl 6</li>
<li>now that I see how to fold it into the grammar, I can use that to do the PGE tree to PAST process for the Perl 6 compiler</li>
<li>that's a lot easier to hack on than using PIR in TGE</li>
<li>I did a simple of experiment with F<languages/abc> and it looks nice</li>
<li>I went from 20 or 30 lines to 2 or 3 in spots</li>
<li>I can check that in tomorrow morning</li>
<li>I'm trying to figure out how to do that in the context of the bottom-up parser</li>
<li>I'll have to look at the standard Perl 6 grammar to figure that out</li>
<li>that's the remaining piece</li>
<li>I'll check that in tomorrow, even if it's not complete</li>
<li>it's a draft for comment</li>
<li>"Oh, I'm done!  I think I want to do it this way!"</li>
<li>there are some syntax things to work out</li>
<li>trying to maintain a clean separation from the grammar and the parse specification is tricky</li>
<li>I want to keep those somewhat separate, or at least separable</li>
<li>as far as implementing it, I don't think it will take long at all</li>
<li>the Perl 6-like language I'm using almost all exists in the Perl 6 compiler right now</li>
<li>I can strip out big pieces to get that bootstrapping done</li>
<li>I plan to have a lot of that done in the next week and a half</li>
<li>I want to have it hackable by next 17th</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>what can help you out?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>getting reactions when I post it tomorrow</li>
<li>you don't have to know a lot of Perl 6 to review it</li>
<li>ideas about syntax help</li>
<li>I'll write up what my thoughts are as prose </li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>the Perl 6 compiler list might be good</li>
<li>which parts of TGE did you replace?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>from the parse to the AST, you don't use TGE at all</li>
<li>you use the mini-Perl 6</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>from then on you use TGE</li>
<li>you can use mini-Perl 6 within TGE after that</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>yes</li>
<li>you build your mini-AST using the mini-language</li>
<li>then you use TGE</li>
<li>in the grammar, you build a bunch of objects with Perl 6 <code>new</code> statements</li>
<li>methods on a class</li>
<li>how Parrot will do things soon</li>
<li>I already have method indications working in the Perl 6 system now</li>
<li>the only tricky part is parsing parameters</li>
<li>after we play with this a bit, it'll give us more insights into how we want TGE transformations to look</li>
<li>I will want iterators and generators at some point</li>
<li>I need to look into that soon</li>
<li>maybe not by the 17th</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>the syntax?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>the implementation</li>
<li>the syntax will look like <code>for</code></li>
<li>I'll ignore the Iterator class in Parrot</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>we have an Iterator class in Parrot?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>write your iterator in PIR and we'll port it back to Parrot</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>why don't you write most things in PIR and port them to C?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>we'd like to</li>
<li>the PMC PDD will help that</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>the Capture and CodeString PMCs would be good</li>
<li>they probably would speed up PGE substantially</li>
<li>you can replace 20 to 30 PIR operations for every line of code into the equivalent C code</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>that could be an order-of-magnitude improvement</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>very possibly</li>
</ul></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

