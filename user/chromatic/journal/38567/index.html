<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Minutes for 25 February 2009</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 25 February 2009</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2009-02-28T00:02:00</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 25 February 2009.  Larry, Allison, Jerry, Patrick, and chromatic attended.</p>

<p><strong>Patrick:</strong></p>

<ul>
<li>continuing to prepare Rakudo for its next release</li>
<li>expect that to happen today</li>
<li>for now, the releases will be alphabetical: words beginning with A, B, C, D, etc.</li>
<li>partially to emphasize that I don't consider these user-ready releases</li>
<li>putting a number on that may imply that</li>
<li>no easy way to tie releases to numbers right now anyway</li>
<li>some people have said "What happens when you get to X?"</li>
<li>I hope we're releasing official releases by then</li>
<li>updated Rakudo's test harness</li>
<li>no longer requires Parrot's test harness</li>
<li>it now passes over 7000 spec tests</li>
<li>Jonathan gets most of the credit for that</li>
<li>he's been closing tickets and fixing bugs while I've been working on build issues</li>
<li>totally unplanned to hit that number</li>
<li>updated the spectest progress files to show our progress</li>
<li>haven't updated the graph today</li>
<li>following along conversations and trying to keep track of various changes</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>spent the week mainly on install stuff</li>
<li>various languages can build from an installed Parrot without depending on the build directory</li>
<li>still some hard-coded paths within Parrot's configuration system for C compilation</li>
<li>Rakudo and Partcl can definitely build from an installed Parrot</li>
<li>need to do Pipp next</li>
<li>set up a languages repository on svn.parrot.org</li>
<li>waiting for some admin work on that</li>
<li>came up with a saner version number strategy</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I find it much easier to say that January and July are the memorable releases than to attach numbers to them</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>with Ubuntu, it's likely we'll get 1.0 and 2.0 into the distribution and not say 1.4</li>
<li>they have an upstream packaging freeze about a month before we put out our release</li>
<li>the release that goes into their 09.10 will be 1.0, not 1.4, because the latter won't be out in time</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>why not 1.3?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>that's a developer release</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>we're going to have to talk about that</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>we have a final copyright assignment from the Perl Foundation to the Parrot Foundation</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>have some small pending changes to S19</li>
<li>nothing much to report there</li>
<li>Google's giving a GSoC presentation at the University of Washington</li>
<li>they've asked me to speak about our experiences last year with TPF</li>
<li>I'll invite people to join the Perl and Parrot Foundations project this year</li>
<li>hope to have an ideas page to point people at at that point</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>have you spoken to Jonathan Leto about that?</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>only heard about it yesterday</li>
<li>it's on my list</li>
<li>looking for presentations on GSoC to find slides to borrow</li>
<li>about all I've had time to do lately</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>having a really nice problem</li>
<li>a lot of people are helping to flesh out the specifications</li>
<li>the nice problem is that they have to be managed</li>
<li>trying to oversee what people are hacking into the new specs</li>
<li>want to make sure things don't go too far afield</li>
<li>weighed in on event processing and inexact numeric matches on the mailing list</li>
<li>nothing there is quite spec-worthy yet</li>
<li>doing name-whackage of various sorts</li>
<li>killed off the <code>$*DEFIN</code>, <code>$*DEFOUT</code>, <code>$*DEFERR</code> symbols which emulated Perl 5's old IO select states</li>
<li>not it relies on that those are contextual vars: <code>$*IN</code>, <code>$*OUT</code>, <code>$*ERR</code></li>
<li>any scope can override them</li>
<li>that's simplification</li>
<li>many compiler variables that were redundant and error prone with regard to nested scopes</li>
<li>you now chase links through your symbol tables to find out your lexical or package nesting</li>
<li>unhandwaved how a setting can loop around user code</li>
<li>you can mark it so that it knows how to dump the lexical scope surrounding user code</li>
<li>there's a stub in there called <code>YOU_ARE_HERE</code></li>
<li>I'm open to better names</li>
<li>clarified associativity at the same precedence level</li>
<li>that can happen with user-defined operators</li>
<li>non-associative in that case, so you get an error</li>
<li>noticed that the <code>tighter</code> and <code>looser</code> precedence generators only produced precedence levels that were close to one that exists</li>
<li>wanted the ability to define something in the middle</li>
<li>if you use both in the same precedence level, it splits the difference</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>sounds like you need a synonym: <code>between</code></li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>tried that, but you have to specify two things anyway, and there's already syntax for that</li>
<li>after the discussion of time semantics, put in two core types: <code>Instance</code> and <code>Duration</code></li>
<li>defined to be well-behaved in terms of time</li>
<li>most of my standards hacking has been in user-oriented error messages</li>
<li>now an error message that warns you if you try to use a C++ constructor</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>can we backport that one?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it's also a valid Perl 5 constructor</li>
<li>just thought it would be more insulting to call it a C++-style constructor :-)</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>I still want it</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>previous patch to catch Haskell-style open-ended ranges where you leave out one of the terms</li>
<li>that prevented talking about any <code>..</code> operator in square brackets</li>
<li>we couldn't use the notation where you put square brackets around infix operators</li>
<li>I had to fix that</li>
<li>fixed up the warning when interpreting <code>if()</code> as a function call</li>
<li>introduced enum names into the symbol table</li>
<li>it's a bit of a hack</li>
<li>anonymous enums now parsed correctly</li>
<li>no more complaints of missing package when you use <code>CALLER::</code> or <code>CONTEXT::</code></li>
<li>can now introduce <code>term</code> symbols, as well as <code>prefix</code>, <code>infix</code>, and <code>postfix</code></li>
<li>other random warning-suppresion bugs</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>working on project management, version numbers, deprecation, triaging guidelines</li>
<li>trying to fix as many bugs as possible</li>
<li>reviewing SKIP and TODO tests</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>I read your <code>Setting</code> work this week</li>
<li>can you roll back a <code>Setting</code>?</li>
<li>can you access something outside the current <code>Setting</code>?</li>
<li>I don't have a use case</li>
<li>is it as simple as calling <code>OUTER::Setting</code>?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>if there are multiple settings, they're just enclosing lexical scopes</li>
<li>any mechanism to navigate lexical scopes works</li>
<li>the outermost is <code>CORE::</code> and so forth</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>to cut off a file in mid-stream processed with <code>-n</code>, could I close the handle in <code>CORE::</code>?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>chances are that's a dynamic variable, a <code>$*ARGV</code> equivalent</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>can I find out which <code>Setting</code> I'm currently in?</li>
<li>finding out its name</li>
<li>inside my current runloop, can I tell which <code>Setting</code>s I have loaded?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>we probably want to have a way of naming them, much as <code>CORE::</code> has a name</li>
<li>lexical scope should have a way of saying "My lexical scope has a name, and it is..."</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>O-S-C-A-R?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>... but I haven't thought about that yet</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>any status on protoregexes and stuff?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I end up being the person of last resort to do things that need doing</li>
<li>had hoped that other people would pick up the ball on build issues and stuff</li>
<li>I can make predictions for the next few months, but life catches me off guard</li>
<li>once I get back to working on PGE, it won't take too long</li>
<li>it would bug me more if the lack of those features were holding Rakudo back</li>
<li>that doesn't appear to be the case</li>
<li>we're making good progress and we're getting new features</li>
<li>we could use them for adverbs, but we can work around that now</li>
<li>if that reaches a pain threshold, it'll move it higher in the queue</li>
<li>that's where I'm focusing my efforts</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>Jonathan's very good at moving things forward</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>it's fortunate that each of us tends to like doing what the other person hates</li>
<li>with the exception of lexicals and the build system</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>no one ever wants to do a build system</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>delayed binding helps this though</li>
<li>seeing grammar changes as they come up makes it easier to figure out what to do</li>
<li>with the <code>Setting</code> code now, and features written in Perl 6, we're closer to finishing one of my milestones</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>how will the install process be for Rakudo?</li>
<li>it seems like Parrot is doing the heavy lifting there</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>I've been working on independent building</li>
<li>what would you like for installing?</li>
<li>an install script where you identify your language files, and it puts them there?</li>
<li>you have a <em>languages/</em> directory in the Parrot lib directory</li>
<li>you have configuration files that tell you where they are</li>
<li>you just copy files after that</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>certain things might need changing</li>
<li>grouping the docs?</li>
<li>cross-indexing?</li>
<li>if you're doing dynops or dynpmcs?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>haven't been doing any doc installs, just executable files</li>
<li>maybe they should go in with the Parrot docs</li>
<li>installation works via a <em>MANIFEST</em></li>
<li>you specify the type of file with a tag in the <em>MANIFEST</em>, whether <code>doc</code> or <code>lib</code></li>
<li>are you happy to have a <em>MANIFEST</em> in your language directory</li>
<li>let the installer take care of it for you?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>if there's a script to do the install, we'll probably use that</li>
<li>I just want to get it so that people can build and run Rakudo</li>
<li>I'll probably look at installation in a month or two</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>I'll look at a simple <em>MANIFEST</em> for Rakudo</li>
<li>will patch your <em>Makefile</em> for that</li>
<li>will build a basic installer script</li>
<li>it'll be a basic, working install</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>the <em>mk_languages_shell.pl</em> script needs an update to make a <em>MANIFEST</em></li>
<li>Fran&ccedil;ois has been keeping that up to date</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>I haven't added <em>MANIFEST</em> to any other languages yet</li>
</ul></p>


<hr/>



<h2>transcribe-o</h2>
<h3><a href="/user/ChrisDolan/">ChrisDolan</a> on 2009-03-01T14:28:57</h3>
<p><i>after the discussion of time semantics, put in two core types: Instance and Duration</i></p><p>Should be "Instant" not "Instance"</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

