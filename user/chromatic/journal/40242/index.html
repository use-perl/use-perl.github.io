<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Minutes for 03 March 2010</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 03 March 2010</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2010-03-13T23:19:22</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 03 March 2010.  Larry, Allison, Patrick, Jerry, Will, and chromatic attended.</p>

<p><strong>Larry:</strong></p>

<ul>
<li>noted how lastcall allows nextsame control of nested dispatchers</li>
<li>reserved the final paren-based shape declaration syntax without committing to it meaning anything</li>
<li>clarified that <code>Nil</code> itself is defined but likes to produce undefined values when indexed</li>
<li>added some clarifications of how the series operator deals with type information</li>
<li>clarified that <code>Pair.ACCEPTS</code> uses "so" and "not" semantics so :s returns <code>True</code> or <code>False</code></li>
<li>removed the <code>1/2</code> and <code>+2-3i</code> literal forms, now rely on angle forms <code>&lt;1/2&gt;</code> and <code>&lt;+2-3i&gt;</code> for literals, and the bare forms now rely on constant folding rather than a fragile special syntax</li>
<li>in STD, made undeclared variables more fatal</li>
<li>STD now tries to be helpful if the user makes the typical P5-ish variant-sigil mistake on arrays and hashes</li>
<li>also improved error message on the <code>-</code>{}> kind of mistake that P5 programmers will make</li>
<li><code>my $a, $b</code> now gives better message</li>
<li>STD now reserves the <code>()</code> shape syntax per current spec</li>
<li>fixed regression on indirect method knowing that method name is not bound early</li>
<li>moved unexpected-<code>!!</code> panic from infixstoppers to <code>infix:&lt;!!&gt;</code> for better extensibility</li>
<li>so a user's infix definition isn't ignored if it starts with <code>!!</code></li>
<li>you can define user operators starting with that, and it only complains for the right reasons now</li>
<li>STD now gives an accurate message when a prefix is missing its term</li>
<li>removed deprecated rational and complex literal forms from STD</li>
<li>much preliminary work for moving operator defs to CORE.setting, not yet checked in</li>
<li>only blocker is not being in Copenhagen</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>Jonathan, Carl, Moritz, and Martin will be there</li>
<li>I proposed a panel discussion instead of my talk on Tuesday afternoon at 3 pm</li>
<li>I'll be online then</li>
<li>can't make it due to sudden personal reasons</li>
<li>will be online quite a bit the next few days though</li>
<li>can participate in the hackathon remotely</li>
<li>worked mostly on helping other people get their tasks done</li>
<li>updated the parser to handle more operator conditions</li>
<li>working toward enabling user-defined operators</li>
<li>quite a few new people submitted patches</li>
<li>several were non-trivial</li>
<li>one patch put grammars, regexes, and tokens back in Rakudo</li>
<li>that's not trivial and it worked pretty well</li>
<li>I'm reviewing patches and making comments</li>
<li>lots of good progress</li>
<li>expect lots more during the hackathon</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>going to work on code stuff this weekend instead of traveling</li>
<li>had a very productive trip</li>
<li>glad to be home to get work done</li>
<li>working on the PCC branch this week</li>
<li>should be, fingers crossed, small and easy to get done</li>
<li>want to avoid creature feeping</li>
<li>get the re-ordering through and move on</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>having trouble building Rakudo on Windows</li>
<li>have time to debug with people online</li>
<li>this is preventing me from talking to Patrick about and working on S19</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>we can work on that tomorrow</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>saw that problem on p6c as well</li>
<li>fixed a Parrot bug for Patrick related to STRING indices</li>
<li>we have some speed fixes on top of that</li>
<li>still working on the build cleanup</li>
<li>hope to merge to trunk in the next two or three days</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>haven't had and won't have much time</li>
<li>fixed a few bugs</li>
<li>working on helping other people get stuff done</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>is there a hackathon or meeting time available after OSCON?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>recommend the weekend after</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>there'd have to be a hackathon for me to get TPF sponsorship</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>the pace of spec changes has picked up</li>
<li>any ideas what's driving that?</li>
<li>is it different from before?</li>
<li>was the end-of-year lull the same as before?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>everyone did take a break over Christmas</li>
<li>most of the changes are still simplifications</li>
<li>or responses to implementation issues</li>
<li>dealing with inconsistencies</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>a lot of implementation issues have come up over the past three weeks</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>ng has flushed out a lot of design issues</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>that's great!</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>that's great for Larry, but I have a deadline!</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>remember, it's a stake in the ground</li>
<li>"This is a release of Perl 6 you can use NOW!"</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>we're driving the spec with regard to lists and arrays</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>they essentially have the same structure</li>
<li>they need separate typology</li>
<li>you need to know whether to clone an iterator</li>
<li>that's the only reason you have to know</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>did you see my comment about binding being the distinguishing feature?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>I think about that in inside out terms</li>
<li>not sure I can put that in words yet</li>
<li>had a conversation with Solomon about the FP view of iterators and arrays</li>
<li>that's some of my thinking</li>
<li>do we promise to hold a pointer fixed, or go on to the next thing?</li>
<li>whether that thing is persistent is mostly the bailiwick of the GC, from the standpoint of the language</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I wasn't sure how that applied to my specific context</li>
<li>maybe I should work up a description of words or implementation</li>
<li>some lists I want to keep around reified elements</li>
<li>some lists I don't</li>
<li>the distinction is whether it's bound to any variable</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>may depend on what it's bound to</li>
<li>we might make the keeparound promise only for binding to <code>@</code></li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I came up with binding to <code>$</code> examples</li>
<li>we can get laziness but eat up a ton of memory</li>
<li>if we throw things away when iterating, we get more things wrong</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it's a matter of tracking</li>
<li>are we bound to something that tells the GC to keep the rest of the list around?</li>
<li>that's the FP view</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>that's not just a GC view</li>
<li>it's how people refer to them</li>
<li>my GC is taken care of by my virtual machine anyway</li>
<li>it's about reachability from the HLL</li>
<li>or did you see it disappear</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>that's whether you have a reference to it</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>how do you know whether to keep a reference to it?</li>
<li>I've produced this element</li>
<li>can I send it back to the caller</li>
<li>or do I need to keep it around so something else can get to it</li>
<li>if the iterator itself is bound, you keep the reference</li>
<li>if it's not bound, you can return it but not keep the reference around</li>
<li>I'll write up my thoughts</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>will these changes settle down after Rakudo *?</li>
<li>are they a precursor to that release?</li>
<li>will they continue afterward?</li>
<li>will Rakudo * go stale?</li>
<li>that's a tough one to answer</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I can't guarantee stability at this point</li>
<li>we want a useful release</li>
<li>we'd like not to have any deprecations after that point</li>
<li>given how implementations and applications <em>drive</em> implementations</li>
<li>Rakudo * exists to encourage people to develop applications</li>
<li>we've never made that stability an explicit goal for Rakudo *</li>
<li>we'll probably institute deprecation cycles when it comes out</li>
<li>we don't want to change the world out from under people</li>
<li>it doesn't represent a spec freeze</li>
<li>thinking of a separate distribution release from the compiler release</li>
<li>a three month stability cycle of releases for Rakudo *</li>
<li>a different point of view</li>
<li>any distribution release doesn't have to be tied to the newest compiler release</li>
<li>I see Rakudo * as a series of releases, not a single release</li>
</ul></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

