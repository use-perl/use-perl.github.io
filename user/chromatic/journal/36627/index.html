<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Kwalitee Without a Point</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Kwalitee Without a Point</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2008-06-09T06:16:16</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p><a href="http://szabgab.com/blog/2008/06/1212827982.html">Gabor Szabo requested comments on several new CPANTS metrics</a>.  Short comment: these are the worst metrics yet.</p>

<p>Medium comment: Yeah, yeah, Kwalitee isn't a measure of Quality.  I get that, but it's no excuse for piling on even more lousy metrics that not only don't know Quality, but have never even bumped into Quality accidentally at the grocery store.</p>

<p>Longer comment:</p>

<ul>

<li><em>distributed_by_debian</em> -- I'm sure all users of Win32-specific modules, for example, will be happy to learn that their Kwalitee could be higher if they sweet-talked a Debian Developer into polluting their repository with code useless to Debian.</li>

<li><em>latest_version_distributed_by_debian</em> -- maintainer on vacation?  Sorry, no Kwalitee for you!</li>

<li><em>has_no_bugs_reported_in_debian</em> -- finally, the Win32 developers get a break.  Again, I'm not sure what this really means for them, but hey, it's a free Kwalitee point.  Life is good.</li>

<li><em>has_no_patches_in_debian</em> -- I've only been doing this for a decade, but I'm still under the impression that most of the OSI-certified licenses seen in CPAN distributions allow downstream modification and redistribution.  In that decade, I've also seen how often downstream never notifies upstream of changes.  (Though 
<a href="http://www.debian.org/user/bod/">Brendan O'Dea</a> of Debian is one of the most responsive downstream developers from any distribution for Perl 5.)</li>

<li><em>uses_test_nowarnings</em> -- because the POD testing metrics work oh-so-well and because testing for custom lexical warnings is evil and bad and wrong, or at least stuffing a do-nothing string "use Test::NoWarnings" in your <em>t/</em> directory somewhere is a <em>certain</em> sign of Kwalitee.</li>

</ul>

<p>80% of these new metrics only measure Kwalitee of a distribution to Debian users.  That may be useful for Debian users, but it's highly inappropriate (and worse, irrelevant) for everyone else.  (I believe Ubuntu has a bug somewhere that not all of the world uses a Debian-based distribution.)</p>

<p>Constructive criticism: How about a way to opt into only the useful CPANTS metrics?  I'd hate for users of my code to get confused by meaningless Kwalitee Theater.</p></p>


<hr/>



<h2>Oops.</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2008-06-09T06:41:32</h3>
<p>Wow.  I have to confess that I can't see much point to those.  I would much prefer to focus on serious issues which clearly point to Kwalitee.  Not many people debate strictures, but <tt>Test::NoWarnings</tt>?  I often have code to specifically disable that module because it's lovely, but problematic.</p>

<p>Kwalitee shouldn't be focusing on specific modules, but I can see where he's going with the Debian stuff.  But yes, there should be greater control.  I'd prefer "core" Kwalitee metrics with the other issues being "opt-in".  Fewer complaints.  If people want to play, great!  If they don't want to play, that's great too.</p>



<blockquote>

<h2>There is no nOops</h2>
<h3><a href="/user/sjn/">sjn</a> on 2008-06-09T13:19:24</h3>
Well, with metrics like these, CPAN module developers can get a small link into the Debian package review process, can't they?<br><br>"Given enough eyeballs, all bugs are shallow", IIRC. Putting a module into a larger context (more users =&gt; more developers =&gt; more eyeballs =&gt; more feedback) SHOULD increase the quality of the software - at least over time.<br><br>Wether or not to make a "competition" of this metric is another issue, and possibly solved by splitting up the CPANTS games into smaller ones, where the "Software Kwalitee" index is one, and "Debian-Perl Feedback Kwalitee" or "Redhat-Perl Feedback Kwalitee" are separate.<br><br>CPAN is no longer a closed environment, and it's on high time we formalise feedback channels across to the different communities that depend on CPAN modules and their authors.<br><br>And even better, by accepting Gabor's proposals we're taking a first step towards making CPAN a one-stop shop for Kwalitee products.<nobr> <wbr></nobr>:)<br><br>I think it would be good to make this work.



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/petdance/">petdance</a> on 2008-06-09T13:36:29</h3>
All of this kwalitee hoohah assumes that authors give a crap about their point score.<br/><br/>I wonder what percentage of CPAN authors indeed give a crap.  I'm guessing, what, maybe 1%, max?  Let's call it 5% to be generous.  I'd suggest that the better time would be spent on increasing the author_gives_crap score than adding more arcane little tweaks that can only damage the current author_gives_crap rank.



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/sjn/">sjn</a> on 2008-06-09T13:55:06</h3>
Remember that author_gives_crap just is a product of all the other metrics.<nobr> <wbr></nobr>;-D



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/petdance/">petdance</a> on 2008-06-09T14:08:21</h3>
My very point.  I can't imagine that does_debian_whatever is going to help the author_gives_crap rating.
<p>
My concern with CPANTS all along has been that the metrics are being written for the CPANTS developers, not the CPAN developers.</p>



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/sjn/">sjn</a> on 2008-06-09T15:22:49</h3>
Sure it helps. It helps me as a user of some module to see if it's author gives_crap about Debian. If he doesn't, then I'll at least know in advance that the module may need some Debian love, or that I may have to look for another one that can fit my needs.<br><br>Of course, this assumes that the author _wants_ feedback, but I think that's a pretty safe assumption (and those who don't want feedback, probably trickle towards the bottom end of the CPANTS ranking anyway.)<br><br>My point is that metrics like has_no_bugs_reported_in_debian can give a useful level of precision for determining if a software project is worth my attention.



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/petdance/">petdance</a> on 2008-06-09T15:27:38</h3>
My point is that there are so many authors out there that are probably entirely unaware of CPANTS, and more still that know about CPANTS and think it's silly.  I think it would serve CPAN better if more people were to use the good stuff in CPANTS more than tweaking what's already there.



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/sjn/">sjn</a> on 2008-06-09T23:45:53</h3>
What you describe here is a different type of problem, requiring another solution - e.g. a CPANTS rating score + link to more info, located somewhere on the main package description page found on CPAN.



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/sjn/">sjn</a> on 2008-06-09T23:49:22</h3>
Oops, this was meant for petdance-xdg<nobr> <wbr></nobr>:-P





</blockquote>

</blockquote>


<h2>Re:There is no nOops</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2008-06-09T17:31:05</h3>
<p><blockquote> <div><em>It helps me as a user of some module to see if it's author gives_crap about Debian.</em></div> </blockquote>

<p>That's exactly backwards.</p>

<p>These metrics only hint if Debian cares about the distro.  That may be useful to you if you use the Debian-packaged version, but it's useless to everyone else.  If the distro has a Debian package, that means that some Debian developer went through the work to package the distro for Debian.  If the distro doesn't have a Debian package, that means some Debian developer didn't go through that work.  That's all.</p>

<p>Similarly, the presence or absence of open bugs in the Debian queue is a useless indicator.  Those bugs may never come to the distro author's attention.  CPAN already has a request tracker.  Any bugs which aren't Debian specific should go there -- and again, Debian-specific information is only useful to people using the Debian-packaged version.</p>

<p>If you still don't believe me, consider using "Packaged in ActiveState's PPM repository for Perl 5.8.x" as a sign of Kwalitee.  A significant chunk of CPAN couldn't meet that metric, not because of any lack of quality on the part of the authors, but because ActiveState stuck with a poor technical decision which made certain versions of XS portion of Scalar::Util unavailable.</p>

<p>How does that possibly reflect on the quality of anything other than ActiveState's repository?</p>



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/sjn/">sjn</a> on 2008-06-10T10:54:48</h3>
<p><div class="quote"> <p>These metrics only hint if Debian cares about the distro.  That may be useful to you if you use the Debian-packaged version, but it's useless to everyone else.  If the distro has a Debian package, that means that some Debian developer went through the work to package the distro for Debian.  If the distro doesn't have a Debian package, that means some Debian developer didn't go through that work.  That's all.</p> </div>  <p>And conversely, if the distro HAS a Debian package, it means that this Debian developer trusts the distro enough to put it into Debian. It's not the <em>work</em> that is important, it's the question of trust that is.</p> <p><div class="quote"> <p>Similarly, the presence or absence of open bugs in the Debian queue is a useless indicator.  Those bugs may never come to the distro author's attention.  CPAN already has a request tracker.  Any bugs which aren't Debian specific should go there -- and again, Debian-specific information is only useful to people using the Debian-packaged version.</p> </div>  <p>Open bugs in Debian could mean one of several things (and if you use your imagination, I'm sure you'll find a few more):</p>

<ul> <li>The Debian dev doesn't trust the distro <em>completely</em>, only just enough to let it into Debian with some modifications.</li>
<li>The distro has platform-specific issues, perhaps including assumptions about install locations that aren't compatible with Debian</li>
<li>The original distro author is unresponsive to requests about bugs, so the Debian dev is forced to make local changes in order to ship something that works. </li> </ul>
<p>ALL these points are useful to know about if you are considering using the distro.</p> <p><div class="quote"> <p>If you still don't believe me, consider using "Packaged in ActiveState's PPM repository for Perl 5.8.x" as a sign of Kwalitee.  A significant chunk of CPAN couldn't meet that metric, not because of any lack of quality on the part of the authors, but because ActiveState stuck with a poor technical decision which made certain versions of XS portion of Scalar::Util unavailable.</p> </div>  <p>Hm... I never considerd ActiveState's product as something comparable to an OS distribution like Debian or Redhat or FreeBSD. You may have a point here, but even if so - it's useful to me to know that ActiveState trusts a CPAN distro.</p> <p><div class="quote"> <p>How does that possibly reflect on the quality of anything other than ActiveState's repository?</p> </div>  <p>It tells about trust, availability and working communication lines between CPAN disto developer and distribution platform developers. Each of these are signs that there has been done some kind of judgement about the software, and if the signs are there, it means that the software has at least  a good likelyhood to improve, even if other Kwalitee metrics don't measure up.</p>





</blockquote>

</blockquote>

</blockquote>

</blockquote>


<h2>Re:There is no nOops</h2>
<h3><a href="/user/Alias/">Alias</a> on 2008-06-10T01:53:11</h3>
Your response makes the common mistake of assuming that we can only do one or the other, which is of course not true.<br><br>If there's isn't something for authors to care ABOUT, there's zero point in making them aware of it.<br><br>It's quite reasonable to work on making the kwalitee metrics more accurate, more relevant, and less vulnerable to cargo cults.<br><br>That way when authors DO give a crap, at least they have good information to work from.<br><br>And the better the information, the more likely they are to agree with them, once they are aware.<br><br>Awareness is completely orthogonal from analysis, and we can easily do both.<br><br>There's no need to choose.



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/petdance/">petdance</a> on 2008-06-10T05:35:44</h3>
Exactly.  I look at <a href="http://cpants.perl.org/author/PETDANCE" title="perl.org">http://cpants.perl.org/author/PETDANCE</a perl.org> and it tells me that many of my distributions fail certain checkboxes.  So what?

<p>

Here it says WWW::Mechanize has no README.  So what?  Why do I as an author care?

</p><p>

It says that Mech's META.yml doesn't conform to a known spec (At least that's what I think the arcane code in the hover box tells me).  So what?  Why do I as an author care?

</p><p>

My META.yml doesn't have a license in it.  So what?  Why do I as an author care?

</p><p>

Perl::Critic::Bangs fails the test "proper_libs" which tells me "	Move your *.pm files in a directory named 'lib'. The directory structure should look like 'lib/Your/Module.pm' for a module named 'Your::Module'."  It should?  Why do I as an author care if I don't put my<nobr> <wbr></nobr>.pm file in the lib/ directory?

</p><p>

It's only overstating slightly to say that the entire  CPANTS structure seems to be built upon the premise of "These are things that should be a certain way because I say so," whoever "I" may happen to be.

</p><p>

That's not to say that the things checked for aren't worthwhile, but nothing says WHY they are worthwhile.
</p><p>

Further, and worse, it's presented as "You should just know this stuff and appreciate us for telling you."</p>



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/sjn/">sjn</a> on 2008-06-10T11:00:31</h3>
This is actually a good point. There should be more documentation available about _why_ a Kwalitee metric is a good thing.



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/petdance/">petdance</a> on 2008-06-10T14:11:09</h3>
Not just why Kwalitee is good, but why each individual data point is good.  Let the author make the decision about whether it's to his advantage or not to have a META.yml that conforms to a spec, or a more likely example, whether it's worth putting out a release of a module that he wasn't going to work on for a while for the sake of putting out a META.yml that conforms to a spec.



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/pudge/">pudge</a> on 2008-06-19T23:39:37</h3>
<p>I don't use META.yml in any of my dists.  I have no reason to.  This apparently means I am bad not just on that score, but all the others that have to do with META.yml.  ONOZ.</p>





</blockquote>

</blockquote>


<h2>Re:There is no nOops</h2>
<h3><a href="/user/btilly/">btilly</a> on 2008-06-10T15:59:26</h3>
I just got curious and looked at my modules.  They all got docked for not having a human readable LICENSE.  So I looked.  Under AUTHOR AND COPYRIGHT they say, <i>This may be modified and distributed on the same terms as Perl.</i>  Somehow I think that humans would disagree with CPANTS on how human readable that is.<nobr> <wbr></nobr>:-)<br><br>All of my modules are docked for my deliberate policy of not introducing unnecessary dependencies.  That includes warnings, Test::Pod and Test::Pod::Coverage.<br><br>Sometime I should get around to removing the accidentally included Build file and the missing author in the META.yml for Text::xSV.  The rest I have trouble caring about.



<blockquote>

<h2>Re:There is no nOops</h2>
<h3><a href="/user/Alias/">Alias</a> on 2008-06-12T01:35:08</h3>
Most of those problem reinforce one of my main problems with CPANTS, which is that many of the metrics are very badly implemented.





</blockquote>

</blockquote>

</blockquote>


<h2>Re:There is no nOops</h2>
<h3><a href="/user/mr_bean/">mr_bean</a> on 2008-06-10T05:20:31</h3>
This is an important point, I think. But I'm not sure what you're talking about.can you give us an example?<br><br>This is test washback. We want a test that just doesn't tell us whether the author gives a crap, but in fact MAKES, or at least encourages, the author to give a crap. Or at least tells the author how to give a crap.<br><br>As it stands, each checkbox is just a rap over the knuckles for not having your shoelaces tied.<br><br>How do we learn to dress properly?<br><br>Perhaps we have to be working at a higher level here, rather than surface-level code specifics. How are we going to reward effort, where it may not be possible to discern effort from what we have as evidence before us.<br><br>Perhaps some randomization of results, as in gambling, or at least a LESS clear relationship between my code and my kwalitee from my viewpoint, might be motivating.<br><br>It's fun when you win. The danger is it is demotivating when you don't. So one rule to increase author_gives_crap score should be, everyone is a winner.





</blockquote>

</blockquote>

</blockquote>


<h2>There is a team on the other end...</h2>
<h3><a href="/user/gwolf/">gwolf</a> on 2008-06-09T18:33:49</h3>
The main reason I wholeheartedly agree with Gabor's Kwalitee tests is because I am involved - at the other end. Yes, I am a CPAN author, although a <em>very</em> modest one, but my main work in this regard is in the Debian pkg-perl group. We are currently responsable for about half of the Perl packages in Debian, and we <em>are</em> doing our best effort to get as close as possible to working with you (what we call the <em>upstream authors</em>). Take a look at <a href="http://pkg-perl.alioth.debian.org/cgi-bin/qareport.cgi" title="debian.org">our QA report page</a debian.org> - In our packages, when <em>latest_version_distributed_by_debian</em> is false, it is because of either a bug or a transition going on. Yes, this could probably be merged with <em>has_no_bugs_reported_in_debian</em>, but this one often deals with distribution-specific bugs (i.e. <a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=451600" title="debian.org">#451600</a debian.org>).
Part of Debian's (and even more, our group's) policies are that we should <em>really</em> avoid stacking up patches on our side. Patches should always be pushed to the author, so we don't diverge from the official work (and, of course, the behaviour from user-managed or user-generated code is predictable) and life is simpler from both sides of reality.



<blockquote>

<h2>Irrelevant to CPANTS</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2008-06-09T20:01:59</h3>
<p>Measuring the quality of Debian-specific packaging makes a lot of sense for Debian developers and users, but it's irrelevant for everyone else.  As you mention, pkg-perl already tracks these statistics.  What possible value is there for CPANTS do to the same?</p>

<p>(<a href="http://search.cpan.org/perldoc?Win32::OLE" title="cpan.org">Win32::OLE</a cpan.org> is no less useful because there's no Debian package for it and no more useful because its Debian bug queue is empty.)</p>



<blockquote>

<h2>Re:Irrelevant to CPANTS</h2>
<h3><a href="/user/Alias/">Alias</a> on 2008-06-10T02:01:18</h3>
If CPANTS can centralise tracking for all the main downstream channels, I for one would find it useful.<br><br>Also, I wouldn't write off Win32::OLE in Debian just yet.<br><br>I know of at least one person that has been installing Win32 Perl modules on Debian on top of wine.<br><br>As for Win32 modules getting a free "no bugs in debian" point, that at least won't cause any harm.<br>



<blockquote>

<h2>Re:Irrelevant to CPANTS</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2008-06-10T02:10:12</h3>
<p><blockquote> <div><em>As for Win32 modules getting a free "no bugs in debian" point, that at least won't cause any harm.</em></div> </blockquote>

<p>No one has reported any bugs for my distros on ReactOS, Multics, MVS, Windows 7, VxWorks, or IOS.  Some of those are in wide use.  I struggle to decide why anyone who doesn't use my code on those platforms should care, and why someone should care to inform them on my behalf.</p>



<blockquote>

<h2>Re:Irrelevant to CPANTS</h2>
<h3><a href="/user/Alias/">Alias</a> on 2008-06-10T07:26:41</h3>
Because it shows that you pay attention to all of the downstream channels, no matter how weird, and make sure none of them accumulate unfixed bugs?



<blockquote>

<h2>Re:Irrelevant to CPANTS</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2008-06-10T17:17:07</h3>
<p>Trolling umpteen downstream bug trackers for operating systems I don't use times a few dozen CPAN distributions seems more likely to indicate that 1) I have too much spare time on my hands or 2) I should hand out my rate card more liberally.</p>

<p>If the BUGS section in my documentation doesn't say "RT please", it will, and then your indication of Kwalitee is that downstream packagers either can't or won't read.</p>





</blockquote>

</blockquote>


<h2>Re:Irrelevant to CPANTS</h2>
<h3><a href="/user/TeeJay/">TeeJay</a> on 2008-06-10T11:57:53</h3>
If SomeThingElse can centralise tracking for all the main downstream channels, I for one would find it useful.





</blockquote>

</blockquote>

</blockquote>


<h2>KWAP</h2>
<h3><a href="/user/educated_foo/">educated_foo</a> on 2008-06-10T13:44:21</h3>
Yes, the new metrics are silly, perhaps even more so than the old ones.  Luckily, CPANTS is mostly invisible (i.e. not found on search.cpan.org), so I can go on ignoring it.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

