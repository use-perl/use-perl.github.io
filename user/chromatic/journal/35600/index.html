<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Realistic, Down to Earth, and Swarming with Magic Robots</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Realistic, Down to Earth, and Swarming with Magic Robots</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2008-02-07T09:54:38</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Ruby's a fine language in many ways.  It's not Ruby's fault that you can occasionally write a line of code that reads almost like a very short, very very simple English sentence.  It's not even Ruby's fault that some (probably well-meaning) people look at that example and try to push that further than it should go (likely just beyond "See Spot run.").</p>

<p>When <a href="http://whytheluckystiff.net/">_why</a> invents something, it's new.  It's often bizarre, but always whimsical and charming.</p>

<p>You can tell _why didn't invent rspec (<a href="http://blog.davidchelimsky.net/articles/2007/05/14/an-introduction-to-rspec-part-i">an introduction to RSpec - Part I</a>).</p>

<p>Besides the more-or-less-pointless renaming of "test" to "behavior" (No kidding, you're testing the behavior of your code?  What have my tests been testing for the past decade, sparkly pink unicorn content?), I thought the point of inventing a dee-ess-ell was to be able to choose the most appropriate linguistic representation (syntax most appropriate for the semantics) with concepts lifted directly from the language of the problem domain.</p>

<p>(From that sentence alone, you can tell I don't get invited to the best post-Rails Ruby parties.)</p>

<p>As happens occasionally, the RSpec community circa 2005 or 2006 discovered what the developers of Perl knew in approximately 1988 (for those wondering if I made a snarky typo by accident or on purpose, 1988 was twenty years ago).  To wit, <em>it's nice to associate names with test assertions</em>.</p>

<p>The proper cultured Rubyist response is probably "our syntax is better because it doesn't look like we're calling functions."</p>

<p>That's true, but it only applies to the output, which is the <em>least</em> important part of the process -- and, frankly, if the whole point of waving your Big Sword Of Super Duper DEE-ESS-ELL +2 Against Enterprisey is to improve the reading and writing of <em>code</em>, then you could produce this output from any language such as, for example, COBOL, Malbolge, or Java.</p>

<p>I have nothing against fluent interfaces, and I'm perfectly happy to write my test code as actual code.  That's fine.  Yet how ironic that the actual code (you know, written by people who believe that dee-ess-ells are basically English) reads like <a href="http://www.bofh.org.uk/articles/2007/08/08/domain-specific-pidgin">the code equivalent of pidgin English</a>.  (Props to big daddy P.C.)  NOUN IT "description of task" DO some Ruby code END.</p>

<p>It do, do it?  Can it has cheezburger, too?</p>

<p>This here is the problem with so-called internal dee-ess-ells: your lack of abstraction leaks big.  A real domain-specific language could fix this with a trivial grammar change.</p>

<p>Even with this silliness, the output of RSpec is substantially better than that of Ruby's standard testing module, which is at best functional in that it  tells you how long the test suite took to run, oh, and if a test failed.  I continually miss Perl's <a href="http://search.cpan.org/perldoc?Test::Class">Test::Class</a> and <a href="http://search.cpan.org/perldoc?Test::Harness">Test::Harness</a>, at least for those tests which I absolutely must write in the host language.  
(See also <a href="http://blog.jrock.us/articles/RSpec%20vs.%20Test%3A%3AMore.pod">Jonathan Rockway's comparison of RSpec to Perl's Test::More</a>.)</p>

<p>The question you're probably asking yourself right now isn't "What then does BDD want to be when it grows up?"  (Another good question is "Exactly how serious are you about leaky internal pidgins?"  To that I answer "Reader IT should be able to pick out truth from over the top satire DO reader.ponder END TRANSMISSION FULLSTOP."  Bonus points for figuring out where this entry's title comes from and why.  Zing!)</p>

<p>I'm a generous guy at this hour, so the answer to the non-obvious question is "<a href="http://fit.c2.com/">FIT</a>, ironically enough, is a framework for describing the desired behavior of software in the actual language of the problem domain."</p></p>


<hr/>



<h2>sparkly pink unicorn content</h2>
<h3><a href="/user/nicholas/">nicholas</a> on 2008-02-07T10:56:17</h3>
<p><blockquote><div>sparkly pink unicorn content</div></blockquote>
<p>Yes please! My niece would love that. Both sparkly and pink, two things she
is (almost) obsessed by.</p>
<p>Oh, what, you mean to say that the nasty folks are removing testing for that,
and instead are replacing it with testing code behaviour? Boring. If they do
that, I don't think that Ruby is going to be her language of choice.</p>



<h2>Calm down dear, it's only programming</h2>
<h3><a href="/user/pdcawley/">pdcawley</a> on 2008-02-07T11:42:49</h3>
I've never quite understood the RSpec crowd's obsession with renaming things, but as a library RSpec kicks the default ruby Test::Unit's arse <em>so</em> comprehensively otherwise.<br><br>Nor do I understand the style that has them use <code>do<nobr> <wbr></nobr>... end</code> style blocks to wrap code that, at it's best looks declarative. It's not impossible to write:<br><br><code><br>describe SomeClass {<br>
&nbsp; &nbsp; it "should be instantiable" {<br>
&nbsp; &nbsp; &nbsp; &nbsp; SomeClass.new.should_not be_nil<br>
&nbsp; &nbsp; }<br>}<br></code><br><br>which seems a good deal cleaner. Many ruby programmers appear to be blind to ugliness of <code>do declaration end</code> though.<br><br>As for _why's stuff - I think he used to be a Perl hacker and hasn't forgotten the good bits.



<blockquote>

<h2>Or to put it another way</h2>
<h3><a href="/user/pdcawley/">pdcawley</a> on 2008-02-07T11:51:47</h3>
I really, really, really hate that extraneous fscking <code>do</code>. If only the language would let me declare things so I could write:<br><br><code><br>describe Something<br>
&nbsp; &nbsp; it "should do stuff"<br>
&nbsp; &nbsp; &nbsp; &nbsp; do_stuff_with_it<br>
&nbsp; &nbsp; end<br>end<br></code><br><br>I'd be a good deal happier. Yes, I could write a source filter type thing in the runner, but I don't want the pain of having to parse the whole of the rest of bloody ruby just to get rid of that stupid <code>do</code><br><br>But, hey, ruby pays my mortgage and I'll swap the aesthetic pain of the extraneous do - which I can cover by using curly brace blocks anyway - for not having to unroll <code>@_</code> every time I extract a method.<br><br>Roll on Perl 6 (and sorry for not contributing, I seem to have ended up maintaining a Ruby based blogging engine which rather eats into discretionary hacking time - that'll teach me to scratch and itch and then submit a patch).



<blockquote>

<h2>Re:Or to put it another way</h2>
<h3><a href="/user/tsee/">tsee</a> on 2008-02-07T14:20:07</h3>
So that means you'll be back to Perl 5 if 5.12 has named parameters to subs and/or methods?<nobr> <wbr></nobr>;)



<blockquote>

<h2>Re:Or to put it another way</h2>
<h3><a href="/user/pdcawley/">pdcawley</a> on 2008-02-07T18:51:00</h3>
Probably not. See the comment about the mortgage.<br><br>I'm holding out for malleable syntax, real objects, proper garbage collection and decent function/method prototypes.<br><br>And a fanatical devotion to the Pope.<br><br>It's more likely to be things like DateTime that lure me back - Ruby's date handling is woeful.



<blockquote>

<h2>Re:Or to put it another way</h2>
<h3><a href="/user/djberg96/">djberg96</a> on 2008-02-07T19:58:50</h3>
Care to be more specific about Ruby's date handling issues?



<blockquote>

<h2>Re:Or to put it another way</h2>
<h3><a href="/user/pdcawley/">pdcawley</a> on 2008-02-08T06:19:44</h3>
Go and read the documentation for the DateTime suite of modules. Now point me to anything as comprehensive and well thought out on rubyforge. At least Ruby on Rails is starting to address some of the problems in its earlier implementations of things like <code>1.month.from_now</code> by inventing/rediscovering the Duration class.<br><br><a href="http://www.perl.com/pub/a/2003/03/13/datetime.html" title="perl.com">http://www.perl.com/pub/a/2003/03/13/datetime.html</a perl.com> is a good read too, in which Dave Rolsky explains the issues with the ad hoc nature of most Perl calendrical modules before the DateTime better mousetrap got built.





</blockquote>

</blockquote>

</blockquote>


<h2>Re:Or to put it another way</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2008-02-07T16:34:26</h3>
<p>Have you seen Devel::Declare? It&#8217;ll provide half a macro system &#8211; <em>for Perl&#160;5</em>.</p>





</blockquote>


<h2>Re:Calm down dear, it's only programming</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2008-02-07T16:21:43</h3>
<p><blockquote> <div><p>Many ruby programmers appear to be blind to ugliness of <code>do declaration end</code> though.</p></div> </blockquote>

<p>Goes with the territory. Lisp programmers don&#8217;t even see the parentheses any more, nor do XML people consciously notice all the angle brackets. I used to be blind to the iffiness of Perl&#8217;s deref syntax.</p>



<blockquote>

<h2>Re:Calm down dear, it's only programming</h2>
<h3><a href="/user/Dom2/">Dom2</a> on 2008-02-08T09:27:36</h3>
I find <code>tr -d '()'</code> makes most lisp a lot more readable.<nobr> <wbr></nobr><code>:-)</code>.



<blockquote>

<h2>Re:Calm down dear, it's only programming</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2008-02-08T09:48:45</h3>
<p>Let me guess: for Perl that would be <code>tr -cd '[:alnum:]'</code>?</p>





</blockquote>

</blockquote>


<h2>Re:Calm down dear, it's only programming</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2008-02-07T18:32:50</h3>
<p>I quite agree about Ruby's Test::Unit being barely functional.  I very nearly ported Test::Builder and Test::Class to Ruby a year and a half ago, when I was doing more Ruby hacking.  Then I realized that instead of spending the next several months reinventing all of the tools I like and use, I could spend the next several months building useful things that don't already exist, and stopped writing Ruby code.</p>



<h2>Re:Calm down dear, it's only programming</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2008-02-07T20:35:27</h3>
<p><blockquote> <div><em>I've never quite understood the RSpec crowd's obsession with renaming things...</em></div> </blockquote>

<p>This is what grates me.  It's clear that RSpec is a tremendous boon to Ruby testing.  I'm all for that!  I just wish that this goodness weren't couched in such tiresome wankery over decades-old concepts repackaged bizarrely.</p>

<p>There's no shame in borrowing good ideas!  Just please stop renaming them, explaining them badly, slapping bright yellow racing fins on them, and pretending that they're completely new and different.  That's distracting noise.</p>



<blockquote>

<h2>Re:Calm down dear, it's only programming</h2>
<h3><a href="/user/pdcawley/">pdcawley</a> on 2008-02-08T06:32:16</h3>
This is where we differ, I think. I don't really give a bugger if people want to give things fancy new names, so long as the thing itself is <em>useful</em>. The RSpec crew have taken the view that the reason many people don't do Test Driven Design is because it seems arse about face to them. Testing is what you do <em>after</em> you've done the programming after all. (I remember once having a rather voluble argument with someone about the benefits of running your test before implementing anything to make sure that it failed).<br><br>They think that, by recasting tests as executable specifications and (in the more recent iterations) stories, they'll convince more people to start writing tests first, which can only be a good thing.<br><br>The trouble is, they risk (succeed in) pissing off those folks who are already convinced of the value of writing their tests first by renaming a perfectly good set of names. Arguably, one of the benefits of calling it Test Driven Development is the very same crogglement that the BDD types are trying to reduce.<br><br>Also, ISTR we all called the practice "Test First Development" until around the time Beck published "Test Driven Development", which is definitely a way better name for the process. Chelimsky and friends are just attempting to find a better name again and, from our point of view at least, they've failed.



<blockquote>

<h2>Re:Calm down dear, it's only programming</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2008-02-08T07:39:13</h3>
<p><blockquote> <div><em>I don't really give a bugger if people want to give things fancy new names, so long as the thing itself is</em> useful<em>.</em></div> </blockquote>

<p>I care, if it confuses the innocent.  Count the number of people who say "We use BDD and TDD" or "I'm learning BDD and TDD".  The number is non-trivial.</p> <p><blockquote> <div><em>Also, ISTR we all called the practice "Test First Development" until around the time Beck published "Test Driven Development", which is definitely a way better name for the process.</em></div> </blockquote>

<p>Agreed.  Also, I prefer the term Test-Driven Design, but that gets to the point you made in your first paragraph that "something" is what you do before/after "something" else.  My best strategy for that is encouraging those companies to send out lots of press releases about their development approach and hope that the resulting noisy failures will convince the rest of the world not to do things that way.  So far so good.</p>





</blockquote>

</blockquote>


<h2>Re:Calm down dear, it's only programming</h2>
<h3><a href="/user/djberg96/">djberg96</a> on 2008-02-07T21:09:53</h3>
<p><div class="quote">Many ruby programmers appear to be blind to ugliness of do declaration end though.</div> That's why I use brackets instead.<nobr> <wbr></nobr>;)





</blockquote>


<h2>Warning signs</h2>
<h3><a href="/user/educated_foo/">educated_foo</a> on 2008-02-07T15:39:29</h3>
<p><blockquote><div>Behaviour Driven Development is an Agile development process that comprises aspects of Acceptance Test Driven Planning, Domain Driven Design and Test Driven Development.</div></blockquote>
Um... wow.  I'm sure the magic shining robots... er, Magic Shining Robots have some role to play here.  Seriously, when the first sentence contains that much Capitalized Meaningless Drivel, it's safe to move on without reading more.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

