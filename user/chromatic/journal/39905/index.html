<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Minutes for 11 November 2009</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 11 November 2009</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2009-11-16T21:16:39</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 11 November 2009.  Larry, Allison, Patrick, Jerry, and chromatic attended.</p>

<p><strong>Larry:</strong></p>

<ul>
<li>named all of the funny-looking blocks "phasers"</li>
<li>met with wide-spread approval, or at least humor</li>
<li>no change as to the language itself besides nomenclature</li>
<li>nice to have a handle to think of them as one thing</li>
<li>decided there's no name for the concept used by our lexically-scoped control exceptions</li>
<li>those are now <em>lexotic</em></li>
<li>something that'll unwind the stack to a lexically-determined destination</li>
<li>noticed the old <code>:panic</code> modifier in S05</li>
<li>decided it was impossible to implement correctly</li>
<li>very little demand for it</li>
<li>couldn't think of a good use for it anyway</li>
<li>I removed it</li>
<li>the name interpolator, <code>::()</code>, had some strange lookup rules</li>
<li>now the runtime lookup in that interpolation is identical to what it would be if the name had been there at compile time</li>
<li>clarified that empty blocks and non-matching conditionals return <code>Nil</code>, as suspected</li>
<li>documented that clearly now</li>
<li>STD now uses something like Patrick's <code>O()</code> assertion form instead of the wrong coercion semantics</li>
<li>Patrick also noticed that if you declare a module with a block, it did not disallow semicolon declaration</li>
<li>fixed that</li>
<li>found three places in the test suite where people had used semicolon syntax as forward declarations</li>
<li>fixed those too</li>
<li>decided that the STD grammar class needed to split into two</li>
<li>one is the mainline Perl 6 class</li>
<li>the other is the base class from which everything else derives</li>
<li>you don't want all of the rules of the mainline code in that one</li>
<li>started to split those</li>
<li>probably could use more reformatting for readability</li>
<li>thinking about how to do a real parallel NFA</li>
<li>reading up on the new Go language</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>another small tasks week</li>
<li>reviewing patches and answering design questions</li>
<li>have a long list of things to do</li>
<li>put that list on the Parrot wiki, which has helped</li>
<li>Julian submitted a patch for one of those things</li>
<li>would like to get some time to work on Pynie</li>
<li>have three massive assignments due at the end of next week, so may not be able to get back to Pynie after that</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>the weeks are all blending together so well....</li>
<li>Jonathan noticed that on GitHub you can get a list of commits on a project's page</li>
<li>Rakudo commits yesterday exceeded a page</li>
<li>we're making excellent progress on Rakudo with the new grammar</li>
<li>wrote a post on use.perl.org about that last night</li>
<li>we're on track with our plan we published a couple of weeks ago</li>
<li>made the sanity tests pass sufficiently that we can run the test suite</li>
<li>now it's just a matter of re-enabling features to pass the test suite</li>
<li>most of those features are written in Perl 6</li>
<li>either because of the core <code>Setting</code> or because we went to rewrite them in Perl 6</li>
<li>should get major swaths of features working then</li>
<li>we'll see how that goes over the next couple of weeks</li>
<li>expect that we'll land the new branch sometime in December</li>
<li>we'll pass as many tests then as we did in the October release</li>
<li>the new version fixes many features we couldn't implement in the previous version</li>
<li>lazy lists and constant handling, for example</li>
<li>this week, I'll bring NQP into the Parrot repo</li>
<li>lots of people want to use it more easily</li>
<li>having Parrot compile and install it helps</li>
<li>will continue adding features to Rakudo</li>
<li>will guide others to add new features to Rakudo</li>
<li>it's at the point where lots of other people can do that</li>
<li>would still like to write a tutorial on how to write a compiler with NQP</li>
<li>it's probably worth waiting a week on Pynie to take advantage of that</li>
<li>figured out why NQP-rx code generation was slow</li>
<li>UTF-8 bit us again</li>
<li>took care of that</li>
<li>compilation time from <em>actions.pm</em> went from 108 seconds to 15 on Jonathan's machine</li>
<li>about a factor of ten speedup in compilation time</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>some parts of Pynie need replacing</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>it's worth it if you want to use protoregexes or the new operator precedence parser</li>
<li>they'll give you speed too</li>
<li>will use Punie (Perl 1) as the example</li>
<li>it has a lot of the features you want in a language</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>fixed a few bugs</li>
<li>talking design</li>
<li>talking development process and strategy</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>on the semicolon form of module declarators</li>
<li>the only model I can think of which works cleanly is that you can put anything you want prior to that declarator</li>
<li>once you write one, you can't write another one for the rest of the file</li>
<li>that's how I read it</li>
<li>originally, the semicolon form had to come first</li>
<li>that caused problems with importing things to declare</li>
<li>if you allow anything other than module declaration, that's a special case</li>
<li>it's easier to say that you get one semicolon form per file, and that's it</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>as the errors show in the test suite, people will use the semicolon form out of habit</li>
<li>whatever they mean by it will be wrong</li>
<li>they use it as a forward declaration in the tests</li>
<li>that's neither of these interpretations</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>maybe the semicolon form is wrong</li>
<li>maybe we need a brace form which lets you slurp the rest of the file</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>some kind of EOF heredoc?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>if we do use it, I want it close to the top of the file</li>
<li>as soon as you put large blocks of things in front of it, you get into trouble</li>
<li>it's not obvious which package it is then</li>
<li>maybe there's some way of separating the name of the file from the declaration of its dependencies</li>
<li>let me think about that more</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>it's not pressing or urgent</li>
<li>Rakudo will continue to do what it does</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>that hurts the tests, which assumed some other behavior</li>
<li>neither STD nor Rakudo caught these errors until I fixed STD</li>
<li>I like how STD handles this behavior better now</li>
</ul></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

