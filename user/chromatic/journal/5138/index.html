<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Hiding Behind the Bill of Rights</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Hiding Behind the Bill of Rights</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2002-05-22T05:59:32</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>
<a href="http://wgz.org/chromatic/perl/brencrypt.pl.gz">brencrypt.pl</a> encrypts  <em>any</em> file.  It creates a self-extracting archive that requires a very special key in another file --  the text of the Bill of Rights.
</p>
<p>
"Self-extracting", in this case, means that you must have a recent Perl and my Crypt::CipherSaber module installed.  (In fact, you ought to have the most recent, though unreleased, version, to avoid a silly warning.)  To encrypt, pass the name of the file to run and the name of the output file.  To decrypt a file, pass the name of the key file and, optionally, the name of the decrypted output file.  You can also redirect STDOUT, if you're exceptionally daring.
</p>
<p>
There are a couple of limitations.  First, the aforementioned module patch would be nice, but it's not ready.  (In debugging, I found some inflexible bits in the module that should be fixed).  Second, I'm not positive it writes binary files correctly.  The most fatal flaw is that you need the exact text of the Bill of Rights I used, right down to the formatting.  I'll fix this flaw first.
</p>
<p>
I'd point to the text I used, but that would be a circumvention device.  Oh wait, did the first ten amendments of the Constitution of the United States of America just become illegal?  Oops.
</p></p>


<hr/>



<h2>Deviious, devious!</h2>
<h3><a href="/user/VSarkiss/">VSarkiss</a> on 2002-05-22T14:25:11</h3>
<p>I love it!</p>



<h2>Hm</h2>
<h3><a href="/user/pudge/">pudge</a> on 2002-05-23T04:33:25</h3>
I dunno, especially since you require certain formatting, it makes it a bit odd.  I think maybe just using the First Amendment -- either all one line line, or else lenient with whitespace -- might be more fun.



<blockquote>

<h2>Re:Hm</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2002-05-23T04:48:19</h3>
<p>
Fixing the formatting is pretty easy.  I just haven't taken the time to regenerate the initial state array.  After that, it's just a couple of judicious tr/// commands to strip out whitespace and to force everything to lowercase.
</p>
<p>
As my roommate asked about this this morning, yes, Nick, it is a symmetric algorithm.  If you have the state array, you can decrypt it.  The point, however, is to make an auto-decrypting file without the state array.  That way, you need the secret key.
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

