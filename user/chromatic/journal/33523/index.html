<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Meeting Notes for 13 June 2007</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Meeting Notes for 13 June 2007</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2007-06-14T22:43:42</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 13 June 2007.  Larry, Damian, Patrick, Jesse, and chromatic attended.  These are the minutes.</p>

<p><strong>Larry:</strong></p>

<ul>
<li>worrying about the special case</li>
<li>sharp at the beginning of the line is always a line-end comment</li>
<li>I think I have a better formulation for that now</li>
<li>it solves the problem of somebody putting an embedded comment at the start of the line and expecting something at the end to run</li>
<li>seems to clean up a couple of other issues</li>
<li>makes it possible to comment out POD</li>
<li>I think it's a keeper</li>
<li>differentiating bracketed comments into embedded forms and line-oriented forms</li>
<li>hacking in the grammar to do that</li>
<li>added an optional namespace above global</li>
<li>it's process global</li>
<li>if you're embedded in an Apache server, for example, it distinguishes the process namespace from the global namespace</li>
<li>the global namespace continues to look like what you get in a standalone Perl</li>
<li>it's still cleaner to separate that out for various reasons</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>how was your talk?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it went pretty well</li>
<li>I spent a great deal of my time writing that talk</li>
<li>it's an interesting conference</li>
<li>several hundred programming language geeks of the CS variety</li>
<li>they tend to have very specialized interests and speak very technically</li>
<li>Perl came off pretty well during the weekend</li>
<li>the functional programming panelist as much as said that Perl was one of the successful functional programming languages</li>
<li>he counted among the failures Lisp, Scheme, and Haskell</li>
<li>this was the Scheme guy saying this...</li>
<li>I think some people cottoned to the notion that we're doing something special here</li>
<li>being a "scripting" language is not inconsistent with doing other paradigms well</li>
<li>if we can get more academic attention and stay practical at the same time, that would be good I think</li>
<li>other random interactions on forums</li>
<li>stomping on the conditional operator complexification</li>
</ul>

<p><strong>Damian:</strong></p>

<ul>
<li>things are getting better</li>
<li>took a long weekend for our 17th wedding anniversary</li>
<li>also stomped on the ternary complexification</li>
<li>thinking about Larry's new plans for comments</li>
<li>looking at the POD parser to prepare</li>
<li>I have lots of questions and feedback</li>
<li>starting to prepare for YAPC::Europe</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>Coke and c have done a lot of work in passing the Perl 6 sanity tests</li>
<li>we have only two sanity tests failing now</li>
<li>one of those is only loading the <code>Test</code> module</li>
<li>the other is handling the <code>Bool::True</code> type and returning the correct value there</li>
<li>we're very close to being able to pass 01-sanity</li>
<li>it looks like we'll have that before YAPC::NA</li>
<li>probably even before this weekend</li>
<li>we may even make it in time for the release</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>please blog the hell out of that when you get it done!</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>that may be what I spend the next couple of days doing</li>
<li>also have the new quoting syntax from S05 working under Parrot now</li>
<li>(the ability to do proto regexes and <code>:sym&lt;...&gt;</code> is still not implemented)</li>
<li>I've started converting some of the grammars over to that syntax</li>
<li>it's a piecemeal approach</li>
<li>the grammar that we're using for Perl 6 on Parrot can now converge with Larry's standard grammar</li>
<li>we don't have some of the pieces yet</li>
<li>but we won't have syntactic differences</li>
<li>it looks much nicer</li>
<li>that'll make it easier for people who want to look at the standard grammar and not deal with syntactic differences</li>
<li>finally also working with the Perl 6 light language</li>
<li>substantially easier due to Coke's work</li>
<li>he added for loops and iterators in the AST</li>
<li>that'll make building this language a lot easier</li>
<li>we'll use that to do transformations in the parse tree instead of TGE and PIR</li>
<li>that means a substantial code reduction and clarity improvement</li>
<li>this week should be a very productive week</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>whacked on Perl 6 a bit</li>
<li>sanity tests are getting close</li>
<li>I'm waiting on some of Patrick's stuff at the moment</li>
<li>also tracking down a few bugs</li>
<li>found a very nice (up to three times) optimization in Parrot</li>
<li>it's not complete, but it's decent</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>talked to Patrick about his status</li>
<li>also talked to Flavio S. Glock about Perl 6 on Perl 6</li>
<li>he's having a lot of trouble convincing people that they don't need to know lots about Parrot internals or Pugs internals</li>
<li>there are a lot of small tasks</li>
<li>I'm trying to get him to write a lot more about his work</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>we talked yesterday</li>
<li>he's interested in working together on the Perl 6 light language in Parrot</li>
<li>I'm happy to turn that over to him if that helps</li>
<li>it might be simpler than having to deal with P6 on P6 stuff</li>
<li>he's interested in getting the two projects to converge</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>that could be interesting</li>
<li>have you talked about what would make your S05 stuff more useful?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>that's on my list</li>
</ul>

<p><strong>Damian:</strong></p>

<ul>
<li>I have some concerns about the multi-line comment syntax and its relation to POD</li>
<li>it's a great language construct</li>
<li>my concern is just this interaction</li>
<li>POD has always been a layer above the code</li>
<li>you don't have to understand the code to parse it</li>
<li>this new language feature sits above the POD as well</li>
<li>it mixes the levels</li>
<li>the rationale is to comment out POD</li>
<li>you could already do that with the <code>=comment</code> block, which comments out POD in POD</li>
<li>why is it necessary to put this type of comment at a level above POD?</li>
<li>why not just a programming level construct that works as it works?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>you're right</li>
<li>I'll fix it</li>
</ul>

<p><strong>Damian:</strong></p>

<ul>
<li>oh</li>
<li>okay</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>in order to put precedence levels on tokens, the new standard grammar defines the return type on each token</li>
<li>I agree about folding them in in that way</li>
<li>the Perl 6 language ties those into <code>tighter</code>, <code>looser</code>, and <code>equiv</code> at the subroutine level</li>
<li>I'm looking for soemthing cleaner than a return type</li>
<li>Python, Parrot, abc, etc want to use the bottom-up method</li>
<li>doing it through the return type seems unclean</li>
<li>precedence and associativity really attach more to the token than the subroutine</li>
<li>it's a function of parsing</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>we are returning a token</li>
<li>we're not returning a subroutine</li>
<li>the subroutine gets written later</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>in terms of writing the grammar</li>
<li>we're defining that as mix-in return type</li>
<li>that feels funny to me</li>
<li>I could see doing it for Perl 6</li>
<li>but I want to get a better answer for the compiler tools for other language</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>the precedence has to come back with that return object</li>
<li>whether has-a or is-a doesn't matter</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I'm just looking for something syntactically nicer</li>
<li>is it the nicest we're going to get for a while, or could we look for something nicer?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>the Perl 6 grammar factors out those precedence levels into type roles</li>
<li>anything that ends up setting your match object with a retrievable precedence and associativity is fine by me</li>
<li>with a match object, you might just poke it in as named fields or something</li>
<li>it felt more like an attribute of the object itself than a match parameter</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>these are definitely attributes of the thing returned by the rule</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>to me, the current way seems like the cleanest</li>
<li>maybe we have different definitions of clean</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I'm not comfortable having 26 different types, one for each return level</li>
<li>that could just be me</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>the other view is that you have a different type for every return object if you're just mixing things in directly</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>is that an advantage of how we're doing it now?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>you end up repeating information all over the place</li>
<li>you have to mark different things at the same precedence level</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I was looking from the Parrot level, where they all end up referring to the same object</li>
<li>I'll just go with what we have now</li>
<li>I think I'd have to come up with something I like better to negotiate it</li>
<li>if I come up with something in the next couple of weeks, we can discuss it</li>
<li>my intermediate plan for people not doing Perl 6 compilers is that they'll continue to use the pointy sub syntax to identify their tokens</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>if the heavy magic is for Perl 6 to allow extensible grammars and other languages don't want to tap into that magic, that's fine</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>it's simple in Parrot to get their precedence levels bottom-up now</li>
<li>if I switch to the Perl 6 approach, their complexity goes way up</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it's sort of a duck-typing non-duck-typing issue</li>
<li>we can leave it at that for now</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>what's your sense of the completeness of the Pugs test suite?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>we should probably double it</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>depth or breadth?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>not sure</li>
<li>there are interesting things in the unspecified directories</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>there are a lot of tests written from a Perl 5 point of view</li>
<li>there probably needs to be some review</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it's a whirlpool, not a waterfall</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>Coke added a make target that pulls in the Pugs test suite</li>
<li>without adding to the repository</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>we want to avoid duplicating test suites</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>for the time being, the Pugs test suite is the official one</li>
<li>that's an explicit edict now</li>
<li>from the Parrot side, I want to go through them one-by-one and see where they match the spec</li>
<li>if they don't, we'll discuss the spec, or I'll check in the corrected test</li>
<li>after we can run <em>Test.pm</em>, we can look in the test suites in great detail</li>
<li>is the test correct?</li>
<li>what do we need to do to get this test to run?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>that will be very valuable</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>that's why I really want to have this running by YAPC</li>
<li>we can recruit more people then</li>
<li>we discussed the Parrot talks on #parrot yesterday</li>
<li>the sequencing of talks is almost perfect</li>
<li>an introduction to Parrot through the Perl 6 Compiler in several talks</li>
</ul>
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

