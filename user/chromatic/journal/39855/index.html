<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Minutes for 04 November 2009</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 04 November 2009</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2009-11-07T00:36:09</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 04 November 2009.  Allison, Patrick, Jerry, Will, and chromatic attended.</p>

<p><strong>Larry:</strong></p>

<ul>
<li>answered lots of questions on #perl6</li>
<li>speculated about a new test primitive using <code>$a [op] $b</code> to capture pertinent info on falseness</li>
<li>many minor spec clarifications this week in response to Jonathan and Patrick</li>
<li>closures in strings and regexes now documented to create a lexical scope</li>
<li><code>$_</code> now defaults to being <code>is ref</code> rather than <code>is rw</code></li>
<li>in regexes, tightened up reversed character class ranges, indirect rule failure semantics</li>
<li>deprecated the CANDO section in packages, since we don't look in packages for either methods or subs</li>
<li>in hacking, continue to check and fix tests when others check in parsefails</li>
<li>STD now gives better messages on bogus statements and backslashes</li>
<li>implemented the <code>$_ is ref</code> semantics (to the extent STD cares, which is not very)</li>
<li>tightened up error message for precedence failure within a function's arguments</li>
<li>catch names with null identifiers</li>
<li><code>.caps</code> now always returns key/value pairs in STD instead of naked values</li>
<li>now gives a better message on an unexpected <code>!!</code></li>
<li><code>.panic</code> now protects itself from infinite recursion on probe for two terms</li>
<li>various other minor bug fixes</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>asked for a list of things to work on</li>
<li>worked through a list of RTs</li>
<li>wrote a migration guide for the PCC changes</li>
<li>spending a lot of time on my studies</li>
<li>quantum computation is a fairly dense subject</li>
<li>should catch up soon, will spend more balanced time on Parrot and school</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>answered some S19 questions this week for Patrick</li>
<li>didn't answer some others; don't have answers yet</li>
<li>working on those</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>busy week for me</li>
<li>(refer to my latest journal post)</li>
<li>we're redoing Rakudo's grammar using the new tools</li>
<li>the Rakudo grammar is a generation closer to the STD grammar</li>
<li>we're getting rid of cheats in the existing code as we get closer to STD</li>
<li>Rakudo now supports lazy lists</li>
<li>it also has true metaoperators</li>
<li>previously, Rakudo had separate subs for every metaoperator</li>
<li>now it detects when you use a metaoperator and registers the code to generate that metaoperator at load time</li>
<li>we don't have to build metaoperators at load time</li>
<li>you only pay for the ones you use</li>
<li>fixed the problem of assigning to a constant; no longer permitted</li>
<li>subroutines now stored with <code>&amp;</code> sigil</li>
<li>operator subs stored under their true Perl 6 names, not the PGE-faked versions</li>
<li>most of the sanity suite runs</li>
<li><em>Test.pm</em> compiles, but doesn't run</li>
<li>it needs <code>END</code> blocks; that'll be trivial to add</li>
<li>Jonathan has class/method declarations, multisubs, type checking all working in Rakudo</li>
<li>we need to finish getting the core types in place</li>
<li>also need to parse subroutine names for operator subs</li>
<li>that should get us to compile the <code>Setting</code> again</li>
<li>we expect to pass the spectest suite to the same level as the previous version by the end of November</li>
<li>could take longer than that, but based on our experience in the past week, I'm optimistic</li>
<li>helped Geoffrey Broadwell and others switch plumage to the new NQP</li>
<li>they're eager to use the new features of the new NQP</li>
<li>working on several other tasks</li>
<li>fixing some bugs for Jonathan</li>
<li>going to write a blog post about writing a new compiler with NQP</li>
<li>probably will use Punie as the example</li>
<li>it's easy to do; already done once</li>
<li>wrote a compiler for a stack-based language during an IRC conversation last night in about five minutes</li>
<li>surprised myself by how easy it is</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>working on migrating away from Parrot's RT</li>
<li>we switched to Trac a year ago</li>
<li>it's long past time we switched</li>
<li>we're down to 95/96 tickets now</li>
<li>encouraging other people to help, so I don't have to do them all</li>
<li>eagerly awaiting Patrick's help to convert ParTcl over to the new NQP</li>
<li>still three or four Parrot segfaults blocking some effort in Tcl</li>
<li>they all have tickets</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>fixed bugs</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>in reimplementing Rakudo with the new NQP, are you pulling out the old cheats?</li>
<li>are you putting in new ones?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>we're starting the internals of the grammar from NQP</li>
<li>the <code>Setting</code>, written in Perl 6, stays the same</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>is that because the data structure returned from NQP is different?</li>
<li>the actions work on parse tree data structures, and have those changed from PGE?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>they're significantly different</li>
<li>it works on protoregexes</li>
<li>previously, the operator precedence parser was separate</li>
<li>it used to be part of PGE</li>
<li>it's more extensible now</li>
<li>we based NQP's grammar on the Perl 6 grammar</li>
<li>Rakudo's grammar started before that</li>
<li>the action methods have changed a lot</li>
<li>in answer to Jerry's question, we're refusing to put the old cheats back in</li>
<li>the new cheats go in their own directory called <em>cheats/</em></li>
<li>that documents them</li>
<li>we know we'll eventually have to take them out</li>
<li>we acknowledge that previous cheats were blockers to Rakudo's progress</li>
<li>now we come to the point where we ask if we should do the quick cheat or do things the right way</li>
<li>so far, we've decided to do the things the right way</li>
<li>hence assigning to a constant no longer works</li>
<li>we have real lazy lists too</li>
</ul></p>


<hr/>



<h2>Thanks - like the design minutes a lot.</h2>
<h3><a href="/user/thickas/">thickas</a> on 2009-11-07T02:16:34</h3>
To all involved in the production of the Perl 6 design minutes, a heartfelt thank you.
<p>
The p6 design minutes are a major attraction to where ever they're hosted (use.perl.org without them would be far less attractive).
</p><p>
I enjoy reading them since it is good to know that my favourite programming language just cannot stop attempting to take over the world.
</p><p>
Thank you !</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

