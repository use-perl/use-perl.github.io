<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Meeting Notes for 29 November 2006</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Meeting Notes for 29 November 2006</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2006-12-01T21:22:52</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 Design team met via phone on 29 November 2006.  Larry, Damian, Allison, Patrick, Jesse, and chromatic attended. These are the notes.</p>

<p><strong>Patrick:</strong></p>
<ul>
<li>things are going well</li>
<li>keeping busy</li>
<li>making good progress</li>
<li>made the new PAST implementation</li>
<li>seems to be working out really well</li>
<li>has the right primitives in the right places for the kinds of compilers I've been working on</li>
<li>Allison's given me tons of great feedback</li>
<li>I'm slowly incorporating her ideas</li>
<li>having tons of fun doing all that</li>
<li>have lots more of the sanity tests implemented for Perl 6</li>
<li>have some implemented but not checked in</li>
<li>I'm letting that simmer before I check in improvements</li>
<li>finding a couple of sanity tests that build on non-standard Perl 6 features</li>
<li>I'll do some commits to bring them in line with the latest specs</li>
<li>hope to have that working in the next couple of weeks</li>
<li>could start running the Pugs test suite then</li>
<li>might just point people to my #parrotsketch reports (<a href="http://www.pmichaud.com/perl6/ps-20061121.txt">pmichaud #parrotsketch report for 21 November 2006</a> and <a href="http://www.pmichaud.com/perl6/ps-20061128.txt">pmichaud #parrotsketch report for 28 November 2006</a>)</li>
<li>spent an hour walking PerlJam through the compiler tools on #parrot</li>
<li>I logged it; it'll go into the repository as an overview</li>
</ul>

<p><strong>c:</strong></p>
<ul>
<li>think I've basically convinced Allison of the value of a MOP for Parrot</li>
<li>will work on that a little bit more</li>
<li>I had a prototype a couple of months ago</li>
<li>I'll refresh that</li>
</ul>

<p><strong>Allison:</strong></p>
<ul>
<li>Patrick's stuff has kicked forward the design of the compiler tools</li>
<li>I've played with it in Punie; have lots of feedback on it</li>
<li>I'm just about ready to commit it</li>
<li>I have the last lingering little bits of the IO PDD</li>
<li>it's pretty much just the Parrot IO object API</li>
<li>not a big piece</li>
<li>reading a bit on Ruby metaclasses</li>
<li>we had a really good conversation about Parrot objects after #parrotsketch</li>
<li>I have a much better grasp on the scope of the problem</li>
<li>some of the most important questions</li>
</ul>

<p><strong>Patrick:</strong></p>
<ul>
<li>that's an astounding achievement</li>
<li>it's difficult to do</li>
<li>it's also very important and necessary</li>
<li>I'm ecstatic with the conversation that took place</li>
<li>that's exactly what I wanted to hear</li>
</ul>

<p><strong>Allison:</strong></p>
<ul>
<li>I expect we'll have snippets like that every once in a while</li>
<li>that seems to be really helpful</li>
<li>oh, and maybe we'll use roles instead of metaclasses</li>
</ul>

<p><strong>Larry:</strong></p>
<ul>
<li>keeping my fingers lightly on everything that's going on</li>
<li>thinking a lot about discussions on p6l</li>
<li>come to a conclusion on bags and sets</li>
<li>haven't come to a conclusion about some of the questions of closures</li>
<li>touches on the nature of dynamic versus lexical scoping</li>
<li>the relationship of those versus STM</li>
<li>some of those popped up for Parrot lately too</li>
<li>did a lot of driving last week for some reason</li>
<li>also converting some of my CJK radical dictionary programs to Perl 6</li>
<li>fairly happy with those results</li>
<li>anxiously looking forward to running those on the Parrot backend</li>
</ul>

<p><strong>Allison:</strong></p>
<ul>
<li>it would be interesting to get a list of features that you need</li>
</ul>

<p><strong>Patrick:</strong></p>
<ul>
<li>that would prioritize things</li>
<li>or turn the code into tests somehow</li>
<li>I can target those tests first</li>
</ul>

<p><strong>Larry:</strong></p>
<ul>
<li>other than the basic syntax</li>
<li>the main thing I've used is roles instead of inheritance</li>
<li>the roles turn out to be somewhat faster than inheritance</li>
<li>composition time is more direct</li>
<li>it's a hand optimization</li>
<li>in theory the compiler ought to perform it for me, but it doesn't</li>
<li>I'm not performing much fancy stuff</li>
</ul>

<p><strong>Patrick:</strong></p>
<ul>
<li>the big stumbling block for now is the angle bracket as list constructors</li>
<li>parsing that is a trick</li>
</ul>

<p><strong>Jesse:</strong></p>
<ul>
<li>how much spec change do you end up making as you hack?</li>
</ul>

<p><strong>Larry:</strong></p>
<ul>
<li>not a lot</li>
<li>we're definitely in the mode where we try to fill in the cracks that we didn't think about</li>
<li>those implicitly implied by the things that are already there</li>
<li>the earth-shaking changes tend to be few and far between</li>
<li>mostly it's just going over it to see if we're saying everything we want to say</li>
</ul>

<p><strong>Damian:</strong></p>
<ul>
<li>still struggling with time issues</li>
<li>within one feature of having the POD 6 parser released</li>
<li>likely a week or two away</li>
</ul>

<p><strong>Patrick:</strong></p>
<ul>
<li>I have a question about coordinating test suites</li>
<li>as I get close to finishing the sanity tests for the Perl 6 compiler, people will clamor for importing the Pugs test suite into the Parrot repo</li>
<li>should we clarify that somehow?</li>
<li>any advice on how to proceed?</li>
</ul>

<p><strong>Allison:</strong></p>
<ul>
<li>the answer is "yes, we can just import the test suite"</li>
<li>Audrey is okay with that</li>
<li>we need to try to get contributor agreements from people who have committed to the test suite</li>
<li>we don't have to wait to get those first</li>
<li>we do need to try to get the names of contributors</li>
<li>we'll have someone gradually work on that</li>
</ul>

<p><strong>c:</strong></p>
<ul>
<li>can we use <code>svn:externals</code> to keep them synchronized?</li>
</ul>

<p><strong>Jesse:</strong></p>
<ul>
<li>I'd hate to see them fall out of synchronization</li>
</ul>

<p><strong>Patrick:</strong></p>
<ul>
<li>I'd like to see a single test suite</li>
<li>I have difficulty seeing how to coordinate working between two repos</li>
</ul>

<p><strong>Jesse:</strong></p>
<ul>
<li>I hear that the Pugs folks are willing to do plenty of work to make that work</li>
</ul>

<p><strong>Larry:</strong></p>
<ul>
<li>even just copy and paste</li>
</ul>

<p><strong>Allison:</strong></p>
<ul>
<li>they do need to ship with stable Parrot releases</li>
</ul>

<p><strong>Jesse:</strong></p>
<ul>
<li>you can do imports or mirroring</li>
</ul>

<p><strong>Allison:</strong></p>
<ul>
<li>you don't want to require everyone to be a committer on the Pugs project to contribute to the tests though</li>
<li>even though it's trivially easy</li>
<li>Perl 6 and Parrot are two independent projects</li>
<li>maybe we need an independent repository for the Perl 6 test suite</li>
<li>neither Pugs nor Parrot</li>
<li>make sure that the infrastructure code for both call into the implementation-agnostic test suite repository</li>
</ul>

<p><strong>Jesse:</strong></p>
<ul>
<li>I worry about what that'll mean for commit bits about the independent test suite</li>
<li>Pugs does have mirroring into svn.perl.org</li>
</ul>

<p><strong>Patrick:</strong></p>
<ul>
<li>maybe I don't understand how it works</li>
<li>if I'm working in Parrot's Perl 6 and I need to add a test, what do I do?</li>
<li>do I svn up for Pugs, add a test, commit a test, then svn up for Parrot?</li>
</ul>

<p><strong>Jesse:</strong></p>
<ul>
<li>would you object to always using the tests directly from the Pugs repository until something sane gets worked out?</li>
<li>it's not a discussion we can make a decision on here now</li>
<li>it has to involve the Pugs people too</li>
</ul>

<p><strong>Allison:</strong></p>
<ul>
<li>that's fine</li>
<li>I'd eventually like the test suite to be pure Perl 6</li>
<li>or at least abstracted from any implementation infrastructure</li>
</ul>

<p><strong>Jesse:</strong></p>
<ul>
<li>seems to be a reasonable goal once it's not a moving target</li>
</ul>

<p><strong>Allison:</strong></p>
<ul>
<li>don't wait for that to happen!</li>
</ul>

<p><strong>Jesse:</strong></p>
<ul>
<li>I don't want to yank the Pugs test suite, make it the official test suite, and then make it hard for them to contribute to it</li>
</ul>

<p><strong>Allison:</strong></p>
<ul>
<li>oh, absolutely not</li>
</ul>

<p><strong>c:</strong></p>
<ul>
<li>we have a repository for the specification documents</li>
<li>why not put the test suite in that repository?</li>
<li>not everyone can commit to the specs and Synopses, but that repo</li>
</ul>

<p><strong>Allison:</strong></p>
<ul>
<li>how about this?</li>
<li>Pugs remains for now the primary repo</li>
<li>all commits to there</li>
<li>the Perl svn repo gets a mirror of those tests (not the full Pugs mirror)</li>
<li>we work on the tests to remove any code specific to a particular implementation</li>
<li>get the tests generic when we can</li>
</ul>

<p><em>general agreement</em></p>
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

