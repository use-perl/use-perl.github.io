<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Minutes for 14 January 2009</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 14 January 2009</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2009-01-24T02:21:50</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 14 January 2009.  Larry, Allison, Patrick, Will, Jerry, Jesse, Richard, and Nicholas attended.</p>

<p><strong>Allison:</strong></p>

<ul>
<li>spent the week working on pumpking stuff again</li>
<li>merged in several branches that I and others had been working on</li>
<li>did a lot of patch review</li>
<li>planning on doing the migration to parrot.org today</li>
<li>I'd said today because we had three days where we could figure it out; what works, and what doesn't, and delay it if necessary</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>been doing spec work, and answering questions</li>
<li>things are hectic at work right now, so I don't have a lot of time for my true vocation</li>
<li>keeping my nose above water on the mailing lists and IRC channels</li>
<li>removed the old <code>.contains</code> method, that was standing in for the .exists modifier on hash lookups in a hash.</li>
<li>mostly answering questions and hoping that someone else will clarify the specs for me, when I answer questions about functions and pod.</li>
<li>trying to use my spec writing time for clarifying things that other people can't do themselves</li>
<li>I have trips planned in April</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>worked on getting the branch merged in that refactored variable handling in Rakudo</li>
<li>got it done on Friday. It worked out well.</li>
<li>... though not for people who were relying on misfeatures of Rakudo</li>
<li>I've been helping people by pointing out ways to fix it</li>
<li>it's a stronger basis from which to continue</li>
<li>passing 60 more tests than this time last week. 6233 now passing.</li>
<li>we lost 30 when we merged the branch, but gained 90 back, so a net plus for the week</li>
<li>I've closed a bunch of tickets, or put a note on that we can close when we have a test</li>
<li>done over over 2 dozen. Still more that could be closed like that.</li>
<li>it just takes time to find them. It feels good closing tickets that way.</li>
<li>I've also been helping others</li>
<li>I was going to read PGE refactors, but now figuring out what to do with
Rakudo repository is a higher priority</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>it doesn't matter if Rakudo's repository moves, just that it's not in the same repository as Parrot.</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I'd rather not move it and then move it straight back.</li>
<li>there have also been some discussions about moving Rakudo to git</li>
<li>I don't want to go to the community and say "Oh, this week it's here" and then the next week "Oh this week's it here", and have the documentation on where to get Rakudo be constantly out of date</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>let's get you cc'd on the list discussion with the admins</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>we will now be figuring out a Rakudo plan for this so that we can notify the Rakudo community about the changes coming up</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>I have one task assigned for Parrot this week -- rip out all the deprecated items. There are about half a dozen left; a depressing number.</li>
<li>trying to get volunteers to look through and remove what is just a hack and slash</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>nothing to report</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>I had dropped out of the calls about mid way last year because I didn't feel that I had anything to contribute</li>
<li>before I dropped out around June 2008, we did a huge amount of TPF work on how it would improve things until I had things to say</li>
<li>then I backed off, at least partly because in July 2008 my wife had a baby</li>
<li>in the past month or so, I'm coming back on the radar</li>
<li>we have a 5.10.1 release grant going on right now</li>
<li>Dave working on it, Nick the grant manager</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>I watch him commit things. I don't know more more detail than that, as I've not communicated with him recently.</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>even an revised expected release date would be good</li>
<li>when I was talking with him setting it up it was "late Jan, early Feb"</li>
<li>would be good to know if there is updated information</li>
<li>Also Hague grants. A lot of good things are happening about that.</li>
<li>I took a trip last month to New York to see Ian, to say thanks, and give him an update. It was an excellent meeting. He is happy with the progress going on, feels respected as a donor, and is happy with the amount and level of communication.</li>
<li>I'm looking into the legal details of splitting apart what is Parrot and Rakudo. Drawing up the assignment agreement with Roberta (the TPF lawyer)</li>
<li>TPF got a nice donation from booking.com ($50,000) booking.com asked TPF to be vocal. Tell the world.</li>
<li>they did not put a specific requirement on the donation. They said "we hope to support Perl 5.10 with this", but not the level of surety on it that I had with Ian on his donation.</li>
<li>I'm sure that some 5.10 support will come out of that, but after that we have a general donation to work with. Could well be part of theÃÂ grants through the grants committee. There is a growing desire for funding there. Even a couple of quarters there would not exhaust it, so we will figure out other good ideas for what to do with it.</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>as mentioned last week, it's time for me to step back as project manager type person. Do we want a replacement project manager, or is it more a community organiser type person?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>all I did was write code last week, so I didn't have time to think</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>we can't be having that!</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>I think we're okay without a project manager</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>as long as everyone is okay with that, I'm happy not to foist someone else upon you</li>
<li>I will update the world on my blog next week. It's likely to get flameage just because it contains the term "Perl 6".</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>"Oh no!  Perl 6 is dead. It doesn't have a project manager!"</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>I wonder if I can get to Reddit number one on that</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>maybe "The Perl 6 implementation efforts are so strong right now they're basically self managing to good effect."</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>I might pop by the call in the future to see how you are</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it would feel much better if you went out with a major rant</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>it is traditional</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>it should be "career limiting"</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>rant that the implementations are doing so well without your input</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>and "I'm just not useful any more"</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>and rant how you've tried to kill it but it's [just too strong to die]</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>I've enjoyed this. It's been fun and interesting, and I hope it's been helpful. At times it's been maddening, but that's true of any project.</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>thanks for everything that you have done</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>thank you for actually making it happen</li>
</ul>

<p><strong><p><em>Missing a discussion on <code>.trim</code> and gilding the lily.</em></p>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>if I wanted PHP I know where to find it</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>wasn't aware that <code>.trim</code> is not a Perl 5 built in</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>PHP has 3000+ functions, so we have a way to go yet</li>
<li>seeking to strike the right balance</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>my question for the day "To what extent do unary hyperoperators descend into containers?" I think that they do, to some degree.</li>
<li>also the exact definition of what <code>.perl</code> means.</li>
<li>been doing a lot of thinking on that</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>that's a good question to be thinking about, from a Rakudo implementor's position</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>that's why I might appear to be ignoring mailing lists</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>can I <code>.perl</code> a sub?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>you won't get the exact the same object back</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>but a representation that compiles to the same sub?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>I think it would be good if we could</li>
<li>but at some point a lot of businesses are going to say "Oh, you just made it very easy to reverse engineer my sacred code".</li>
<li>I don't think we can guarantee it, but whether it's strongly encouraged, but turn offable, or similar</li>
<li>at least the types of code that are idempotent, or otherwise stateless such that they can be easily reconstituted</li>
<li>in some ways we already have to be able to do that to save the state of the current language, as we have to save the current grammar and all the methods on it, to do prelude snapshots, or do an eval, without having to rebuild all from scratch</li>
<li>I don't know where the balance point on that is</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>sounds good. Aiming at the point I'm thinking of.</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>need to think about it</li>
<li>do what's reasonable. not do doing something that will set the whole project back a whole year</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I mailed the list about pairs. Didn't spot a reply.</li>
<li>if I iterate over a list of pairs, are the values of those pairs...?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>those are references back to the original</li>
<li>likewise pairs coming out of a hash should be references</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>by "References" you meant the values, as the keys are immutable?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>yes</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>Tcl question</li>
<li>for Parrot, I was going to have an attribute to save the high level source. It was going to return the text of the sub and let the user recompile it</li>
<li>this is sane?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I had that as a fallback, but wasn't what I really wanted to do</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it's a good degenerate solution as a minimal solution that can serve as a backstop</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>but that would mean that my PBC files would have the entire source code in them</li>
<li>hence my question about <code>.perl</code> and subs was "Do we have to do that?"</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>there's another language out there that needs to do that</li>
<li>we could share infrastructure</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>you run into the Deparse problem</li>
<li>what you see is after the optimiser got at the code</li>
<li>it might be what you want, but it's not the original source</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>is it possible that the spec could say that? The default is a sane default?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>you're forgetting that one of the Perl 6 mottoes is that it exists to torture implementation on behalf of the users</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>not so much that it never happens</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>who defines that? I might have quit back in 2004.</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>with a rant preferably. :-)</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>I've finished most of the technical details of S19. It needs a re-write.  It doesn't read well.</li>
<li>as far as a working copy goes (from my perspective, as the implementor) it's in a good place</li>
<li>there may be some ambiguities, but I've moved onto the implementation</li>
<li>next deliverable is a set of spec tests</li>
<li>to implement them properly I'm building a test harness, so I'm coding before I can write the tests</li>
<li>eager parsing,  eager meaning <code>.*?</code>, as opposed to greedy, which would be <code>.*</code> behavior</li>
<li>no one likes the terminology "eager"</li>
<li>pulled it from S19</li>
<li>didn't want to define something as non-greedy</li>
<li>found "eager" in S5.</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>especially as in the rest of the language "eager" means "greedy"</li>
<li>"frugal"?</li>
<li>"parsimonious"?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>that was the term Mastering Regular Expressions uses</li>
<li>lazy would be bad also</li>
<li>yes, it's called Lazy</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>probably okay. Eager : Lazy :: Greedy : Parsimonious.</li>
<li>that is how the rest of the language treats lists. "Eager" vs "Lazy".</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>in the context of regular expressions, we'd call that <code>?</code> qualifier lazy</li>
<li>the association doesn't immediately come to me</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it can be implemented with lazy lists. That's how <em>Cursor.pm</em> works.</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>will take a stab at changing POD</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I'm going to be in S5, so I could</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>if Jeff Friedl uses that term too, that's good</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>noticed that Larry weighed in on some issue relating to preludes that I'd mentioned in S19, so it looks like that part has been approved</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>well, I suggested it in the first place.</li>
<li>I don't know if it makes *sense*. :-)</li>
<li>maybe an alternate prelude doesn't make sense</li>
<li>I don't think of preludes as actually preludes -- instead they're the surrounding lexical scope</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>really we're waiting on the implementation so that we can see how it works in practice</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>I'm thinking of the same way an eval works</li>
<li>the outer language is serving as a prelude for that eval</li>
<li>it's the same thing, except that the current language can be frozen into the file, and then you're effectively starting up again from there</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>it's layers, all the way down</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>well, all the way up</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>the core compiler does an eval of the prelude, which brings a bunch of things into scope, which then does an eval of your code</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it's more the parse of the eval. We use this to implement <code>-n</code> and <code>-p</code></li>
<li>it's not eval in the sense of recompiling each time through the loop.</li>
<li>it's that eval does a sub-parse. That's what needs to be generalised</li>
<li>Make good use of the ability to wrap compilations in one or more outer contexts. Whether we call it, prelude, or outer-lude</li>
<li>what's the opposite of an interlude?</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>environment variables also</li>
<li>I considered a switch which let you set an environment variable</li>
<li>this would let you do it on the same line for shells that don't provide such behavior</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li><code>rn</code> had one of those</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>same as adding it in the prelude</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>except that environment variables are scoped dynamically</li>
<li>another question about environment variables, which are essentially global</li>
<li>can a dynamic scope override them?</li>
<li>how easily within perl 6 code, just for that dynamic scope</li>
<li>we speculated about connections between contextual variables and environment variables, or the globals</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>I was under the impression that something was decided, and then changed</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>we can give that appearance :-)</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>thank you everyone for the last few years. Enjoy your call next week.</li>
</ul>
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

