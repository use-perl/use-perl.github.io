<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Minutes for 14 May 2008</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 14 May 2008</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2008-05-21T20:01:38</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 14 May 2008.  Allison, Richard,
Patrick, Jerry, Will, Nicholas, and chromatic attended.</p>

<p><strong>Allison:</strong></p>

<ul>
<li>working on the exceptions implementation for the concurrency branch</li>
<li>also the Parrot foundation</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>trying to drum up funding for the Perl 6 paupers</li>
<li>something's happened along these lines</li>
<li>an anonymous member of the Perl community brokered a deal with a philanthropic business acquaintance</li>
<li>I put together a pitch describing what we could do productively with a donation</li>
<li>the money arrived yesterday</li>
<li>half of it will go toward supporting Perl 6 development in a variety of ways</li>
<li>mostly direct developer granting, like Patrick's grant</li>
<li>the other half is for TPF use to improve organizational capabilities internally</li>
<li>there's a lot more potential for funding</li>
<li>orders of magnitude more</li>
<li>that'll take us over the finish line</li>
<li>though TPF is not a paragon of activity and organization</li>
<li>we'll use it to improve to make us more credible to the rest of the world</li>
<li>and potentially more developers</li>
<li>want to go from a handful of grants like this to something larger</li>
<li>I'll spend the next week or so making plans</li>
<li>we'd like to start getting some of that out over the next few weeks</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>outstanding work</li>
<li>you'll go down in history for this</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>will they money go out through the grant committee?</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>I don't think so</li>
<li>this will be as directed by the board</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>is there a PR plan for spreading this news?</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>I hadn't thought of that</li>
<li>I'd like ideas for helping with that</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>it's easy to post to web sites</li>
<li>it might be good to give brian d foy a heads up for TPJ, too</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>I'm trying to do similar things for Perl 5</li>
<li>this particular donor had a specific interest in Perl 6</li>
<li>the half of this we're using to improve TPF will help Perl 5 as well</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>I hope the positive feedback will encourage other people to do the same for Perl 5</li>
<li>presumably they're already using it and want to contribute back</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>busy week here</li>
<li>focusing specifically on Rakudo</li>
<li>helping other people hack themselves</li>
<li>added fat-arrow parsing, so now that works for passing named parameters</li>
<li>added signature default values</li>
<li>no more crazy MMD stuff to get that working</li>
<li>worked on the test suite</li>
<li>started at the beginning, Synopsis 2 cleanup</li>
<li>making notes for others on things to do and not to do</li>
<li>tried to close out old tickets, did about 18 Parrot-only tickets</li>
<li>some updates to PGE to bring in S05 changes</li>
<li>Tene added placeholder parameters to Rakudo</li>
<li>surprised and pleased me to see that</li>
<li>he found a problem with hashes versus arrays in PCT</li>
<li>I did quite a bit of work to improve PCT code generation</li>
<li>substantial improvements there</li>
<li>generates much nicer code</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>there are some speed improvements there</li>
<li>they're hard to measure, but they're there</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>we're creating many fewer elements there</li>
<li>especially in places like loops</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>we don't have many long-running benchmarks that would demonstrate that</li>
<li>if we did, you'd really notice it</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>it's been in the back of my mind since I started writing PCT</li>
<li>it makes for nicer looking PIR code, if you like PIR code</li>
<li>now I'm writing some journal posts to describe this to the wider community</li>
<li>I don't know if anyone saw it, but there was a Twitter post that singled out TPF for its organization for Google's Summer of Code</li>
<li>Jerry should get some credit for that for Parrot</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>I've talked to Eric Wilhelm a lot over the past few weeks</li>
<li>he's doing a great job</li>
<li>this has been his full-time job over the past few weeks</li>
<li>that's why we're not always this organized</li>
<li>very seldom do we have someone who can make such a thing a full-time job</li>
<li>simple matters of organization often aren't</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>worked with Allison on research for the Parrot Foundation</li>
<li>she interviewed a lawyer to help set up the incorporation</li>
<li>work has been lighter this week</li>
<li>spent more time on Parrot and Perl 6</li>
<li>haven't had any significant commits</li>
<li>began to rewrite mod_parrot's configure system for flexibility and portability</li>
<li>hope to get it compiling on Windows</li>
<li>shouldn't be difficult</li>
<li>Patrick and I discussed making HLL type mappings available in IMCC</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>PIR doesn't seem to have a way of finding HLL type maps</li>
<li>PCT needs to move something from a register into a PMC</li>
<li>equivalent types, as far as the HLL is concerned</li>
<li>there doesn't appear to be a way to do that</li>
<li>without the HLL person repeating the mappings in PIR</li>
<li>violates DRY</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>I think I see a way of implementing that</li>
<li>the major problem is that, internally, the PMC types are still type IDs</li>
<li>not string names</li>
<li>I might have a short-term fix</li>
<li>the long term is to get rid of type IDs internally</li>
<li>it's easy enough to expose that through <em>interp_info.pasm</em> or something</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>let me know if you need help</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>also remember that class names are not always strings</li>
<li>they are now, but the won't always be</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>I'll try to unstick the type ID removal branch later this week</li>
<li>mostly I've been doing queue management, which is not exciting</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I'm excited about seeing the number go down</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>we've closed an enormous number of tickets in the last week</li>
<li>yet more tickets keep coming in</li>
<li>what's wrong with these users?</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>spent some time closing bugs and applying patches</li>
<li>need to go through open patches and make sure they're all closed</li>
<li>probably won't make much of the Bug Day</li>
<li>backported yada yada yada operators to Perl 5, waiting for someone to apply them</li>
<li>managed to speed up the Rakudo-building benchmark by about 40% yesterday</li>
<li>hope to get onto the concurrency implementation soon</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>talked to Daniel Ruoso and stuck his response on the wiki</li>
<li>otherwise busy with a potential move</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>Jerry, are you still planning to reimplement abc to use the language shell tool?</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>yes</li>
<li>I plan to update the tool to include an operator precedence parser</li>
<li>not sure if I should couple those changes</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I'm thinking of updating the tutorial</li>
<li>kjs's tutorial is great</li>
<li>I just want another one</li>
<li>I don't want to step on your toes</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>I plan to make my changes</li>
<li>then apply the revised tool to abc</li>
<li>I'll turn my attention to that next</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>we should knock that out pretty quickly</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>what's your plan for this release?</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>are you in a position to type things from this release to last release?</li>
<li>or should I ask Patrick?</li>
<li>you've sped up a lot of things</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>Rakudo gets bigger over time</li>
<li>there's quite a bit more code there than there was last month</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>there are a couple of ways to do that</li>
<li>we could plot the ratio of time per feature over the release numbers</li>
<li>that's not too difficult</li>
<li>otherwise, we could take the current PGE/PCT/NQP/Rakudo and run it on this month's release versus last month's release</li>
<li>or run last month's toolkit on this month's Parrot</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I can do that</li>
<li>already thinking of ways to do that</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>Damian was talking about negative time last year</li>
<li>you guys are doing it!</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>the big improvement is likely in the new garbage collector</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>Andrew and Patrick should have a race</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>longest token matching will help languages</li>
<li>that's on my agenda for later in the summer though</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>remember that these are only Parrot-level improvements</li>
<li>we haven't even started on PIR-level improvements</li>
<li>because we can't profile it easily yet</li>
<li>I suspect there are plenty of trivial 10 - 20% optimizations we'll find in hotspots there</li>
</ul></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

