<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Minutes for 11 June 2008</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 11 June 2008</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2008-06-27T01:01:27</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 11 June 2008.  Larry, Allison,
Patrick, Jerry, Jesse, Nicholas, and chromatic attended.</p>

<p><strong>Larry:</strong></p>

<ul>
<li>slowly improving</li>
<li>seems like I'm getting smarter, but appearances can be deceiving</li>
<li>my brain's not really back to a lot of spec work yet</li>
<li>continuing to refactor and debug the gimme5/STD5/cursor5 galaxy of pain</li>
<li>making progress on that</li>
<li>parses all of <em>radix.t</em>, though I'm not sure it's doing that correctly</li>
<li>starting to make progress on parsing <em>STD.pm</em> itself, though it's not getting far</li>
<li>hope to be able to parse most of <em>STD.pm</em> using <em>STD.pm</em> by my talk next week</li>
<li>my future plans are to switch over from using lists (which cannot easily be lazy in Perl 5) to using lazy scalar iterators</li>
<li>that'll probably make the produced Perl code look a little prettier too</li>
<li>unless your idea of prettiness is a lot of nested <code>map</code> statements</li>
<li>going to Chicago on Friday</li>
<li>giving a talk a week from tomorrow at Google in Chicago</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>things are going very well</li>
<li>Rakudo and PCT now support the <code>return</code> statement</li>
<li>hooks for the other types of exceptions implemented</li>
<li>have a version of <code>fail</code> implemented, but it fails in certain cases</li>
<li>want to clean that up</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it fails to fail?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>it fails badly</li>
<li>mostly need to find where we did things the Parrot way and layer the Perl 6 way on there instead</li>
<li>fixing little bugs here and there to get more spectests running</li>
<li>wrote my own small version of Test::Harness to get the output results in a format that makes it easy for us to chart our progress</li>
<li>this one tells us how many we passed</li>
<li>running a test right now to find out where we were this morning</li>
<li>essentially, we're passing around 700 spec tests this week</li>
<li>last week we were passing 624</li>
<li>we may be quite a bit more than 700</li>
<li>all of this will show up in a journal post in the next day or two</li>
<li>writing code distracts me from journal posts, or vice versa</li>
<li>no other distractions</li>
<li>looking forward to YAPC and the hackathon</li>
<li>putting together a list of things to work on at the hackathon</li>
<li>one big thing is how people can help us with the spectests</li>
<li>doing more thinking about how to update PGE to do protoregexes and longest token matching</li>
<li>seems doable this summer</li>
<li>maybe between YAPC and OSCON</li>
<li>tomorrow is Jonathan's Rakudo day</li>
<li>we'll do lazy lists in Parrot</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>applied a few patches</li>
<li>answered some questions</li>
<li>we set up the Parrot Foundation, a new non-profit for supporting Parrot in specific</li>
<li>assigned directors, incorporated, set up a bank account, will announce at YAPC and OSCON</li>
<li>involved in the logistics of setting that up and so on</li>
<li>finalized the purchase of parrot.org</li>
<li>we'll put up a site there as soon as the domain transfer happens</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>what are you transferring over?</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>the Parrot milestone funds</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>are you getting your own infrastructure for this, or will it run on perl.org?</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>need to talk to TPF about that</li>
<li>just met with Auzon about the Perl 6 tests</li>
<li>have some questions for discussion</li>
<li>Kevin Tew's back on track with his project as well</li>
<li>fighting some PGE brainos</li>
<li>#parrot helped him move on</li>
<li>he can parse a 6000 line C++ header file in a minute and a half</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>fixing some bugs</li>
<li>still working on the string system</li>
<li>made some improvements there</li>
<li>cleaned up some grotty code, more to go</li>
<li>might look at the string PDD after the hackathon</li>
<li>continue to mentor Andrew's GC work; he's on the right track and I have high confidence in him</li>
<li>helped Kevin profile his code</li>
<li>found some spots in PGE that could use optimization</li>
<li>Patrick could put in a couple of hours and get some improvements for everyone</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I spent a couple of hours on that this morning</li>
<li>too much backtracking</li>
<li>found some other stuff I want to clean up in the process</li>
<li>we'll get more speed from longest-token matching though</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>and a better garbage collector, Parrot-side</li>
<li>but a 20% improvement now is a good thing</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>also for people who aren't using protoregexes and such</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>the <code>xor</code> problem is between whether you treat them as binaries or list precedence</li>
<li>do you think treating them as lists makes optimization more effective?</li>
<li>it's not the only thing in that precedence level</li>
<li>if we treated them all as list precedence, does that open up more general optimization improvements?</li>
<li>I'm getting the feeling that the answer is yes</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>PGE's issue is implementation</li>
<li>with eleven alternations, it stored ten backtracking points</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it's simpler to implement short-circuit logicals as binaries</li>
<li>implementing them as a list operator might not buy you anything</li>
<li>but they degrade to left-associative anyway, if the operator changes</li>
<li>I could change all of those left-associative ops to list-associative with no change in the binary case</li>
<li>I'm going back and forth on that for <code>infix:xor</code></li>
<li>should they have the useless semantics of parity?</li>
<li>it's a tradeoff</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>if they were listops, I don't think we'd get that big an improvement</li>
<li>it wouldn't bother me if it were there</li>
<li>it's not hard to implement them that way</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>the listop could implement them in terms as binary, if it wanted</li>
<li>that's fine</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>having the <code>one</code> sense would have been really handy</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>you have an explicit <code>one</code> now, but that's just junctions</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>and it doesn't short-circuit</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>if you have one that's true, tell me which one</li>
<li>that's probably more useful</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I could do parity easily</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>would be nice to restart the Perl 6 list summaries</li>
<li>the Perl 5 summaries have produced some productive work</li>
<li>David Landgren spends about a full day of work on the summaries every week</li>
<li>the Perl 6 lists have a bit more traffic combined than p5p</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>we've had trouble finding anyone interested in doing the summaries last time</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>there's also the huge problem of trying to summarize IRC</li>
<li>David's reaction was "ugh"</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I'll try this and report it in the next two weeks</li>
<li>I haven't been reporting on my progress as frequently as I'd like</li>
<li>weekly might be better, especially given our velocity</li>
<li>I prefer that someone else does the summaries</li>
<li>getting more people to participate is more important</li>
<li>and it's easier for someone involved to summarize than someone who isn't</li>
<li>I'll look for some interested people at YAPC</li>
<li>if that doesn't happen, I'll set aside a day a week to write a summary report</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>I'd happily pay in beer or whatever for that</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>conference season is a great time to find someone</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>if we don't, I'll make that one of my deliverables for my next grant, if I get one</li>
<li>one question from the SoC meeting before this</li>
<li>how do we handle design questions?</li>
<li>I feel badly dumping these on Larry, but I don't know where else to go for resolution of these things</li>
<li>what should my approach be?</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>I treat p6l as a queue of things I ought to have thought about</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I'll start posting to p6l then</li>
<li>I was thinking of p6c, but if p6l works better, I'll use that</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>p6c tends to read to me like a lot of implementation things my eyes glaze over</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>we'll use p6l from now on</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>you get a little more noise from the theory folks at times</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>if things still get Warnocked, I'll bring it up again</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>that's one reason we have a weekly phone call</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>speaking of that, no phone call next week while everyone's at YAPC</li>
</ul>
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

