<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Minutes for 12 November 2008</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 12 November 2008</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2008-11-14T07:10:32</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 12 November 2008.  Larry, Allison, Patrick, Jerry, Will, Nicholas, Jesse, and chromatic attended.</p>

<p><strong>Allison:</strong></p>

<ul>
<li>we have two sponsors now, BBC and ActiveState</li>
<li>starting conversations with a few others</li>
<li>it helps to have two already</li>
<li>mainly focused on the IO milestone milestone</li>
<li>will merge back in two stages</li>
<li>stage one is getting the new IO system working</li>
<li>you can use it as an object</li>
<li>adds just one test file</li>
<li>I can have all of the different architectures report any failures with that test file</li>
<li>will merge in the bigger change later</li>
<li>though it's a simpler change</li>
<li>replace calls to the existing system with calls to the new system</li>
<li>hope it'll be a smooth transition</li>
<li>fixed up some calling conventions stuff last night for Andrew Whitworth</li>
<li>some pieces weren't working for him</li>
<li>committed a small patch to fix them, and explained it</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>the first Parrot Developer Summit is this weekend</li>
<li>for people who don't know about it, it's too late to attend</li>
<li>there may be a dozen or so of us meeting</li>
<li>intent is to hammer out a roadmap for 1.0</li>
<li>lots of questions on the channel and mailing lists about when there will be Parrot 1.0</li>
<li>good, I suppose</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>Christmas Eve!</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>they've given up asking about Perl 6</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>good!</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>I don't have an answer yet</li>
<li>but our work this weekend will let us decide what we need to release 1.0</li>
<li>also had a grant approved</li>
<li>designing and implementing Perl 6 command line syntax</li>
<li>already started the work</li>
<li>researching other dynamic languages and compilers</li>
<li>most languages have just grown their syntax over time</li>
<li>it's kind of messy</li>
<li>have put together some ideas</li>
<li>discussed them with Larry</li>
<li>expect that to continue, until I have a design document that I can send for review</li>
<li>then I'll move on to implementation</li>
<li>all laid out in the grant proposal on TPF's site</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>expect me to harass you occasionally</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>things are going well</li>
<li>lots of additions to Rakudo this week</li>
<li>I fixed the string semantics</li>
<li>classes can override how objects report stringification</li>
<li>Jonathan, Jerry, and I fixed Rakudo's container semantics</li>
<li>it does references correctly</li>
<li>fixed a lot of bugs and closed a lot of tickets</li>
<li>Jonathan started and I finished getting pointy blocks to work on flow control statements other than <code>for</code></li>
<li>waiting for answers on <code>repeat while</code> and <code>repeat until</code></li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>me too</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>when one of us gets the answer, he should let the other one know</li>
<li>completely refactored Rakudo's junctions</li>
<li>worked on the assignment metaoperators, such as <code>+=</code> and <code>*=</code></li>
<li>work correctly on protoobjects</li>
<li>I'm refactoring those now</li>
<li>will cause regression in one test that doesn't work right anyway</li>
<li>Rakudo is now over the 4500 passing test mark</li>
<li>we should get quite a few more over the next week or so</li>
<li>Jonathan and I will continue closing things out</li>
<li>worked more on the design of lexicals</li>
<li>continuing to update the document on my website</li>
<li>need to figure out autoclose in my head</li>
<li>Jonathan and I will hack on that this weekend</li>
<li>I could use his expertise in Parrot internals</li>
<li>also had a grant approved</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>went to the hackers conference this last weekend</li>
<li>high point was teaching Don Knuth how to decode his Korean email</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>I thought he had no email!</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>refactored the compile-time variables</li>
<li>there are no version-specific ones remaining</li>
<li>now <code>$?OS</code>, <code>$?DISTRO</code>, and <code>$?VM</code> variable</li>
<li>generalized matching against pairs to call a method corresponding to the name on whatever the object is, matching against whatever the argument is</li>
<li>sort of inside out as to what named arguments in <code>BUILD</code> routines do</li>
<li>refactored the <code>:pair</code>-named methods</li>
<li>they were kind of grungy anyway</li>
<li>thinking about whether strings ought to have methods like <code>.r</code> and <code>.w</code> and <code>.x</code></li>
<li>or whether you ought to coerce to some sort of File type</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I lean toward coercion</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>everyone does</li>
<li>I just want to think it through</li>
<li>decided that <code>.perl</code> isn't special to junctions</li>
<li>if you use it on one, it autothreads</li>
<li>if you stringify that junction, it produces a result as if you'd done <code>.perl</code> on the whole junction</li>
<li>stringification on a junction produces Perl-style syntax</li>
<li>if you smart match a hash against a pair pattern, it tests the key and the value for matching</li>
<li>factoring out various amounts of boilerplate from the Perl 5 emitted code</li>
<li>simplifying code</li>
<li>fixed bugs with node wrapping</li>
<li>confused people looking at ASTs</li>
<li>chopped out TRE</li>
<li>discovered that my stupid LTM emulation ran twice as fast as the TRE code</li>
<li>that was eye-opening</li>
<li>STD now recognizes <code>::T</code> as defining a valid type for later in the same scope</li>
<li>did some work to set up the infrastructure for STD to handle lexical scopes</li>
<li>nested pads</li>
<li>should have declarations in the right scope</li>
<li>part of the motivation</li>
<li>besides better error handling</li>
<li>set up a mechanism to define a prelude</li>
<li>freeze the lexical environment for the prelude</li>
<li>then slurp that up into STD</li>
<li>mundane functions and operators will probably end up there</li>
<li>have most of an implementation of a trie engine</li>
<li>that'll replace my stupid LTM</li>
<li>should evolve eventually into a full DFA</li>
<li>almost works</li>
<li>should run faster</li>
<li>and cut down on the on-disk cache</li>
<li>for various definitions of "should"</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>mostly fixing bugs</li>
<li>trying to keep blockers from blocking people</li>
<li>adding a little polish here and there to make people work better</li>
<li>thinking about our release process post 1.0</li>
<li>will talk about that this weekend</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>spending most of my time deleting things from Parrot</li>
<li>ripping out deprecated features</li>
<li>everything that's in there, some goes back to 0.5</li>
<li>but everything in there now we can rip out before the next release</li>
<li>sad that I'll miss the summit this week</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>I'm the new grant manager for Dave Mitchell doing 5.10.1</li>
<li>announced the end-of-life for 5.8.x</li>
<li>surprised that no one told me I couldn't say that</li>
<li>if the Parrot Foundation is capable of raising money from people, how come TPF isn't?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>I tried to do something similar for TPF four years ago</li>
<li>it was very uncomfortable for the Perl community</li>
<li>lots of pushback</li>
<li>they wanted guarantees that no company would have control over the development of Perl</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>no one has control over the development of Perl!</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>also the amount of money required for Perl 5 is much larger</li>
<li>it's not about money for Parrot</li>
<li>four memberships for Parrot is enough to push toward 1.0</li>
<li>we're a small project</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>have Perl 5 releases been sponsored before?</li>
<li>seems like a good thing</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>last week in China for the Beijing Perl Workshop</li>
<li>it was a lovely workshop</li>
<li>chatted with a lot of people about the state of Perl 6 and how they could get involved</li>
<li>offered to make lots of introductions</li>
<li>haven't taken anyone up on that yet</li>
<li>the Perl problem in China is that they're having a hard time finding competent Perl hackers</li>
<li>people are afraid to learn Perl because that'll make them unpalatable to the workforce</li>
<li>universities only teach C</li>
<li>people study on their own to learn C# and Java</li>
<li>most of the hiring firms really want C# and Java from their developers</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>in Rakudo, over the past week, I'm seeing lots of segfaults in different places</li>
<li>suspect it might be something that Jonathan and I did</li>
<li>have no clue where to start looking</li>
<li>it shows up in the regression suites</li>
<li>can point you to specific instances of things that fail</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>I can help narrow it down to PIR if you have a specific test that fails</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>they really float around</li>
<li>showed up in the assignment tests this morning</li>
<li>a couple of revisions later, they don't show up later</li>
<li>only some of them does <code>-G</code> help</li>
<li>the weird one this morning</li>
<li>if I run it from Parrot with the command line, I get a segfault</li>
<li>from the test harness, I don't</li>
<li>that seems backwards</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>the test harness has more strict flags turned on</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>at one time, it used a different runcore</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>if there's a short PIR test case, we may be able to do a binary search</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>it's hard to give a short PIR case</li>
<li>the segfault moves around so much</li>
</ul></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

