<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Minutes for 04 June 2008</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 04 June 2008</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2008-06-11T22:17:56</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met on 04 June 2008 by phone.  Larry, Allison, Patrick, Jerry, Jesse, and chromatic attended.</p>

<p><strong>Jerry:</strong></p>

<ul>
<li>things are going well with GSoC</li>
<li>Kevin's on vacation, and due back tomorrow</li>
<li>he'll be getting to work then</li>
<li>the other students seem to be working according to plan</li>
<li>we'll start using the Pugs Trac to track additions to the Perl 6 test suite</li>
<li>a place to request new tests</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>is there a really good reason to use two different ticketing systems?</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>it's already there and already has a category for Perl 6 tests</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>already in use for Pugs</li>
<li>and the Pugs repo already hosts the tests</li>
<li>Rakudo still uses RT</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>and there's nothing Perl 6 spec-related I know of that lives in any other ticketing system</li>
<li>applying some good patches from contributors</li>
<li>modified the test suite tools to make it easier to work with the spec tests in Rakudo</li>
<li>you can specify a local list of tests to run</li>
<li>added the ability to run the spec tests purely as they are, or fudged</li>
<li>you can use a test config file for that</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>fudge already kinda has that built in</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>if there are no directives in the file</li>
<li>my addition allows you to ignore implementation-specific directives and run the file directly</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>and take the consequences</li>
<li>that's fine</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>talked to Patrick about Rakudo management</li>
<li>we're considering adding some new committers</li>
<li>looking for a better way to handle tickets for patches</li>
<li>it's getting difficult for Patrick to apply all incoming patches</li>
<li>interrupting his work</li>
<li>we want to be able to appoint a person or persons to apply approved patches</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>I'm happy to apply anything once you've approved it and it's ready to apply</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>that's what we're looking for</li>
<li>that should make things easier for Patrick</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>mostly Parrot time this week</li>
<li>refactored list and array handling in Rakudo</li>
<li>list assignment now works!</li>
<li>the various composer works</li>
<li>bare curly hash composition doesn't work yet</li>
<li>that won't be hard to do</li>
<li>just need to write some rules to detect when to build a block versus build a hash</li>
<li>it'll happen soon</li>
<li>Jonathan implemented a Mutable PMC, which implements Perl 6 scalars</li>
<li>forwards its operations to what it contains</li>
<li>we can assign to it and do type checks in the process</li>
<li>some issues in Parrot's type management</li>
<li>not always clear when we want to talk about the scalar as a scalar versus what it's containing</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>container type versus value type?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>yes</li>
<li>the particularly nasty vtable entry for that is <code>find_method</code></li>
<li>we'll look more into that in the next couple of weeks</li>
<li>it's not impeding progress on us anymore</li>
<li>lots of cleanup of the AST building routines</li>
<li>some duplicated code, some refactoring there</li>
<li>more of that coming in the next few days</li>
<li>lots of little improvements and changes</li>
<li>small cleanups</li>
<li>more tests pass</li>
<li>starting to keep a daily count of the number of passing tests of the official test suite</li>
<li>I'll report improvements on a daily basis</li>
<li>as of yesterday afternoon, we had 55 files and 638 passing tests</li>
<li>that's an improvement of 344 over the passing week</li>
<li>Jerry and Moritz deserve special compliments for the work they've done on the tests and the suite</li>
<li>much easier to work with now</li>
<li>much easier to find low-hanging fruit</li>
<li>optimistic about our progress over the next few weeks</li>
<li>Jonathan is doing a lot of work on classes and types and subsets</li>
<li>you can declare subset types and have them work</li>
<li>a variety of improvements are on the way there too</li>
<li>things are coming together a little faster than I expected</li>
<li>like Jerry said, one day this week, I spent a few hours applying patches</li>
<li>that's a good problem to have</li>
<li>would be nice to read over it for sanity then have someone else test to see that it doesn't break things and perhaps apply it</li>
<li>not always easy for me to do without colliding with what I'm doing currently</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>did a little bit of spec work</li>
<li>trying to remain responsive</li>
<li>due to a confluence of very many factors, I've been running as hard as I can to stay in one spot</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>closing out a few last bugs in the concurrency branch</li>
<li>adding a few new features</li>
<li>PGE uses <code>bsr</code> and <code>branch</code> heavily</li>
<li>they don't play well with continuations</li>
<li>added a new feature for continuation-safe branching</li>
<li>about to submit the paperwork for the new foundation this week or next</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>fixing bugs, closing tickets</li>
<li>mostly adding polish</li>
<li>did some work on optimizing string usage; will have more benefits there shortly</li>
<li>watching over Andrew and his GC work</li>
<li>he's on the right track, hasn't needed much guidance</li>
<li>otherwise preparing for YAPC</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>not much to report</li>
<li>just work</li>
<li>what do you need?</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>maybe encouraging people on #parrot to apply patches and test them locally and report their results would help out</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>maybe doing that as an example would help?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>we're going to require all patches to go through RT first</li>
<li>that gives us a little process</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>how many patches need massaging?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>some 80% apply and work, but make incorrect assumptions</li>
<li>I can apply it and say we'll fix the assumptions later</li>
<li>or I can respond and give guidance to resubmit the patch</li>
<li>or I can make the minor changes and fix them as I apply it</li>
<li>pretty rare to get a 100% patch</li>
<li>but I don't want to become the bottleneck</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>what's the time-consuming part of the apply and test cycle?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I'm trying to avoid something</li>
<li>someone comes out with a patch that solves a test case</li>
<li>they submit it somehow</li>
<li>you want to give them instant gratification</li>
<li>if I'm in the middle of working on a feature myself</li>
<li>and many that I work on aren't small</li>
<li>I need a separate checkout to apply and test and commit</li>
<li>that takes a few minutes, maybe ten</li>
<li>then I have to pick up where I was, merging their changes into mine</li>
<li>the low-hanging fruit is all in the same files</li>
</ul>

<p><strong>Jesse:</strong></p>

<ul>
<li>it doesn't sound like tooling is the important thing to fix here</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>it's the process</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>a lot of it will fix itself in a short period of time</li>
<li>part of the problem is that I was absent from code review for a couple of months</li>
<li>I'm glad we made progress during that point</li>
<li>but now it's the time to refactor away some of the assumptions there</li>
<li>it may not be as big a deal if I get caught up soon</li>
<li>that will happen sooner if I don't have to deal with the other things</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>about 80% of the patches I see for Parrot in general are high quality</li>
<li>not a lot adding new features, which may affect that</li>
<li>but the quality is good, and I'm pleased</li>
</ul>
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

