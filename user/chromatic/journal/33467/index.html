<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Traits?  Roles?  Yeah!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Traits?  Roles?  Yeah!</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2007-06-08T06:24:23</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p><a href="http://djberg96.livejournal.com/116652.html">Daniel Berger isn't keen on the future of traits</a>.</p>

<p>Okay, so I'm the Perl 6 designer most excited by them (and the one most to blame for them, though that's only by plurality of blame and not majority), but I've used them and they've solved real problems in my code with regard to duplication, typing, and genericity.</p>

<p>I suspect the users of <a href="http://search.cpan.org/perldoc?Class::Trait</a>Class::Trait</a> have similar stories.</p>

<p>Don't get me wrong; I'm not down on duck typing in general.  I think static, inheritance-heavy hierarchies tend to lead to bad designs.  Yet there is a very real false cognate problem with duck typing and there are better ways to bundle and re-use code with cross-cutting concerns than mixins and monkeypatching.</p>

<p>I suspect though that languages which make doing the wrong thing both easy and syntactically attractive (yes, Smalltalk and Ruby) lead to subtler forms of technical debt in the form of near-duplication and potential fragility.</p>

<p>(Of course, if you always think of objects and classes in terms of objects and classes and not verbs bundled under appropriate adjectives, you make different design decisions.  Hm, I almost made it through this entry without using the word "allomorphism".)</p></p>


<hr/>



<h2>Smalltalk Traits</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2007-06-08T07:48:39</h3>
<p>Daniel makes this comment in relation to someone on a Smalltalk mailing list mentioning that they didn't know of anyone using traits in production.  Admittedly, this was Avi Bryant, the developer of Seaside, but still, let's think about it.  The Smalltalk community is a much smaller community than Perl.  In the Perl community, we have some relatively well-known people evangelizing traits -- yourself, Stevan Little (to an extent) and myself, to name a few -- and we have routinely written blog entries, articles, Perlmonks posts, etc., to help break the resistance against trying something new.</p>

<p>The result is that traits seem to be used more widely in Perl than I think people suspect (one can see <a href="http://djberg96.livejournal.com/116652.html" title="livejournal.com">my reply to Daniel</a livejournal.com> for more info).  Does Smalltalk have an equivalent community with equivalent evangelists?  I couldn't say, but then, Smalltalk has been around long enough that it may have more inertia to overcome to convince developers that traits are worthwhile.</p>

<p>One thing I find frustrating about all of this is that class-based systems are <em>one way</em> of building OO systems.  The first time I saw prototyped OO I scratched my head and didn't understand.  I suspect this is what's happening with traits for many folks.  As far as they are concerned, if you can't get code reuse from a class, there are plenty of handy (*cough*) design patterns they can use to overcome this limitation.  It doesn't seem to occur to them that their way might not be the best (if only I earned a dollar for every time someone asks me why I think Perl 5's OO system is limited).</p>

<p>Interestingly, the pattern backlash of a couple of years ago exposed an important point of patterns:  they're often used to get around limitations in a programming language.    Delegation is a design pattern which <em>works around</em> composition limitations in  OO systems and traits <em>eliminate</em> that limitation.  I'm still shocked that people find them difficult, but OO inertia is surprisingly difficult to overcome.  I think it's largely a matter of finding the right way of describing them.  I'm thinking "collision-free mixins" might be a good way to start, even if it is rather inaccurate.  That might fly better with Ruby programmers than Perl programmers, though.</p>



<blockquote>

<h2>Re:Smalltalk Traits</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2007-06-08T18:14:22</h3>
<p>Plenty of OO programmers who really ought to know better think that <a href="http://www.oreillynet.com/onlamp/blog/2007/05/whoops.html" title="oreillynet.com">inheritance is The Important Point of OO</a oreillynet.com>.</p>

<p>In the interests of better software, I give everyone reading this permission to slap anyone who talks that way in apparent seriousness.</p>





</blockquote>


<h2>FWIW</h2>
<h3><a href="/user/sigzero/">sigzero</a> on 2007-06-08T11:22:29</h3>
Someone in the Python community gets it as well:<br><br><a href="http://code.enthought.com/traits/" title="enthought.com">http://code.enthought.com/traits/</a enthought.com>



<blockquote>

<h2>Re:Not sure if that is the same traits</h2>
<h3><a href="/user/Stevan/">Stevan</a> on 2007-06-08T18:23:22</h3>
<p>
I have looked over this one a couple of times, and I am still not sure it is really related to the Smalltalk Traits which chromatic is talking about. There might be some similarities, but beyond that I am not sure.
</p>

- Stevan



<blockquote>

<h2>Re:Not sure if that is the same traits</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2007-06-08T18:50:46</h3>
<p>Funny; I almost posted the same thing.  It looks similar in a familiar way, but I don't understand it well enough to say "Yep, that's it!"</p>



<blockquote>

<h2>Re:Not sure if that is the same traits</h2>
<h3><a href="/user/sigzero/">sigzero</a> on 2007-06-08T21:59:06</h3>
On first pass it looks like they are using it for "glorified" assertions. I would have to look deeper to know.





</blockquote>

</blockquote>

</blockquote>


<h2>And Moose::Role too</h2>
<h3><a href="/user/Stevan/">Stevan</a> on 2007-06-08T18:37:14</h3>
<p><blockquote> <div><i>
I suspect the users of Class::Trait have similar stories.
</i></div> </blockquote>
<p>
There has been a recent boost in role usage in the Moose community, so I suspect we will have some stories as well. I have submitted a roles talk to YAPC::EU, which takes a "how roles can solve problems in the real world" approach and I think provides a pretty compelling use case (based on actual experince using roles in a production system).
</p>
- Stevan



<h2>... and what did Alan Kay think?</h2>
<h3><a href="/user/jhi/">jhi</a> on 2007-06-09T16:23:45</h3>
<a href="http://www.purl.org/stefan_ram/pub/doc_kay_oop_en" title="purl.org">http://www.purl.org/stefan_ram/pub/doc_kay_oop_en</a purl.org>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

