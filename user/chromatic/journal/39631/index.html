<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Minutes for 09 September 2009</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Minutes for 09 September 2009</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2009-09-15T19:46:12</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 09 September 2009.  Larry, Allison,
Patrick, Jerry, Will, Nicholas, and chromatic attended.</p>

<p><strong>Patrick:</strong></p>

<ul>
<li>added contextual variables to Rakudo</li>
<li>they seem to work just fine</li>
<li>added a couple of ops to Parrot to make that easier</li>
<li>PCT already uses contextuals in PGE and NQP</li>
<li>cleared up a few specification questions</li>
<li>answering questions online</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>renewed parrot.org's SSL certificate with Will</li>
<li>preparing for the releases of Parrot and Rakudo next week</li>
<li>I'm doing both of them</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>he's the Release Iron Man</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>thought about doing the Rakudo release live at the Perl meeting</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>if you skip the spectests, you can do it inside of 30 minutes</li>
<li>do a practice release during the meeting</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>it's a good idea</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>most people expect a release on Thursday</li>
<li>they work on the NEWS and announcements after the Parrot release</li>
<li>you can do your test live and find out where the bugs are</li>
<li>two other people have done it already</li>
<li>there's never been any other trouble</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>lots of travel and bizarre relocation tasks</li>
<li>working on the objects PDD</li>
<li>about to send a message to the list</li>
<li>mainly roles that needed work</li>
<li>spent some time looking over the JIT deprecation and replacement proposal</li>
<li>wanted an initial plan to figure out where we're headed</li>
<li>we're not just ripping it out without a plan to replace it</li>
<li>haven't touched PCC this week</li>
<li>haven't had time to look at it</li>
<li>after I put in the PDD review, I'll switch back to that</li>
<li>speaking at the JVM languages summit next week</li>
<li>speaking at the Bay Area Python users group after that</li>
<li>might have some interesting perspectives from the Unladen Swallow group</li>
<li>they're also building on LLVM</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>mostly spec work this week</li>
<li>originally introduced <em>.p6</em> as a way to indicate you want to start up parsing in Perl 6</li>
<li>now <em>any</em> file extension which contains the digit <code>6</code> can indicate the desire to use Perl 6</li>
<li>if you write something crazy, you get what you deserve</li>
<li>some questions about the scope of context variable searching</li>
<li>does each dynamic scope look outward from its immediate lexpad or not?</li>
<li>I say not</li>
<li>masak wanted clarification of the semantics of <code>break</code>, so I rewrote that section to indicate the interaction of compile-time semantics with control exceptions and <code>leave</code></li>
<li>upon advice of counsel, I obliterated the fallback of contextuals to <code>%ENV</code></li>
<li>will make Patrick happy</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I don't mind either way</li>
<li>I know I had to fix up a bunch of PHP code for a similar thing</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>it would open us up for a cheap shot on the security front</li>
<li>I'd rather have someone ask for that explicitly than provide it by default</li>
<li>places in the docs did things like <code>use global</code> to pull in stuff from already-existing packages</li>
<li>I decided those should be <code>define</code> instead of <code>use</code></li>
<li>Moritz and I documented the use of <code>...</code> classes to forward declare class names</li>
<li>nailed down when the blocks of packages and modules and classes execute</li>
<li>and when, with respect to compilation and usage, the modules defined in other files execute their code</li>
<li>answering a lot of questions</li>
<li>shepherding new users</li>
<li>poking Daniel Ruoso on the subject of time standards</li>
<li>he's working on the specs for that</li>
<li>not a lot of hacking</li>
<li>fixed a bug in the parsing of hyper-minus with Texas hypers</li>
<li>it mis-saw <code>&lt;&lt; -&gt; &gt;&gt;</code> as an infix operator</li>
<li>now it only does that if it's inside of a meta operator</li>
<li>fixed a bug in <code>gimme5</code> that caused warnings</li>
<li>added <code>done_testing</code> function to STD's <em>Test.pm</em></li>
<li>mostly working on the open source ecology talk for work</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>profiling and optimizing</li>
<li>setting up the default, optimized, non-developer Parrot to run faster</li>
<li>finding and fixing bugs</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>what kind of work does Role need in the Objects PDD?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>it needs testing</li>
<li>I'm not confident that it works correctly</li>
<li>missing extensive tests</li>
<li>I have a list of use cases</li>
<li>missing one big feature</li>
<li>Class doesn't support the exclude and alias options to support Role</li>
<li>Role only supports those for methods, not for attributes</li>
<li>that's a matter of adding a few lines of code to one method in Class and one in Role</li>
<li>not a big thing</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>Rakudo uses Role</li>
<li>it works well enough for whatever we do</li>
<li>Rakudo subclasses it into P6Role to give it some of its own behaviors</li>
<li>the base PMC is good enough for our uses</li>
<li>the P6Role PMC is minimal</li>
<li>it overrides <code>find_method</code> and <code>get_string</code> with Rakudo-specific behavior</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>I don't know if <code>does</code> reports accurately in all cases</li>
<li>mainly there are some things I'm not sure of yet</li>
<li>there are implementations present</li>
<li>most of the work is reviewing the tests to see if they cover behavior correctly</li>
<li>I seem to recall it only has a couple of tests</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I know it needs more tests</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>all of our PMCs do</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>given a Class object, there's no easy way of finding out if instances can do a method</li>
<li>I have to create an instance and test that</li>

</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>the Class object is supposed to report on the methods its instances will have</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>that's not my experience</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>what's more useful to you?</li>
<li>it makes more sense to me to ask the Class</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>because Class objects are instances of Object, they delegate to their metaclass object</li>
<li>just as Objects tend to do</li>
<li>it answers the question about what <em>the class object</em> can do, not instances of the class</li>
<li>it's consistent with other parts of the system</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>Class doesn't implement <code>can</code>, so it falls back to the default PMC</li>
<li>are you happy with the current behavior?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>we don't use it anyway</li>
<li>we have protoobjects</li>
<li>it's a common question that comes up anyway</li>
<li>given a Class object, there's not an easy way to find a method for an instance</li>
<li>it falls back to Object, and gives you a Class method</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>the <code>find_method</code> method looks it up for instances</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>they do different things?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>yes</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I'll pass that on to people who are looking for it</li>
</ul></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

