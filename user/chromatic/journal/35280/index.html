<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: Perl 6 Design Meeting Minutes for 02 January 2008</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Perl 6 Design Meeting Minutes for 02 January 2008</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2008-01-03T21:19:31</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>The Perl 6 design team met by phone on 02 January 2008.  Larry, Allison, Patrick, Will, Jerry, Nicholas, Richard, and chromatic attended.</p>

<p><strong>Larry:</strong></p>

<ul>
<li>revising specs lazily on demand</li>
<li>seems to be my main mode of operation these days</li>
<li>being available for questions</li>
<li>managed to get Geneva married off</li>
<li>we're pretty much over the holiday descent of relatives</li>
<li>should be able to get back to heavy duty work soon?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>working on the concurrency scheduler</li>
<li>more stuff after events</li>
<li>integrating some new systems into it</li>
<li>ripping out the old implementation</li>
<li>managed to change a default run of Parrot from running three separate threads to one by default</li>
<li>only split off multiple threads when you spawn them now</li>
<li>just checked in one change</li>
<li>fixed a couple of intermittently failing tests</li>
<li>had some very helpful problem reports from multiple platforms</li>
<li>everything but the old STM tests are still intermittently failing</li>
<li>I have a solution for that now</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>was the Helgrind output helpful?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>it told me exactly for sure that it was NCI callbacks that were causing the failures</li>
<li>also working on getting the Debian stuff ready for their first review</li>
<li>hopefully we can get our first Debian package soon</li>
<li>there's one bug report on IA-64 from Parrot 0.4.5</li>
<li>might not apply anymore</li>
<li>it was a PGE problem</li>
<li>we need to verify that first</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>does Ubuntu count?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>you can set up a Debian Sid chroot if you have access to IA-64 running Ubuntu</li>
<li>Colin says Debian has a few servers they make available for this</li>
<li>that's the only issue preventing an upload today</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>working on a new JavaScripty interface to look at RT tickets</li>
<li>have a proof of concept right now</li>
<li>want to get some feedback from more people right now</li>
<li>basically Patrick asked for a nicer way to find tickets to work on</li>
<li>might talk to Robert about moving that over to a perl.org server to handle more traffic</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>took a few days off for Christmas to build a 5000 piece LEGO set</li>
<li>that was fun</li>
<li>we're a LEGO family</li>
<li>we have a nice Millennium Falcon</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>I just want to bask in that for a second</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I'll post pictures; it's pretty cool</li>
<li>adding more features to the perl6 compiler</li>
<li>the biggest work there is a couple of documents that describe how the compiler fits together</li>
<li>hope to cut through the confusion that people have when they hear PGE, TGE, NQP, etc</li>
<li>hopefully that can be the start of the PCT documentation</li>
<li>started refactoring the test suite</li>
<li>dividing the tests up by Synopsis</li>
<li>it's still early in the process</li>
<li>it seems to work nicely so far, at least for me</li>
<li>spent some time working on pbc_to_exe</li>
<li>the files that it creates can run from anywhere</li>
<li>now we have a <code>make perl6</code> target that creates a <code>perl6</code> binary</li>
<li>it doesn't work with an installed version of Parrot yet</li>
<li>fixing that requires fixing the installation target</li>
<li>still a little messy</li>
<li>asking a few questions here and there about the design things</li>
<li>have another journal post coming up later today</li>
<li>also have a monthly report for the Mozilla Foundation grant coming too</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>NQP now handles optional, named, required, and slurpy parameters</li>
<li>I expect to add that to perl6 shortly</li>
<li>perl6 now handles base conversions for integer arguments</li>
<li>working on fractional conversions now</li>
<li>did some work on <code>pbc_to_exe</code>, but it still needs some work on Win32</li>
<li>I'll take some hints from the dynpmc implementation on finding the Parrot shared library</li>
<li>found and fixed some small bugs</li>
<li>added some 64-bit platform conversion warnings under MSVC</li>
<li>there are thousands of warnings that we need to fix before we can get a 64-bit build on Windows</li>
<li>I expect that most of those are from three or four root causes</li>
<li>the biggest thing is that the size of an int and a size of a pointer are different</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>can we rely on <code>size_t</code>?</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>I think so</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>found and fixed some nasty memory corruption bugs</li>
<li>intermittent but nasty</li>
<li>I also checked in the <code>pbc_to_exe</code> code that Jerry and I worked on a while back</li>
<li>I think we're close to getting it to work on Windows</li>
<li>have some weirdness with dynamic linking on Mac OS X that I just don't understand</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>I branched the 5.11 branch for Perl 5</li>
<li>committed the patch that adds <code>each</code> and <code>values</code> on arrays</li>
<li>we may make that available under Perl 5.10.1</li>
<li>also made regular expressions an SV type</li>
<li>simplifies things</li>
<li>5.10 is getting good reviews</li>
<li>there is one performance hit because of a list copy op pessimization</li>
<li>don't know when we'll start thinking about 5.10.1</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>grappled with the Perl 5.10 release</li>
<li>specifically getting the press releases out there</li>
<li>had a domino effect on people pushing each other to do things</li>
<li>thanks to Nicholas for leaning on me</li>
<li>I leaned on Andy a little bit</li>
<li>Andy managed to get some good bits out there</li>
<li>it made the rounds</li>
<li>for any given misinformation on any site, I think that was more the reporter misinterpreting things than Andy misrepresenting them</li>
<li>for example, "TPF released..." versus "TPF announces the release..."</li>
<li>need to follow up with the people doing translations</li>
<li>there was a big push in the German language media</li>
<li>we have a Dutch translation, promises on French, Portugese, Chinese, and Japanese</li>
<li>I'll collect the various multi-lingual press releases into a canoncal page that people can link to in perpetuity</li>
<li>the XAMPP leader mentioned that he's rolling up a new release</li>
<li>he said that he wasn't going to include 5.10 because it was a development release</li>
<li>I talked to him and he'll include 5.10 in the January release</li>
<li>he explained his reasoning, and he's right</li>
<li>our language on this is all screwy to an outsider</li>
<li>"stable", "latest", "production", and "release" versions are all mixed up on various sites like cpan.org and perl.org</li>
<li>still working on hackathon funding</li>
<li>also working on funding funding</li>
<li>as part of the Mozilla Foundation grant, we promised to pursue further funding</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>are we sure that the <code>pbc_to_exe</code> issues are due to the dynamic build or a static build?</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>it's the same issue that Tim Bunce was looking at with <a href="http://search.cpan.org/perldoc?Parrot::Embed">Parrot::Embed</a></li>
<li>the default build is static</li>
<li>if you build dynamic things should work</li>
</ul>

<p><strong>Will:</strong></p>

<ul>
<li>dynamic works on my Intel Mac</li>
<li>I'll try on PPC and then if it works we can switch the default</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>we've been very reluctant to declare on the day and date of the release that a release is ready for production</li>
<li>we don't know if there are any scary bugs</li>
<li>this performance regression might be nasty</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>I'm not much interested in protecting people from their own stupidity</li>
<li>if you upgrade stable versions of Perl without testing it on an application you rely on, you should know what you're doing</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>seems analogous to people who said "2.4 kernel is out; I'll wait for a few releases"</li>
<li>the counter argument may be "If that's how we're to treat it, why not call it 5.9.6?"</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>and if everyone does that, it's an arms race</li>
<li>if no one tests it, we can't catch these things</li>
<li>we could have caught them six months ago if someone just tried it</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>might there be some internal inconsistency and misunderstandings?</li>
<li>are they consistent or inconsistent?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>you can't get it right so that everyone understands what's going on</li>
<li>you can get it wrong</li>
<li>and this text is wrong; people will read that 5.10.0 is a development release</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>and there's "latest is 5.10" versus "latest is 5.8.8"</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>call 5.8.8 "previous stable release"</li>
<li>say that 5.9.5 will become 5.11</li>
<li>otherwise they read that 5.10 is the new development release</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>maybe get rid of the word "latest"</li>
<li>it's not helpful</li>
<li>maybe recommend 5.8.8 for production environments</li>
<li>say that 5.10 is a stable release</li>
<li>development releases start at 5.11</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>who has commit access to these sites to fix it?</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>Jarkko, maybe Andreas?</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>Jarkko runs the CPAN front page</li>
<li>dev.perl.org is Ask and Robert</li>
</ul>

<p><strong>Richard:</strong></p>

<ul>
<li>perhaps I should rewrite all of this</li>
<li>contact Jarkko with the revision and ask him to consider using it</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>there was a question about smart match when one side or the other is a blessed reference</li>
<li>I think it ignores the fact that it's an object</li>
<li>it's probably easier to write down and ask Larry that way</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>what does perl6 need before we can welcome users to hack on it?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>anyone's welcome to hack on it already</li>
<li>I'd like people to submit patches in Perl 6 code instead of PIR wherever possible</li>
<li>but we don't have an example of doing that</li>
<li>we need an example we can point to</li>
<li>that was going to be my task for yesterday</li>
<li>I have to decide how I want to integrate the code written in Perl 6 to the compiler</li>
<li>is it code loaded or compiled into PBC?</li>
<li>where should the code go?</li>
<li>we may refactor the directory structure of the compiler one more time</li>
<li>the mixture of PIR and Perl 6 seems to confuse people</li>
<li>just want to encourage people to write library functions in Perl 6</li>
<li>that's what we need an example of</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>people ask certain questions on one channel or another</li>
<li>should we set up a different #perl6 channel</li>
<li>should we send people to #perl6 on freenode?</li>
<li>where should they go?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I find it hard to switch between the two channels</li>
<li>trying to keep up with them, I spend most time answering questions and have to shut off the windows to get work done</li>
<li>so I spend more time on #parrot</li>
<li>I can hang out on #perl6, but I feel like I'm not too productive when I do</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>some people have the perception that #perl6 is about Pugs</li>
<li>should that perception change?</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>probably</li>
<li>where do people hang out for Perl 5 questions?</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>#perl on freenode answers questions</li>
<li>#perl on perl.org...</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>... offers abuse</li>
</ul>

<p><strong>Nicholas:</strong></p>

<ul>
<li>#london-pm is good about answering questions</li>
<li>but you have to know where it is</li>
</ul>

<p><strong>Allison:</strong></p>

<ul>
<li>#perlhelp on perl.org is good</li>
<li>there a #perl6 on perl.org, with three people in it</li>
</ul>

<p><strong>Jerry:</strong></p>

<ul>
<li>just something to think about</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>if you go to the Perl 6 wiki, everything pointed to Pugs</li>
<li>as people read the journal posts, they find the wiki and get pointed to Pugs</li>
<li>I cleaned up some of that</li>
<li>but I don't know where all of the questions and confusions are</li>
<li>I'm trying to get more people onto the wiki to clean up their questions</li>
<li>just get them to add their questions there</li>
<li>it's another source of confusion for historical reasons</li>
<li>we need to break the synonymity of Perl 6 and Pugs</li>
<li>it'll need fixing over time</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>not entirely sure that calling your implementation <code>perl6</code> is conduicive to clarity too</li>
</ul>

<p><strong>Patrick:</strong></p>

<ul>
<li>I agree and think about that sometimes</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>I'd like to see that changed</li>
</ul>

<p><strong>c:</strong></p>

<ul>
<li>people really do want a <code>perl6</code> binary though</li>
</ul>

<p><strong>Larry:</strong></p>

<ul>
<li>that doesn't have to be the name of the implementation though</li>
<li>there should be a binary named <code>perl6</code></li>
<li>but it should be retargetable</li>
<li>there should be consistency of invocation though</li>
<li>we haven't talked about that yet</li>
<li>but what chapter is <code>perlrun</code>?</li>
<li>I'll think about that this week</li>
</ul>
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

