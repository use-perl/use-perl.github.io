<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chromatic: A Domain Specific Language For Writing Dirty Limericks</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>A Domain Specific Language For Writing Dirty Limericks</h1>
<h2><a href="/user/chromatic/">chromatic</a> on 2007-07-27T16:31:04</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I wrote a domain-specific language for writing dirty limericks.  It looks a lot like English, but you have to prefix rhyming words with colons.  Otherwise, it's a completely new language, so please read my weblog and buy my book and come to my conference talk about how awesome I am for doing what everyone does every day with English: use it as intended.</p>

<blockquote>:There :once :was :a :programmer :of :Ruby...</blockquote>

<p>Here's more joy on my <em>least</em> favorite subject Ruby programmers can talk about these days:</p>

<blockquote><em>I meant to suggest in my previous post that the flaw was in me for no longer thinking in Perl when using Perl, though at the same time if Perl were to better support DSLs (domain specific languages) then I would have gotten a Get-Out-of-Jail-Free Card despite my mis-think. I hope that others reading this benefit from the clarification as well.</em></blockquote>

<p>&nbsp; Cosine Jeremiah, <a href="http://www.cosine.org/2007/07/24/knowing-ruby-perl/">Knowing Ruby and Perl</a></p>

<p>Cosine, if you post yet another followup, please explain precisely what in the world you possibly mean by "better support DSLs" and perhaps even "DSL" in general.</p>

<p>Why do I ask this?</p>

<p>Cosine uses the example of Ruby's OO primitives and pervasive use of blocks to change the behavior of a Hash instance... and claims somehow that this makes a building block of a domain-specific language.</p>

<p>This baffles me.</p>

<p>When you find yourself starting to think "HAI I JUST WRITEDS A DSLS!!!", stop.  You are not a Big Man who has performed the Manly Deed Akin to Dragon-Slaying and Princess Rescuing by defining your own language which just magically happens to have exactly the same syntax as Ruby and the same semantics of Ruby.  YOU JUST CHOSE IDENTIFIER NAMES THAT MADE SENSE FOR YOUR PROBLEM DOMAIN.</p>

<p>Now that is a reasonable and honorable and well-maintainable thing to do, and I congratulate all of the Ruby developers (and Perl developer and Java developers and PHP developers and C developers and Haskell developers and you get the picture that just about every language that allows you to choose meaningful identifiers supports choosing meaningful identifiers while keeping the syntax and semantics of the language unchanged) for that.</p>

<p>Now can we all stop this wankery over "My language lets me do <em>made-up thing that doesn't actually have any defining characteristics</em> that I can't figure out how to do in your language" and actually have a conversation about how to write maintainable programs and devise good APIs?</p></p>


<hr/>



<h2>Lispy view</h2>
<h3><a href="/user/jjore/">jjore</a> on 2007-07-27T17:52:28</h3>
Considering this, if Lisp claims to be great at doing DSLs, I suppose it is because it has macros to allow custom flow control. The rest is all just identifiers.<br><br>I've heard that the Ruby folks like to inject methods into base classes to let them talk about collections using their domain's terminology as methods directly on the data. This seems to just be another riff on derived types but perhaps without bothering to actually declare the new type. I guess the idea is instead of making your new type be a specialization of the generic type. Seems dodgy to me.



<blockquote>

<h2>Re:Lispy view</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2007-07-27T17:57:38</h3>
<p><blockquote> <div><em>Considering this, if Lisp claims to be great at doing DSLs, I suppose it is because it has macros to allow custom flow control. The rest is all just identifiers.</em></div> </blockquote>

<p>Lisp is the Henry Ford of language design: you can have any syntax and semantics you want, as long as they're s-expressions.</p>

<p>(You could generalize that to internal DSLs too.  I'm just waiting for the right time to show all of the "HAI I WRITED U A DSL!!!!!" kiddies the attributes of P5NCI or source filters in Perl.)</p>





</blockquote>


<h2>No Symbols Needed</h2>
<h3><a href="/user/djberg96/">djberg96</a> on 2007-07-27T21:57:16</h3>
<p><blockquote><div>There once was a programmer of Ruby</div>
</blockquote>
The above is perfectly legal Ruby code.



<blockquote>

<h2>Re:No Symbols Needed</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2007-07-28T00:10:41</h3>
<p>It's also valid Perl code, so obviously it can't be a DSL.  (Psst, your roots are showing.)</p>



<blockquote>

<h2>Re:No Symbols Needed</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2007-07-28T01:14:21</h3>
<p>&#8220;I know it&#8217;s weird, but it does make it easier to write poetry in perl.<nobr> <wbr></nobr>:-)&#8221; &#8212;<cite>Larry Wall</cite> </p>



<h2>Re:No Symbols Needed</h2>
<h3><a href="/user/djberg96/">djberg96</a> on 2007-07-28T16:48:51</h3>
Says who? That's never been a condition of a DSL.



<blockquote>

<h2>Re:No Symbols Needed</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2007-07-28T17:48:39</h3>
<p><blockquote> <div><em>However, Perl is not really capable of DSLs...</em></div> </blockquote>

<p>&nbsp; Cosine Jeremiah, <a href="http://www.cosine.org/2007/07/20/perl/" title="cosine.org">Back to Perl</a cosine.org>.</p>

<p>You and I discussed that very phrase in my previous journal entry.</p>





</blockquote>

</blockquote>

</blockquote>


<h2>heh, very funny</h2>
<h3><a href="/user/rjbs/">rjbs</a> on 2007-07-27T22:00:00</h3>
...but seriously, when is Perl getting better metaprogramming and DSL support?  It doesn't even have symbols or procs, so you can't create custom yield types or assignment methods, which are all vital to any good domain solution.<br><br>I really want a Perl way to strip the cuss words from bbmarkup comments in my blog, but without a DSL for the task, I'm going to have to use Ruby.  Or maybe Erlang, I hear that's hot now, too.



<h2>External Reply</h2>
<h3><a href="/user/cosine/">cosine</a> on 2007-08-05T18:00:52</h3>
I've replied to this posting here: <a href="http://www.cosine.org/2007/08/05/domain-specific-languages/" title="cosine.org">http://www.cosine.org/2007/08/05/domain-specific-languages/</a cosine.org>



<blockquote>

<h2>Re:External Reply</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2007-08-05T23:54:56</h3>
<p>I appreciate the reply, but you still didn't answer the question.  <em>What is a DSL?</em> </p>

<p>"A little language that you can run through your host language's <code>eval</code>" is <em>not</em> an acceptable answer, because the only thing you can successfully run through your host language's unmodified <code>eval</code> is precisely that language itself.</p>

<p>If that's the case, then your statement that "Ruby is better at writing DSLs" is particularly meaningless, because it simplifies to "Ruby is better at writing Ruby code that the Ruby interpreter can interpret than Perl is", which is a tautology.</p>

<p>I don't think that's your point... is it?</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

