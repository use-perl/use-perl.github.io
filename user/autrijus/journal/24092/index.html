<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of autrijus: Day 68: First cut at ITypes.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Day 68: First cut at ITypes.</h1>
<h2><a href="/user/autrijus/">autrijus</a> on 2005-04-09T18:44:53</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>As promised, today I worked on ITypes with abandon, rewriting most of the variable handling code in the process; see <a href="http://www.nntp.perl.org/group/perl.perl6.compiler/521">my post on P6C</a> for details.
<p>
The entire patchset is nearly 1000 lines long.  That number may look small, but the entirety of core pugs source, including comments, is still less than 10000 lines long, so the work is indeed nontrivial.  Unsurprisingly, it is still failing many tests, but I expect to fix them commit it tomorrow, shortly after I wake up.
<p>
rgs pointed me to this <a href="http://www.theperlreview.com/Interviews/mjd-hop-20050407.html">MJD interview</a> on <em>Higher Order Perl</em>, so far the only Perl book on the Pugs <a href="http://svn.openfoundry.org/pugs/READTHEM">READTHEM</a> list.  I feel honoured upon reading this passage:
<p>
<blockquote>
TPR: Are you surprised that after a couple of years of working on a book about functional programming in Perl, Autrijus Tang has lit a fire under the community by using Haskell to write a Perl 6 compiler?
<p>
MJD: Everything Autrijus says and does astonishes me. 
</blockquote>
<p>
On the code front, today is another busy day with over 40 commits.  Some of the notable changes are:
<ul>
<li>ovid started porting the <a href="http://svn.openfoundry.org/pugs/examples/pleac/">Perl Cookbook examples</a> from the <a href="http://pleac.sourceforge.net/">PLEAC</a> project.  We need more people hacking on that!
<li>stevan added a tested and working port of <a href="http://svn.openfoundry.org/pugs/ext/CGI/lib/CGI.pm">CGI.pm</a> to Pugs.
<li>stevan and me replaced several <code>split()</code> invocations with <code>s:perl5/.../{ ... }/</code> form, then into the even more readable braceless form.
<li>corion tested and fixed <code>sleep</code> to use GHC's <code>threadDelay</code> primitive, so a sleeping thread will not block the others.
<li>corion worked on many other tests as well, including a TODO for Win32's <code>$*PID</code> support.
<li>I finally made <code>map { ... } @list</code> to parse; corion happily changed the tests to use that style.
<li>cognominal reported that the infinite loop form, <code>loop { ... }</code>, was broken. It's now fixed.
<li>putter worked on lots of tests, including a parsefail on the <code>if {...} {...}</code> form.
<li>asavige and putter added even more <a href="http://svn.openfoundry.org/pugs/t/pugsbugs/">pugsbugs</a> tests.
<li>asavige also updated his <a href="http://svn.openfoundry.org/pugs/examples/golf/tsanta.p6">tsanta.p6</a> golf validation program to use nested data structure.
<li>ninereasons discovered that the implicit <code>$_</code> is not as read-write topical as the spec mandated, and added lots of tests for that.
<li>Since three days ago, <code>int(3) + 4</code> was incorrectly parsed as <code>int((3) + 4)</code>; that is now fixed.
</ul>
<p>
That's it for today.  Expect a fully working IType subsystem tomorrow!
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

