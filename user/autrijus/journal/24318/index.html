<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of autrijus: Day 81: Repairing the tree</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Day 81: Repairing the tree</h1>
<h2><a href="/user/autrijus/">autrijus</a> on 2005-04-22T15:28:17</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Another short summary today, as I need to wake up early tomorrow for family reunion.
<p>
Most of today was spent on repairing the tree after the huge patch landing of yesterday. After some laborous cleaning up, all the infinite loops has finally been fixed, and Thunk is made into a proper object.  I still need to remove both VThunk and VPair from the Val type, though, as Larry has indicated that all objects needs to exist as references instead of pure values.
<p>
I was going to implement that refactoring before sleeping, but instead I came by this <a href="http://perlmonks.org/?node_id=448319">article</a> on PerlMonks that claims Haskell cannot perform a fair in-place shuffle, and thus would be much less efficient and more memory-hungry than Perl 5.
<p>
My experience with OpenAFP (my first Haskell project) has been quite the opposite, so I whipped up a <a href="http://perlmonks.org/?node_id=450426">Haskell version</a> that is nearly twice as fast as Perl 5, and with much better O(1) memory behaviour. Well, at least I learned how to use ST monad from this, so it was not entirely a pointless exercise...</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

