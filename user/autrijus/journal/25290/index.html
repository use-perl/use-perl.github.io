<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of autrijus: Day 137: Final day in Leo's: Control structures!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Day 137: Final day in Leo's: Control structures!</h1>
<h2><a href="/user/autrijus/">autrijus</a> on 2005-06-20T21:07:35</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Turns out I didn't get enough time to roll a release tonight -- I'll leave for
Toronto in 5 hours.  Oh well. :-/

<p>
To reduce confusion, I've renamed <strong>PAST</strong> in Pugs's source code to <strong>PIL</strong> (Pugs Intermediate Language).  It's easy to remember, and fits well with the <code>PIL -&gt; PIR</code> flow. :)
<p>
The good news is that leo and I figured out how to implement closures and <code>return/leave</code>,
both for his new efficient runloop and simulated with exception handlers for the current
runloop.  Building on this model, and solid abstractions built over the last week, we see a large influx of PIR checkins today:
<ul>
<li>Globals: <code>@*ARGS, $*PROGRAM_NAME, $*IN, $*OUT, $*ERR</code>
<li>Iteration: <code>for 1..10 -&gt; $x { say $x }</code>
<li>Code exit: <code>return</code> and <code>leave</code>
<li>Loop: <code>loop(;;){}</code>, <code>while{}</code> and <code>until{}</code>
<li>Bare, pointy block and anonymous subroutine literals.
<li>The entire <code>Prelude.pm</code> is now compiled and loaded into PIR.
</ul>

<p>
We're now very close to get <code>make pirsmoke</code> and <code>make pirtest</code>
returning some useful results for Pugs/PIR.  ParTcl currently supports 2.89% of the
entire Tcl test suite (or 6.88% if you take out tests for the single <code>clock</code> command); we'll see how well Pugs/PIR fares tomorrow.

<p>
Oh, and we're three days till the announcement of <a href="http://icfpc.plt-scheme.org/">ICFP 2005</a> contest.  I wonder if I can convince my fellow Hackathoners into entering the competition with Perl 6...  It sounds insane, but hey, wouldn't it be really amazingly cool, if <em>"Perl 6 is the language of choice for discriminating hackers!"</em> gets announced in ICFP 2005? :-)
</p>


<hr/>



<h2>ParTcl Test Results</h2>
<h3><a href="/user/mdiep/">mdiep</a> on 2005-06-21T02:30:01</h3>
To be fair, a large number of the Tcl tests fail because of unimplemented commands. For instance, out of the 12313 tests, 7137 of them belong to the clock command, which is unimplemented. Taking out those tests increases the percentage to 6.88%. There are a fair amount of bugs, but there is also a fairly substantial start.



<blockquote>

<h2>Re:ParTcl Test Results</h2>
<h3><a href="/user/autrijus/">autrijus</a> on 2005-06-21T02:56:14</h3>
Yup, it's great work.  I've reflected the numbers above.  It's by no means disrespectful of your work -- indeed, Pugs/PIR currently pass only 1% or so of the tests, because Test.pm had not yet bootstrapped.  Even if it has, I doubt we'll have a 6.88% coverage at this moment...<nobr> <wbr></nobr>:-)





</blockquote>


<h2>Re:</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2005-06-22T20:07:25</h3>
I never really liked the &#8220;PAST&#8221; acronym anyway &#8211; I don&#8217;t like the unfortunate allusion to &#8220;the <a href="http://www.dict.org/bin/Dict?Strategy=*&amp;Database=*&amp;Form=Dict1&amp;Query=past" title="dict.org">past</a dict.org>.&#8221;





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

