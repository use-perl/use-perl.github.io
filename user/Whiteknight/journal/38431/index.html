<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Whiteknight: Working on my MediaWiki Bot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Working on my MediaWiki Bot</h1>
<h2><a href="/user/Whiteknight/">Whiteknight</a> on 2009-02-08T19:25:48</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I've talked about my <a href="https://sourceforge.net/projects/wikiperl/">MediaWiki bot</a> on this journal before. Yesterday and today I've been doing some major work on it because I've had need to use it. That's how development on this project seems to go: it sits dormant until I need to use it, and then out of frustration I have to fix things I find wrong with it.<br/><br/>My bot, for people who have never seen me mention it before, is an automated MediaWiki client program that operates by applying "transforms" to given pages. A transform is perl subroutine that takes text in as a parameter and returns a modified version of that text.<br/><br/>  $newtext = transform($oldtext);<br/><br/>The transform itself is written in every day Perl 5 code, not any kind of fancy DSL. You've got the full power of Perl 5 applied to the text of every page in a given list. You can store multiple named transforms together into a queue and apply them all in order to the page text too.<br/><br/>One of the key things I added today is syntax highlighting and line numbering through the Gtk::SourceView widget. I've also done a lot of refactoring internally to try and add new languages to the transform engine eventually. The eventual goal is to be able to write transforms in other languages besides Perl 5. I'm thinking the most direct way to do that is by interfacing with Parrot::Embed, but there are plenty of other modules on CPAN too that add interfaces to other languages that could easily be used, as soon as I come up with a good plugin architecture.<br/><br/>The one big thing holding me back right now is adding an installer. Frankly, it's the area of perl development that I'm the worst at, and I've been unable to put together an installer for this application and the various component libraries it relies on. Documentation in this area hasn't been great in my experience, or if there is good documentation I've been unable to find it. As soon as I do get an install script working for it, I'll be able to cut the 1.0 release.<br/><br/>With all this work I've been doing on the bot, I haven't had much time to work on the <a href="http://en.wikibooks.org/wiki/Perl_6_Programming">Perl 6</a> book this weekend. I've got a few other projects I'm poking around on, I'm sure I'll talk about them later.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

