<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Whiteknight: A few changes, and I'm stuck again</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>A few changes, and I'm stuck again</h1>
<h2><a href="/user/Whiteknight/">Whiteknight</a> on 2008-08-03T12:33:38</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>My last blog post apparently didn't post. This use.perl interface is a little bit annoying to me (conversely, I am a little annoying to it). In my haste, I click the "Preview" button thinking it's a "Save" button, and then I close the window. Needless to say, nothing gets saved and my blog develops large gaps. Obviously it's a problem on my side of the keyboard, apparently I'm too set in my Wiki ways to become a good use.perl blogger.<br/><br/>The last week has seen a lot of work but, as usual, not a lot of visible progress. I ripped out the entire "card" aspect of my collector. It was adding a lot of needless complexity, it was consistently serving as a failure point in my design, and I couldn't prove that it was providing any net performance benefit. In fact, I'm decently certain that my particular implementation was a performance bottleneck. Once I get my collector to a more stable state, I can experiment with adding cards back in or other performance enhancements. Right now, I'm really focused on just getting a basic model to work.<br/><br/>Some of the problems I was having went away after I pulled out the cards. The problem was, I think, that somewhere my mapping from object to card and card to object wasn't a 1-to-1 mapping. Removing this showed immediate improvements in the performance of my collector, at least for a while.<br/><br/>Of course, we trade one problem for another, and after getting the cards pulled out I developed a compile-time bug. This compile-time bug wasn't located anywhere inside my collector, however, it was manifesting itself as a series of undefined datatype errors in the IMCC header files. This appears to have occured after running an innocuous "make headerizer", and now I can't seem to pinpoint exactly what's causing the error. <br/><br/>I won't have much time to continue my investigation again until later this evening. Hopefully I'll find some answers tonight so I can get moving forward with my work again.</p>


<hr/>



<h2>IMC_Unit Forward Declare</h2>
<h3><a href="/user/Whiteknight/">Whiteknight</a> on 2008-08-03T13:23:13</h3>
<p>The problem I'm having is that the forward declaration for the datatype "IMC_Unit" seems to be missing or misplaced. I went through and manually replaced all instances of "IMC_Unit" with "struct _IMC_Unit" instead. It's not a stable solution because it will get messed up next time I run "make headerizer". However, it does let the build proceed.</p><p>However, now the compiler hangs while building PGE/builtins_gen.pir, which is a common point of failure for me in the build process. I'm trying to figure out now where the hang is being caused.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

