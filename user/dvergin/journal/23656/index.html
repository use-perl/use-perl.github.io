<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of dvergin: Pugs (perl6) compile fails</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Pugs (perl6) compile fails</h1>
<h2><a href="/user/dvergin/">dvergin</a> on 2005-03-15T06:46:13</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I previously had Perl6-Pugs-6.0.9 working just fine. Now Perl6-Pugs-6.0.11 is out. I upgraded to GHC 6.4 and went at it.
<p />
The "perl Makefile.PL" went fine. But then <i>no joy</i>...
<p />
<ECODE>
C:\bin\perl6\Perl6-Pugs-6.0.11>nmake<br/><br/>Microsoft (R) Program Maintenance Utility   Version 1.50
Copyright (c) Microsoft Corp 1988-94. All rights reserved.<br/><br/>cp lib/Perl6/Pugs.pm blib\lib\Perl6\Pugs.pm
cp lib/Kwid.pm C:\bin\perl6\Perl6-Pugs-6.0.11\blib6\lib\Kwid.pm
cp lib/perlkwid.kwid C:\bin\perl6\Perl6-Pugs-6.0.11\blib6\lib\perlkwid.kwid
        C:\Perl\bin\perl.exe -Iinc -MExtUtils::Command -e cp kwid C:\bin\perl6\P
erl6-Pugs-6.0.11\blib6\script\kwid
        pl2bat.bat C:\bin\perl6\Perl6-Pugs-6.0.11\blib6\script\kwid
cp lib/Pugs/MakeMaker.pm C:\bin\perl6\Perl6-Pugs-6.0.11\blib\lib\Pugs\MakeMaker.
pm
cp lib/Test.pm C:\bin\perl6\Perl6-Pugs-6.0.11\blib6\lib\Test.pm
        C:\Perl\bin\perl.exe -Iutil -MPugsConfig -e "PugsConfig->write_config_mo
dule" > src\Config.hs
        ghc --make -static -Wall -fno-warn-deprecations -fno-warn-missing-signat
ures -fno-warn-name-shadowing -o pugs src\Main.hs -isrc<br/><br/>C:\bin\perl6\Perl6-Pugs-6.0.11>\ghc\ghc-6.4\bin\ghc.exe --make -static -Wall -fn
o-warn-deprecations -fno-warn-missing-signatures -fno-warn-name-shadowing -o pug
s src\Main.hs
Chasing modules from: src/Main.hs
Could not find module `Posix':
  use -v to see a list of the files searched for
  (imported from src/Main.hs)
NMAKE : fatal error U1077: 'C:\WINNT\system32\cmd.exe' : return code '0x1'
Stop.
</ECODE>
<p />
Here's the odd part. If I edit src/Main.hs to move the reference to Posix farther up in the list of imports near the top of the file, it loads fine and whichever import that happens to be last causes the same error as Posix did above. I could not find a fiddle that solved the problem.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

