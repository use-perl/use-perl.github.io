<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of acme: Nooglers and the PDB: Reactor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Nooglers and the PDB: Reactor</h1>
<h2><a href="/user/acme/">acme</a> on 2007-09-12T08:50:58</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I monitor Google's <a href="http://video.google.com/videosearch?q=user%3A%22Google+engEDU%22&num=10&so=1&start=0">tech talks</a> on Google Video and yesterday a very interesting one popped up: "Nooglers-and-the-pdb: Reactor". While I was watching the video I realised it was an internal Google talk for new Googlers that had been publicly posted by mistake, and it has now been withdrawn. Google Blogoscoped <a href="http://blogoscoped.com/archive/2007-09-11-n21.html">has a good summary of the talk</a>. The blurb is:
</p>
<blockquote>
Reactor is the backend that provides feed services for Google Reader, igoogle, and other applications. It provides access to the full history of feeds, with tagging and read state management. In this talk we will discuss the design of the reactor backend, including the recently-launched search feature.
</blockquote>
<p>
It was very interesting as they talk about all sorts of internal Google projects and their code names. It includes the <a href="http://en.wikipedia.org/wiki/BigTable">BigTable</a> schema for Reactor, how the new search feature is a tree of 150 servers (150 million documents) to spread network bandwidth (and 40 machines serving 40 million fresh documents) and the fact that the team is three people on the backend and three people plus one intern on the frontend.
</p>
<p>
Reactor has two tables in BigTable: an items table and a streams table. The items table has an item column: ID which is a hash of the URL and other things, a column and a tag column family which has tags for each user that has read it. The stream table has two kind of streams: feeds streams (keyed by the URL) and with a list of item ids and for users' read tags. The first page is expensive to generate:
</p>
<blockquote>
"Any time you come to Reader it's doing tens if not hundreds of lookups of BigTable lookups in parallel to find all of your streams and the items in them".
</blockquote>
<p>
It was quite interesting. Google should make all these talks public ;-)
</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

