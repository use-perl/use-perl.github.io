<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of GAVollink: Code Style - Request for Input</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Code Style - Request for Input</h1>
<h2><a href="/user/GAVollink/">GAVollink</a> on 2005-02-24T14:16:48</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I come from the C - where the styles are called K&R or ANSI, Perlers may call it something different (if so, please let me know).<br>
K&R:<pre>if ($var) {
  $used++;
}</pre>
ANSI:<pre>if ($var)
{
  $used++;
}</pre>
I am aware that Perlers generally seem to prefer K&R style (perhaps because Larry Wall prefers it).  I have a tendancy of coding in ANSI style.  I note that there are some modules written in ANSI style (though, very few).<p>
Will my preference come to haunt me one day?  Anybody have any reasons why I should learn to adopt the K&R style?  [ I am aware to follow the style of a given project when hacking in that project ].  Anybody have any reasons why I should stick with ANSI?<p>
Thanks</p>


<hr/>



<h2>Why K&amp;amp;R style for me</h2>
<h3><a href="/user/merlyn/">merlyn</a> on 2005-02-24T14:53:45</h3>
I prefer K&amp;R style because it eats up less vertical scrolling space on my screen.  The indentation shows me that I'm inside a block... I don't need a whole line with a single open curly to show me that.  But the close curly shows both the de-indentation and the close of the block... it'd be hard to cuddle that without going a bit nuts.



<blockquote>

<h2>Re:Why K&amp;amp;R style for me</h2>
<h3><a href="/user/GAVollink/">GAVollink</a> on 2005-02-24T16:50:47</h3>
vertical space doesn't bother me (except for the five times, ever, that I've found myself coding on a green-screen [ or orange ] ).  Admittedly, I need to get used to seeing it K&amp;R style (get used to the block style of ANSI, and K&amp;R can look a bit messy).<p>
I'd have much less problem with K&amp;R if so many folks didn't also use a two-space indentation...</p><blockquote><div> <tt>if ( defined($vara) ) {<br>&nbsp; if (1 == $varb) {<br>&nbsp; &nbsp; if (2 == $varc) {<br>&nbsp; &nbsp; &nbsp; &amp;something;<br>&nbsp; &nbsp; }<br>&nbsp; }<br>}</tt> </div></blockquote>... where it would be easier to read at 4 or 8 spaces.  Like the way I do...<p>
# vim: sw=4 ts=4</p>



<blockquote>

<h2>Re:Why K&amp;amp;R style for me</h2>
<h3><a href="/user/jplindstrom/">jplindstrom</a> on 2005-02-24T18:41:39</h3>
Regarding that nested if, if, if structure. I know C++ programmers who like to code like that because it makes it easy to dealloc resources in an orderly fashion in case of an error. I don't know if there are other good uses for that idiom, but I really don't like it for a number of reasons.<br> <br>Anyway, in Perl it's not very common, at least not in the code I've stumbled upon. There's seldom use for that kind of structure when most stuff is garbage collected or can be made to clean up automatically (like file handles closing the file when they go out of scope).<br>



<blockquote>

<h2>Re:Why K&amp;amp;R style for me</h2>
<h3><a href="/user/GAVollink/">GAVollink</a> on 2005-02-24T19:15:47</h3>
Hmm... I am a C programmer...<p>
That said, the same structure confusion can happen just as easily in nested loops.<br>
foreach $a (@array) {}<br>
(*shrugs*)</p>





</blockquote>

</blockquote>

</blockquote>


<h2>Which?</h2>
<h3><a href="/user/zatoichi/">zatoichi</a> on 2005-02-24T16:01:01</h3>
I have seen both used but I prefer the K&amp;R way with an uncuddled else:<blockquote><div> <tt>if () {<br>&nbsp; &nbsp; # do it<br>}<br>else {<br>&nbsp; &nbsp; # do it<br>}</tt> </div></blockquote>But whichever way you choose, do it consistantly.



<h2>Will it?</h2>
<h3><a href="/user/cog/">cog</a> on 2005-02-24T16:37:06</h3>
<i>Will my preference come to haunt me one day?</i>

<p>I wouldn't call it "haunt", but I'm more fond of submitting patches for my kind of coding style (K&amp;R) than for others...

</p><p>Others may suffer from the same symptom, even if unaware of it...<nobr> <wbr></nobr>:-)</p>



<h2>ANSI Perl</h2>
<h3><a href="/user/samtregar/">samtregar</a> on 2005-02-24T17:31:28</h3>
I haven't seen much Perl written with ANSI brace style, but <a href="http://mkdoc.org/" title="mkdoc.org">MKDoc</a mkdoc.org> is largely written that way.  I think you can feel free to do it however you want when you're working alone.  When you're working on a team it makes sense to agree on a shared style and stick to it.
<p>
-sam</p>



<h2>My style.</h2>
<h3><a href="/user/schwern/">schwern</a> on 2005-02-25T02:55:16</h3>
I use K&amp;R style.  I find ANSI style plus uncluddled else's eats up far too much room on the screen.  My exception is when the conditional runs over one line.  In that case I find the extra vertical distance provides some needed clarity.<blockquote><div> <tt>if( $foo&nbsp; eq $bar and<br>&nbsp; &nbsp; $this eq $that )<br>{<br>&nbsp; &nbsp;<nobr> <wbr></nobr>...stuff...<br>}</tt> </div></blockquote> <p>I flip/flop between cuddled and uncuddled else's.  In the end, your choice won't come back to bite you unless you decide to become a religious bigot about it.

</p><p>Just don't do this.</p><blockquote><div> <tt>if( $foo eq $bar )<br>&nbsp; {<br>&nbsp;<nobr> <wbr></nobr>...stuff...<br>&nbsp; }</tt> </div></blockquote>



<blockquote>

<h2>Re:My style.</h2>
<h3><a href="/user/btilly/">btilly</a> on 2005-02-25T05:46:34</h3>
I may be alone, but if the conditional runs over one line I treat it as a block:<blockquote><div> <tt>if(<br>&nbsp; $foo&nbsp; eq $bar and<br>&nbsp; $this eq $that<br>) {<br>&nbsp;<nobr> <wbr></nobr>...stuff...<br>}</tt> </div></blockquote>I don't know that anyone else does it that way though.



<blockquote>

<h2>Complex conditionals.</h2>
<h3><a href="/user/schwern/">schwern</a> on 2005-02-26T05:18:37</h3>
To my eyes that's ok.  You still have separation between the complex conditional and the code block making them distinct.  What I don't like to see is this:<blockquote><div> <tt>if( $foo&nbsp; eq $bar&nbsp; and<br>&nbsp; &nbsp; $this eq $that ) {<br>&nbsp; &nbsp; $baz = 42;<br>}</tt> </div></blockquote>



<blockquote>

<h2>Re:Complex conditionals.</h2>
<h3><a href="/user/GAVollink/">GAVollink</a> on 2005-02-27T04:28:36</h3>
Woa, nelly.  So - I'll just stick with ANSI style, then.  You K&amp;R folks can't actually seem to decide <i>on</i> a style.



<blockquote>

<h2>Complex styles</h2>
<h3><a href="/user/schwern/">schwern</a> on 2005-03-02T17:05:08</h3>
Sure we can (or I can).  I don't fool myself into thinking I can apply a single rule to different conditions.  K&amp;R style is vertically efficient.  ANSI style uses more vertical space to clarify the difference between the conditional and the code block.  Apply as needed.  If you have a simple conditional, use K&amp;R.  If you have a complex conditional, use ANSI.<br> <br>If you ignore the pros/cons each style and just apply one to all your code like a cookie-cutter you're losing their benefits in the name of the dubious goal of consistency.<br>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

