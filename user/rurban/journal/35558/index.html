<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of rurban: perl compiler  5.9.5</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>perl compiler  5.9.5</h1>
<h2><a href="/user/rurban/">rurban</a> on 2008-02-02T09:51:42</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I was worried about the perl compiler state after parts have been removed from CORE with 5.9.5.
Having patched parts of B::Generate and more packages for 5.10, I felt to give B::C and friends a try.<br/><br/>I also wanted to experiment with the GNU lightning library, which I also evaluate for a clisp bytecode compiler extension (done recently by Yann Nicolas Dauphin in parallel), and for another project of mine. The JIT compiler for clisp is now usable, but slow.<br/><br/>So I fixed the obvious compiler warnings with the changed structs, and packaged B::C, B::CC, ByteLoader and its helper packages for a forthcoming B-C-1.05 package.<br/><br/>I also had some thoughts on future optimizations
when a native code perl compiler backend is available. This is what JIT lightning does.
E.g. type checking and detecting IVonly or PVonly ints or strings, which could be optimized to smaller and faster ops in JIT assembler.
Thinking about new B::Asm and B::JIT backends, "PLJC" ByteLoader 4-byte magic header.
byterun.c => jitrun.c<br/><br/>Current state:
1.04_02 2008-01-22 rurban
	* removed from CORE, now on CPAN. 
	* added byteorder to bytecode header.
	* added support for 5.10 (NOT YET WORKING!), 5.9.5 not tested.
	  up to 5.8.x already in CORE, so disabled. 
	  add back support later, when C/CC is improved or more features 
	  are added.
	* added type hekindex
	* added c.t and cc.t tests
	* extended bytecode.pl format: added version logic 
	  to have strictly consecutive indices<br/><br/>All compile-time failures fixed, but still some run-time failures for bytecode XCV_STASH and PV handling. <br/><br/>http://rurban.xarch.at/cygr/perl/B-C-1.04_02.tar.gz
</p>


<hr/>



<h2>More Asm stuff</h2>
<h3><a href="/user/rurban/">rurban</a> on 2008-02-09T12:46:20</h3>
I've had no time to fix the remaining B::C run-time problems. Too busy with clisp and postgresql packaging problems.<br>
But I've added some docs and Asm and Jit stuff just for experiments.<br>
Later this will go to extra packages B::Asm and B::Jit.<p>

<a href="http://rurban.xarch.at/cygr/perl/B-C-1.04_04.tar.gz" title="xarch.at">http://rurban.xarch.at/cygr/perl/B-C-1.04_04.tar.gz</a xarch.at></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

