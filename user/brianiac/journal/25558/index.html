<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of brianiac: Entify Your HTML!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Entify Your HTML!</h1>
<h2><a href="/user/brianiac/">brianiac</a> on 2005-07-07T05:24:13</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p><strong>Updated</strong> Reposted from my other journal <cite><a href="http://brianary.blogspot.com/2005/07/entify-your-html.html">http://brianary.blogspot.com/2005/07/entify-your-html.html</a></cite>:</p><blockquote><p>To the embarassingly uninformed third party vendors of web-based applications, I present a quick look at HTML entities. This is Chapter One stuff in even the most basic HTML book, but I still get puzzled, dismissive, and even indignant replies when I request fixes for simple HTML bugs.
</p><h2>Three important characters: <code>&lt;</code> <code>&gt;</code> <code>&amp;</code></h2><p>These characters are special to HTML for processing. In the text or attribute values of a page, you must use <dfn>entities</dfn> that stand for them: <code>&amp;lt;</code> <code>&amp;gt;</code> <code>&amp;amp;</code>(respectively). In attributes, <code>"</code> should also be replaced with <code>&amp;quot;</code> (you can also use <code>&amp;quot;</code> in text, but it isn't a requirement).</p><h2>The Web Is A Big Place</h2><p>If you forget to entify your special characters, some browsers will sometimes let you get away with it. If you intend to produce code for the widest possible audience (which is the whole point of the Internet, after all), it is best not to assume your indiscretions will always go unnoticed; better to do it right to start with, and you won't have to double check every support call (<acronym title="expensive!">$$$</acronym>) to see if unentified HTML is part of the problem.</p><h2>Unentified HTML Is Insecure HTML</h2><p>All Cross-Site Scripting (XSS) attacks are caused by unentified HTML, and can be prevented using entities. The liability of such an attack, though potentially considerable, is nothing compared to the loss of client trust.</p><h2>It's Easy</h2><p>Every web development language has a single function you can call to entify the contents of string or text variables (numeric and date/time variables do not typically require escaping), e.g. <code>Server.HTMLEncode()</code> in Active Server Pages or <code>htmlentities()</code> in PHP. In cases where the language does not provide such a function, writing one is trivial: four search-and-replace calls (do the ampersand first).</p></blockquote><p>It just kills me how often I see unencoded HTML (of the severity that actually breaks things), and how defensive companies get when it's pointed out. As if it were a lengthy or difficult fix.</p></p>


<hr/>



<h2>Wait ...</h2>
<h3><a href="/user/pudge/">pudge</a> on 2005-07-07T07:09:41</h3>
Are you saying ' and " must not be single octets anywhere in the text of HTML, but rather, that &amp;apos; and &amp;quot; must be used?  What part of the HTML spec did you get that from?  In attribute values, yes, but in the text, there's no such requirement.<br>



<blockquote>

<h2>Re:Wait ...</h2>
<h3><a href="/user/brianiac/">brianiac</a> on 2005-07-07T16:33:13</h3>
These are subtleties that I see no need to try to explain to people that resist even encoding . This is not a normative reference work, but a rule of thumb intended for an audience with a poor track record of understanding and accepting standards.



<blockquote>

<h2>Re:Wait ...</h2>
<h3><a href="/user/brianiac/">brianiac</a> on 2005-07-07T16:38:27</h3>
<blockquote> <div> <p> <em>"...even encoding <strong> <code>&lt;</code> and <code>&gt;</code><nobr> <wbr></nobr></strong>."</em> </p> </div> </blockquote> <p>Apparently this is some strange new usage of "Plain Old Text" that I was not previously aware of.</p>



<blockquote>

<h2>Re:Wait ...</h2>
<h3><a href="/user/pudge/">pudge</a> on 2005-07-07T16:45:25</h3>
Plain Old Text still allows HTML, but it takes care of newlines, and it's worked that way for years in Slash without too many complaints.<br> <br>We'd get a lot more if it worked as you wanted it to.  You wanted Extrans.  Which has a lame name.  But oh well.





</blockquote>


<h2>Re:Wait ...</h2>
<h3><a href="/user/pudge/">pudge</a> on 2005-07-07T16:43:56</h3>
It's not a subtlety: there is simply no need to encode ' and " anywhere but in attributes.<br> <br>Also, &amp;apos; is illegal in HTML.  It's only a named entity in XHTML.<br>



<blockquote>

<h2>Re:Wait ...</h2>
<h3><a href="/user/brianiac/">brianiac</a> on 2005-07-07T17:31:30</h3>
<p>But not even all attributes require <code>&amp;quot:</code>, only attributes that use <code>&quot;</code> as a delmiter. My original intent was a single clear rule, without dithering or qualifying that could be used as an excuse to ignore this process based on complexity.</p> <p>I work with several third-party vendors in the financial sector, who have a great deal to learn about web development. This is meant to be simple enough to remember for those writing home banking, bill payment, loan application, and other web apps, but also apps from any other sector (niche software needing the biggest shove).</p> <p>The lack of <code>&amp;apos;</code> in the HTML spec is obviously an oversight by the W3C. Why would <code>&apos;</code> -delimited attributes not be given the same escape mnemonic capacity (<code>&amp;#39;</code> or <code>&amp;#x27;</code> just aren't as easy to remember) that <code>&quot;</code> -delimited attributes are?</p> <p>However, the point is taken. See if <a href="http://brianiac.blogspot.com/2005/07/entify-your-html.html" title="blogspot.com">the update</a blogspot.com> seems better to you.</p>



<blockquote>

<h2>Re:Wait ...</h2>
<h3><a href="/user/pudge/">pudge</a> on 2005-07-07T17:47:31</h3>
I'd say a better rule is to not delimit attributes with ', and use onle ", as God intended.<nobr> <wbr></nobr>:-)<br> <br>As to why &amp;apos; is missing, no idea, but yeah, it seems lame.  But as everyone seems to accept it (except for proper strict validators that know about entities), it's not something I'd personally care too much about.  Just offering it as a footnote.





</blockquote>

</blockquote>


<h2>Re:Wait ...</h2>
<h3><a href="/user/dws/">dws</a> on 2005-07-07T18:29:13</h3>
So people are resisting what? A rule of thumb?



<blockquote>

<h2>Re:Wait ...</h2>
<h3><a href="/user/brianiac/">brianiac</a> on 2005-07-07T23:42:18</h3>
Yes. Perhaps more properly, a simplified version of the spec. Too much truly lousy HTML is being generated.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

