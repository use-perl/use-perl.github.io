<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of ethan: CPAN detergent needed</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>CPAN detergent needed</h1>
<h2><a href="/user/ethan/">ethan</a> on 2005-09-29T05:56:39</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>There were times when a pathetic addition to the CPAN was merely a minor annoyance, easy to tolerate as such a module did not interfer with one's own work.<br/><br/>Nowadays however, <a href="http://search.cpan.org/user/simatika/subclustv1_0/">one rotten CPAN egg</a> is capable of making tests of your own modules fail, as can be seen <a href="http://www.nntp.perl.org/group/perl.cpan.testers/253437">here</a> and <a href="http://www.nntp.perl.org/group/perl.cpan.testers/224033">here</a>.<br/><br/>Mind you, the offending module isn't used nor mentioned anywhere in the modules whose tests it can make fail. The failures happen because this pathetic piece of shit <a href="http://search.cpan.org/src/SIMATIKA/subclustv1_0/">doesn't adhere</a> to any CPAN packaging standards and its files and directories somehow get merged with those of other modules on tarball-extraction.<br/><br/>And now I am waiting for those who still claim that CPAN's policy should be as liberal as possible when it comes to uploads. No, it shouldn't. Instead, too obvious breaches against CPAN conventions should be denied their upload. Furthermore, those that were uploaded in the past ought to be deleted immediately.<br/><br/>I suppose it's not going to happen. That means that my modules will continue to fail their tests on that particular machine until its admin finally removes the offending files by hand.
</p>


<hr/>



<h2>at least..</h2>
<h3><a href="/user/domm/">domm</a> on 2005-09-29T08:57:59</h3>
.. it got really <a href="http://cpants.perl.org/dist/subclustv" title="perl.org">low kwalitee</a perl.org><nobr> <wbr></nobr>:-)



<h2>What specifically?</h2>
<h3><a href="/user/petdance/">petdance</a> on 2005-09-29T14:31:17</h3>
What specifically do you suggest gets checked for?
<p>
And how does this module make your own tests fail?  What is the harmful behavior it's causing?</p>



<blockquote>

<h2>Re:What specifically?</h2>
<h3><a href="/user/ethan/">ethan</a> on 2005-09-29T16:32:41</h3>
<cite> What specifically do you suggest gets checked for?</cite><br><br>With respect to an uploading policy, you mean? I'd say the criterium of extracting nicely into a directory of its own is the very least that should be checked for.<br><br><cite>And how does this module make your own tests fail? What is the harmful behavior it's causing?</cite><br><br>The harmful behaviour is caused by this module's tarball extracing into the directory <code>blib/</code>. I suppose that on this machine where the POD-tests fail for two of my modules it was unpacked while being in the subdirectories created by my modules. Thus this module planted its files under <code>blib/lib/</code>. My POD-test checks all<nobr> <wbr></nobr><code>.pm</code> files in this directory not expecting to find a foreign module's files there.



<blockquote>

<h2>Potential for self defense meantime</h2>
<h3><a href="/user/n1vux/">n1vux</a> on 2005-10-03T22:58:39</h3>
I sort of understand how the reactions against any call for setting a minimum Kwaalliittee or some other "elitist" minimal bar for sucessfull upload is treated as a <a href="http://www.google.com/search?hl=en&amp;q=Swift+modest-proposal" title="google.com">Modest Proposal</a google.com>. But this <b>is</b> worth further consideration -- the very infrastructure that <b>now</b> makes enforcing such possible is what is making lack of it punish <b>good</b> module authors.  The penalty for failing the grade need not be as draconian (or procrustean?) as summary deletion; the offending "module" could be relegated to BackPan, until a replacement that meets standards is uploaded.

<p>Maybe you can have your POD-test parse your MANIFEST and only test your own files, using <code> <a href="http://search.cpan.org/user/petdance/Test-Pod-1.20/Pod.pm#all_pod_files_ok(_%5B@files/@directories%5D_)" title="cpan.org">Test::Pod::all_pod_files_ok( @files );</a cpan.org> </code>. It looks like <code> <a href="http://search.cpan.org/user/markov/OODoc-0.90/lib/OODoc/Manifest.pod" title="cpan.org">OODoc::Manifest::files()</a cpan.org> </code> will provide a OO interface to your Test to read the Manifest and return the list needed, but <b>warning</b> I haven't tried it. Whether it's prerequisites are worth the bother I don't know<nobr> <wbr></nobr>... how hard can parsing a MANIFEST be, he asked with trepidation.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

