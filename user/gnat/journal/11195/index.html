<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of gnat: Easy updates</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Easy updates</h1>
<h2><a href="/user/gnat/">gnat</a> on 2003-03-24T12:10:43</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I'm really impressed with Apple's <i>Software Update</i>.  For those of you without Macs, it gathers signatures of various pieces of software and compares them to a list downloaded from the Apple mothership website.  From there it can tell you "hey, you have an old version of xyz and you need this update".<p>

I've got programs on my laptop that are also on my colocated machine and on my basement server.  I'm positive I've hacked in new features on one machine or another, but synchronizing them has been a nightmare.  Perhaps I should develop my code on one machine.  Give a unique ID to each released program, embedding it as POD or just a comment.  Then with a master list of versions and upgrade paths from the development server, it's simple to extract IDs from everything in <i>~gnat/bin</i> and see what needs to be updated.<p>

Is there a Truer Perl way to do this?  I do <i>not</i> want to make every program into a module with a <tt>$VERSION</tt> and unique package name.  That is the True Java way.  Any Truer Perl way works on programs qua programs, not "a program is an instance of an Application object that has been subclassed to override the Run method ..." nonsense.<p>

Hmm, I guess this epitomizes the Unix and Perl philosophy for me.  If there's a More Perl way to do it than I described, then it does so by removing one layer of complexity by reusing an existing feature.  For example, MD5ing <tt>$VERSION</tt> and the first comment in the source instead of assigning a unique identifier, or hooking into CPAN.pm/CPANPLUS to register, install, and upgrade programs.<p>

How many times have you seen a nasty solution to a problem, wondered "what the hell are they doing?", and then proceeded to strip away unnecessary obfuscation after meaningless cargo-cult programming artifact until finally you arrive at a simple elegant expression of what it was you wanted to do all along?  Ok, maybe not that often, but it's an experience I recognize from several times in my life as a programmer.  I guess one of the pleasures of going through hell several times is that you begin to learn the landmarks.  "Ah yes, I remember this bubbling lake of sulphur, so that must be Sisyphus's rock rolling down that hill ..." and so on.<p>

<i>--Nat</i></p>


<hr/>



<h2>Software Distribution</h2>
<h3><a href="/user/ziggy/">ziggy</a> on 2003-03-24T15:31:05</h3>
<blockquote><div> <i>
I've got programs on my laptop that are also on my colocated machine and on my basement server.  I'm positive I've hacked in new features on one machine or another, but synchronizing them has been a nightmare.  [...]
</i> </div></blockquote>
Sounds like (1) you want to keep your little hacks in CVS (or svn, or<nobr> <wbr></nobr>....) and (2) <tt>cvs up</tt> on your various servers periodically.  Software distribution problem solved, and no mucking around with <tt>$VERSION</tt> or other cargo-cult features.<nobr> <wbr></nobr>:-)



<blockquote>

<h2>Re:Software Distribution</h2>
<h3><a href="/user/gnat/">gnat</a> on 2003-03-24T22:03:42</h3>
Yeah, but I don't want CVS crap laying around in my binary directories, do I?  And I don't necessarily want to install every program on every machine.<p>

<i>--Nat</i></p>



<blockquote>

<h2>Re:Software Distribution</h2>
<h3><a href="/user/ziggy/">ziggy</a> on 2003-03-25T02:17:14</h3>
If you don't want CVS directories hanging around, there's always svn or p4.  But I don't see what the problem is...
<p>
And you're not forced to check out entire directories.  You can check out individual files, or check out random files from all over the repository into the same directory.  <tt>cvs co -d . module/filename</tt>.<nobr> <wbr></nobr>:-)</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

