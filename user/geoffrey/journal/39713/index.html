<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of geoffrey: Parrot Plumage &quot;Day&quot; 8: Getting a bit smarter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Parrot Plumage &quot;Day&quot; 8: Getting a bit smarter</h1>
<h2><a href="/user/geoffrey/">geoffrey</a> on 2009-10-05T08:25:54</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>
<a href="http://use.perl.org/user/geoffrey/journal/39697">When last we left off</a>, Plumage had just managed to install its first project, thus moving from the "infant" to "toddler" phase of development.
</p>

<p>
In preparation for reaching "preschooler" status, I spent time this week removing some hackishness and making Plumage generally smarter about basic operations.  Some of the changes were very simple, such as always printing out system commands to be spawned before actually executing them, or pushing some boilerplate code down into utility functions rather than forcing every calling site to go through the same contortions.
</p>

<p>
Some changes were infrastructural, including basic utilities like <code>map()</code>, <code>exists()</code>, and <code>does()</code> and workarounds for NQP limitations.  The latter category included new functions such as <code>as_array()</code>, <code>call_flattened()</code>, and <code>try()</code>, which Tene++ and I added to <code>Glue.pir</code> to make calling convention mismatches a bit less painful.
</p>

<p>
Other changes were larger, such as adding command line option handling, allowing the user to ignore failures in various build stages, and handling exceptions thrown by Parrot ops and low-level Parrot libraries.  Handling (possibly several) config files (including merging the config information across them) and moving all project builds to a separate location -- defaulting to <code>~/.parrot/plumage/build/</code> -- also fell into the "larger changes" pile.
</p>

<p>
Still others amounted to cleanup and general code maintenance, such as compiling <code>Glue.pir</code> to <code>Glue.pbc</code> during the <code>plumage</code> build so that all libraries could be directly loaded as pure bytecode at runtime, finding less hackish ways of working around NQP, and cleaning up documentation and comments throughout.
</p>

<p>
Finally, darbelo++ added a new project (partcl) to the metadata collection; I hope to add a few more in the next week or two.
</p>

<p>
All in all, no major new milestones reached -- but the code feels a bit more solid now, behavior is "more correct" in several places, and the user experience is definitely better.  Not a bad week's work.
</p>

<p>
As always, you can check out the code at the
<a href="http://gitorious.org/parrot-plumage/parrot-plumage">Parrot Plumage repository</a>,
and don't hesitate to ping me on IRC -- I'm <code>japhb</code> on <code>#parrot</code> at <code>irc.parrot.org</code>. If you'd like to join the effort, read the <code>README</code> for the general overview, then come to <code>#parrot</code> to get your questions answered!
</p>
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

