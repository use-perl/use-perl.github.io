<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of AndyArmstrong: Safari 4 likes clicking</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Safari 4 likes clicking</h1>
<h2><a href="/user/AndyArmstrong/">AndyArmstrong</a> on 2009-07-02T10:24:32</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Installing Safari 4 had a pretty strange effect for me: Lights in the house switched on and off at random.</p>

<p>It turns out that Safari likes to visit your favourite pages periodically to update its Top Sites browser. Which is fine unless some of the lights in your house are controlled by a web interface which uses GET for the light switch buttons.</p>

<p>Since it's private to the house network I hadn't bothered to password protect it. I assume Safari would have left it alone if I had. On a hunch I fixed the problem by switching the lighting control page to https - and it seems to have worked.</p>

<p>I can't help wondering 1) how many intranets it's attacked already and 2) does it know to refrain from clicking on sites that use cookie based auth (RT?) and if so, how?</p></p>


<hr/>



<h2>Safari is not doing anything wrong</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2009-07-02T17:40:23</h3>
<p>The HTTP spec states that GET should be safe and should never assume that the client is asking for any side-effects. Use PUT or POST for those.</p>



<blockquote>

<h2>Re:Safari is not doing anything wrong</h2>
<h3><a href="/user/AndyArmstrong/">AndyArmstrong</a> on 2009-07-03T00:50:21</h3>
<p>If I thought Safari was doing anything wrong I'd have been nastier about it. The point was that it's doing something that browsers haven't done in the past and that's going to cause a bit of head scratching until people realise that Safari goes off on little jaunts through your favourites when it feels like it. It's pretty common IME for people to assume that if they're on a private network they don't need to worry about using GET with side effects. </p><p>Years ago I had a client who couldn't understand how pages from their wiki-style public consultation site kept getting deleted. Turned out that GoogleBot was visiting their hidden "delete page" links...</p>



<blockquote>

<h2>Re:Safari is not doing anything wrong</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2009-07-03T04:09:36</h3>
<p>Look for [<a href="http://www.google.com/search?q=%22web+accelerator%22+rails" title="google.com">&quot;web accelerator&quot; rails</a google.com>] for the last big brouhaha. I don&#8217;t know what to think about this&#8230; it&#8217;s not uncommon, but that doesn&#8217;t make it any less misguided, so I don&#8217;t know whether to fault the agents that do this sort of thing. More importantly, short of abstaining from such requests all together (which means withholding a nice feature), I don&#8217;t see what they could do, so I wouldn&#8217;t know <em>how</em> to fault them.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

