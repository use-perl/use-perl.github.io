<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of vek: Extending The Life Of Legacy COBOL Apps</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Extending The Life Of Legacy COBOL Apps</h1>
<h2><a href="/user/vek/">vek</a> on 2001-11-13T13:24:05</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>It struck me the other day just how many different technologies we support at work.  Perl plays a major role in gluing them all together.  <br/><br/>We have some older legacy COBOL apps that are called from perl.  There's an interesting mix, COBOL programs, running on Solaris, being called from perl.  Works like a charm though and I'll get back to COBOL in a second.<br/><br/>Then there's the database dance.  Along with COBOL ISAM files, we run (in no particular order of preference) Oracle, MySQL, mSQL, Sybase.  Oracle, MySQL, and mSQL are all on Solaris.  The Sybase database is on a remote NT box.  Thanks to DBI, the DBD::* family and <a href="http://www.freetds.org">freetds</a> perl talks happily away to all 4 relational databases - the perl->COBOL conversation does not require DBI.<br/><br/>So just when you think COBOL is dead and you're just supporting old projects - along comes a new project that requires some of that COBOL functionality.  So, do you re-write the app or re-use it?  You re-use it of course <b>*grin*</b>.  But this is not your Grandad's COBOL app.  In the true spirit of extending the life of a legacy app, this is an all singing, all dancing XML interface extravaganza.  <br/><br/>We have XML server box that runs our initial perl XML servers.  These servers accept socket connections from various clients both from our internal network and externally.  The clients include perl apps, Java apps, Java GUI clients, VB GUI clients to name a few.  XML 'messages' are sent over the socket connection and pre-parsed by the servers.  From there, the XML message is routed to the applicable database box, one of which happens to be our COBOL database box.  We also have perl XML servers running on the database boxes that do the real XML parsing.  Let's stick with the COBOL box though.  The data is extracted from the XML message, given to a COBOL program (which COBOL program depends on the type of XML message we've been sent), COBOL crunches the data and returns data back to the perl XML server.  The perl XML server grabs a XML template, substitutes the placeholders with the response data from the COBOL program and sends the response XML message back to the originating client.  This all happens faster than you and I can blink and the originating client has no idea it has just hit a ye olde COBOL program.<br/><br/>Pretty cool stuff. </p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

