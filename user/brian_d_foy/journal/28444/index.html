<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of brian_d_foy: CPAN Clean Sweep 2006</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>CPAN Clean Sweep 2006</h1>
<h2><a href="/user/brian_d_foy/">brian_d_foy</a> on 2006-01-24T04:28:59</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>It's a new year, so it's time to reduce the size of CPAN.<br/><br/>A long time ago, I was really interested in <a href="http://use.perl.org/user/brian_d_foy/journal/8314">measuring the growth of CPAN</a>, and comparing that to the size of MINICPAN, which I called the Schwartz Factor.<br/><br/>I'm interested again because CPAN just filled up an old laptop disk and my FreeBSD machine got really concerned about where it would put files. CPAN is over 3 gigs. Yowsers! We can get under 3 if people can delete about 150 Mb of old versions.<br/><br/>Some of that size, however, is cruft and old versions of modules. <a href="https://pause.perl.org/pause/authenquery?ACTION=delete_files">Delete those older files!</a> You'll still find them on BackPAN, so you don't need to keep them in CPAN. :)
</p>


<hr/>



<h2>Effect of previous call to increase your Schwartz</h2>
<h3><a href="/user/mr_bean/">mr_bean</a> on 2006-01-24T05:06:32</h3>
I'm wondering how much effect the previous call to clean up CPAN had.
Because although that message, 'Increase your Schwartz' <a href="http://use.perl.org/user/brian_d_foy/journal/8314" title="perl.org">http://use.perl.org/user/brian_d_foy/journal/8314</a perl.org> is interesteding to read, there are no comments to it.<br/><br/>My guess is that the CPAN authors who leave lots of old versions around are also those who don't read use.perl journals.



<blockquote>

<h2>Re:Effect of previous call to increase your Schwar</h2>
<h3><a href="/user/brian_d_foy/">brian_d_foy</a> on 2006-01-24T05:11:40</h3>
I forget the numbers, but as I recall we shaved a couple of percent off the size. No matter how we did then, maybe we can do better this time.<nobr> <wbr></nobr>:)





</blockquote>


<h2>Is there any way to detect the worse offenders?</h2>
<h3><a href="/user/Alias/">Alias</a> on 2006-01-24T06:19:34</h3>
Can we tell who the worst offenders are? Surely there's a dozen people or who have never deleted files and released dozens or hundreds of versions of things,.



<blockquote>

<h2>Re:Is there any way to detect the worse offenders?</h2>
<h3><a href="/user/brian_d_foy/">brian_d_foy</a> on 2006-01-24T06:25:08</h3>
Sure, we could just go through the author directories and count up the byte size of all of the old distros. Maybe I'll hack up that script; I need something for next month's <a href="http://www.theperlreview.com/" title="theperlreview.com">The Perl Journal</a theperlreview.com>.<nobr> <wbr></nobr>:)<br><br>I'm not about shaming people though, and some people might have good reason to keep old versions around.<br>



<blockquote>

<h2>Re:Is there any way to detect the worse offenders?</h2>
<h3><a href="/user/Alias/">Alias</a> on 2006-01-24T07:32:24</h3>
Well, it's never _about_ shaming people.<br><br>It's about providing more information for people. When a new batch of information becomes available (like the CPANTs stuff) there will be a number of people that totally won't have known they were doing the wrong thing, and will quite quickly move to fix it.<br><br>And those that don't care will never see.<br><br>Just don't make a competition out of it.<nobr> <wbr></nobr>:)<br><br>If you were to list people based on "inverted Schwatz factor" then you could just list it for the good people as "3 or less", to avoid people religiously culling modules so hard that we don't even have one previous version available.<br><br>





</blockquote>

</blockquote>


<h2>Archiving?</h2>
<h3><a href="/user/sigzero/">sigzero</a> on 2006-01-24T12:58:07</h3>
<p>Couldn't some kind of auto-archiving take place, where things get moved to BackPAN?</p>



<h2>Done.</h2>
<h3><a href="/user/jk2addict/">jk2addict</a> on 2006-01-24T13:41:56</h3>
About 80 files gone. Does CPAN/CPANPLUS search backpan when installing modules? If so, maybe it's time to just make this an automatic thing?



<h2>Keep at least one old version, please!</h2>
<h3><a href="/user/ChrisDolan/">ChrisDolan</a> on 2006-01-24T14:46:10</h3>
It would be helpful if authors would keep at least one older version on CPAN:<br><br>1) The diff tool at search.cpan.org doesn't work against Backpan<br>2) Sometimes unexpected bugs or incompatibilities do crop up, and in those cases, it's nice to be able to use CPAN.pm to revert rather than having to go and manually download the tarball.<br>



<blockquote>

<h2>Re:Keep at least one old version, please!</h2>
<h3><a href="/user/jand/">jand</a> on 2006-01-24T22:27:50</h3>
I totally agree with this!  I would even argue that only releases over a year old should be deleted.  Having the last couple of versions available for forensic investigations using the search.cpan.org diff tool is very valuable.  <p>Disk space is cheap; 3GB is less than a single DVD.<nobr> <wbr></nobr>:)</p>





</blockquote>


<h2>CPAN mirroring</h2>
<h3><a href="/user/drhyde/">drhyde</a> on 2006-01-25T12:36:43</h3>
Different subject entirely, but how are you maintaining your mirror?  I used to use rsync to keep mind up-to-date, but it seems that pretty much all the mirrors I've tried rsyncing from recently are broken, so I never get back in sync.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

