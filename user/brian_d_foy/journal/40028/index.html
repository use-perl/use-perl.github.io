<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of brian_d_foy: What's your coolest Perl one-liner?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>What's your coolest Perl one-liner?</h1>
<h2><a href="/user/brian_d_foy/">brian_d_foy</a> on 2009-12-17T06:19:18</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Josh and I are finishing up <a href="http://www.amazon.com/Effective-Perl-Programming-Software-Development/dp/0321496949/">Effective Perl Programming, 2nd Edition</a>, and the last part to finish off is the item on Perl one-liners.<br/><br/>Besides going through writing a one liner, we want to list a bunch of them too. Want to get your name in the book? Give us some one-liners that you wrote yourself and a couple of sentences about what it does. Make sure you tell us how you'd like your name to appear in the book, too. :)</p>


<hr/>



<h2>GCDs in a regex</h2>
<h3><a href="/user/JadeNB/">JadeNB</a> on 2009-12-17T15:38:05</h3>
I was very proud of this recent substitution that implements the Euclidean algorithm:<br/><br/><a href="http://perlmonks.org/?node_id=804838" title="perlmonks.org">http://perlmonks.org/?node_id=804838</a perlmonks.org><br/><br/>It follows in the fine tradition of the regex primality test by using repeated capturing groups to perform division with remainder.



<h2>My most common ones are pretty simple.</h2>
<h3><a href="/user/elliot/">elliot</a> on 2009-12-17T16:04:58</h3>
<code>perl -MSome::Module -e 0
</code><p><code>
perl -E 'say foreach split ":", $ENV{PATH}' # Or other pathlike thing.
</code></p><p><code>
ack --text -l '\bv1.2.3\b' | xargs perl -pi -e 's/\bv1\.2\.3\b/v1.2.4/g'</code>
</p><p>
Otherwise, it's mostly experiments; I prefer bash to a REPL.</p>



<h2>MetaSyntactic</h2>
<h3><a href="/user/domm/">domm</a> on 2009-12-17T22:29:05</h3>
<blockquote><div><p> <tt>~$ perl -MAcme::MetaSyntactic=donmartin -E 'say metaname'<br>KLINK</tt></p></div> </blockquote><p>Or, if I need several alternatives to boring values like 'foo':</p><blockquote><div><p> <tt>~$ perl -MAcme::MetaSyntactic=any -E 'say metaname for 1..10'<br>l5nas_parchan<br>The_Living_Daylights<br>sugar<br>TO<br>Nick<br>Neptune<br>Pigpen<br><nobr>b<wbr></nobr>  romine<br>Kyrano<br>voyager</tt></p></div> </blockquote><p>But usually I prefere the <code>donmartin</code> theme</p>



<h2>Various one-liners from MNooning</h2>
<h3><a href="/user/mhn/">mhn</a> on 2009-12-18T21:09:54</h3>
MNooning wrote:<br>
<br>
Here are some Windows one-liners.  On Linux, use single quotes and forward slashes.<br><br/><br/>Find the INC path that Perl sees when it starts up.<br>
&gt;perl -e "print qq[INC = @INC\n];"<br>
INC = C:/Perl/site/lib C:/Perl/lib<nobr> <wbr></nobr>.<br>
<br>
Another way to find the INC path.<br>
perl -wle "print for @INC"<br>
C:/Perl/site/lib<br>
C:/Perl/lib<br>
<br>
Find out if a module is installed.  If it is, no error messages will show.<br>
&gt;perl -e "use Tk"<br>
<br>
Obtain the version of an installed module.<br>
&gt;perl -MTk -e "print \"$Tk::VERSION\n\"<br>
804.028501<br>
<br>
Here is the same command on Cygwin<br>
&gt;$ perl -MTk -e 'print $Tk::VERSION'<br>
804.028<br><br/><br/>This is what you see if the module is not there:<br>
&gt;perl -e "use TkBad"<br>
Can't locate TkBad.pm in @INC (@INC contains: C:/Perl/site/lib C:/Perl/lib<nobr> <wbr></nobr>.) at -e line 1.
BEGIN failed--compilation aborted at -e line 1.<br>
<br>
<br>
This is also what you see if the module is not there:<br>
&gt;perl -MTkBad -e "print \"$TkBad::VERSION\n\"<br>
Can't locate TkBad.pm in @INC (@INC contains: C:/Perl/site/lib C:/Perl/lib<nobr> <wbr></nobr>.).
BEGIN failed--compilation aborted.<br>
<br>
Here is an example of getting the version of an installed module in a deep path.  Again, the syntax is different on Linux.<br>
C:\oldProjects\proj_bu_2003\routines&gt;perl -MCatalyst::Authentication::Store::LDAP -e "print \"$Catalyst::Authentication:<nobr> <wbr></nobr>:Store::LDAP::VERSION\n\"<br>
0.1005<br>
<br>
This is a bit of a different one-liner subject, but a quick way to scroll a module's package file is<br>
&gt;perldoc -m Tk



<h2>Eval</h2>
<h3><a href="/user/Juerd/">Juerd</a> on 2009-12-21T01:53:26</h3>
<p>Still my favorite is: </p><blockquote><div><p> <tt>perl -ple'$_=eval'</tt></p></div> </blockquote><p>It's a pure REPL. It evaluates every line from stdin and outputs whatever they evaluate to. It has many uses, but most of the time it's "just" a very powerful calculator.</p>



<h2>The awk features are rather nice</h2>
<h3><a href="/user/jjore/">jjore</a> on 2009-12-21T02:02:17</h3>
<p>I find I use -a rather alot for snippets like the following:</p><blockquote><div><p> <tt>dpkg -l | perl -lane 'print $F[1] if $F[1] =~<nobr> <wbr></nobr>/ruby/'</tt></p></div> </blockquote><p>It's still useful for alternative delimiters. Pretending dpkg used tabs for delimiters, I'd add the parameter </p><blockquote><div><p> <tt>-F$'\t'</tt></p></div> </blockquote><p>It also find it's really helpful to got a proper handle on quoting whether in my shell or in perl. Often in a one-liner I'm using qq{} in perl to avoid messing with my shell's own use of ' or ". Occasionally I use bash's $'\t' syntax which lets me say things like </p><blockquote><div><p> <tt>perl -F$'\t'</tt></p></div> </blockquote><p>. I often say the ugly but effective: </p><blockquote><div><p> <tt>perl -le 'print "Cant'\''t get no satisfaction"'</tt></p></div> </blockquote><p>I use the very, very short one-liner </p><blockquote><div><p> <tt>perl -dea</tt></p></div> </blockquote><p> which just opens up a fresh debugger. I like that "dea" is supposedly the Latin word for goddess. I gather other people like to have other cute words like -debugger. It's all rather arbitrary but works as long as the word starts with the letters 'de'.</p>



<h2>The cutest of them all</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2009-12-22T20:16:31</h3>
<p>Here&#8217;s a replacement for <tt>cat(1)</tt>:</p><p> <code>perl -please somefile.txt</code> </p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

