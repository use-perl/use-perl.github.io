<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of brian_d_foy: What I want for Christmas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>What I want for Christmas</h1>
<h2><a href="/user/brian_d_foy/">brian_d_foy</a> on 2003-11-26T16:27:00</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I want an HTTP cookies server.  This server sits on my local machine, and browsers have to request from it existing cookies or give it cookies to store.  Every browser can use this, and every browser should.<br/><br/>That way, no matter if I am using Mozilla, iCab, Safari, or Internet Explorer, they all see the same cookies.<br/><br/>Luckily I have already started with the HTTP::Cookies::* modules I have out there. Now I just need to make the server and convince everyone to use it.</p>


<hr/>



<h2>Proxy?</h2>
<h3><a href="/user/samtregar/">samtregar</a> on 2003-11-26T17:59:53</h3>
I think you could do it as an HTTP Proxy.  Cookies travel in the header so a proxy should be able to capture and add cookies at will.
<p>
-sam</p>



<blockquote>

<h2>Re:Proxy?</h2>
<h3><a href="/user/brian_d_foy/">brian_d_foy</a> on 2003-11-26T22:44:14</h3>
How do the user-agents get access to them?  Getting the cookies is not the hard part---finding them later is.<br> <br>The major problem is that a lot of browsers do it in memory. They read their cookies file, keep it in memory, do stuff, and rewrite it on exit.  Once the browser starts up, it has all the cookies it is going to get from anything other than its own requests.



<blockquote>

<h2>Re:Proxy?</h2>
<h3><a href="/user/samtregar/">samtregar</a> on 2003-11-26T22:47:43</h3>
Web browsers are have builtin HTTP Proxy support.  Just open up your preferences and point your browser at the proxy address.  Then all your HTTP requests flow through the proxy.
<p>
-sam</p>



<blockquote>

<h2>Re:Proxy?</h2>
<h3><a href="/user/samtregar/">samtregar</a> on 2003-11-26T22:48:09</h3>
... and the proxy can add Cookie: headers at will.
<p>
-sam</p>



<h2>Re:Proxy?</h2>
<h3><a href="/user/brian_d_foy/">brian_d_foy</a> on 2003-11-27T12:22:16</h3>
I still don't see how this solves the problem of the user agents loading already-set cookies into memory and sharing them with other browsers.<br> <br>A proxy is solving a different problem than the one I am talking about.<nobr> <wbr></nobr>:)



<blockquote>

<h2>Re:Proxy?</h2>
<h3><a href="/user/samtregar/">samtregar</a> on 2003-11-27T18:05:34</h3>
Ok, I don't think I've been very clear.  Let me walk you through my crazy scheme.
<p>
You write an HTTP proxy that captures cookies and modifies requests to include the cookies from its jar.  When a browser makes a request through the proxy the proxy can decide to add cookies to the request based on its own cookie stash.  It can ignore the cookies the browser has or doesn't have and substitute its own.
</p><p>
Let's take as an example, me logging in to use.perl in Mozilla, then trying to access the site from IE.
</p><ol>
<li>Mozilla logs in to use.perl through the proxy, and supplies no cookies.</li>
<li>The proxy recieves the response and records the cookie, then forwards it to Mozilla.</li>
<li>Later, IE accesses use.perl through the proxy and supplies no cookies.</li>
<li>The proxy notes that it has a valid cookie for use.perl and adds it to the request headers.</li>
<li>IE recieves the cookie on the response and updates its internal store, effectively using the proxy as a cross-browser cookie store.</li>
</ol>
<p>
Does that make things clearer?
</p><p>
-sam</p>



<blockquote>

<h2>Re:Proxy?</h2>
<h3><a href="/user/brian_d_foy/">brian_d_foy</a> on 2003-11-28T03:22:48</h3>
No, you were clear.<br> <br>That way the browser knows nothing about it.  I want the browser to know about the cookies.  I don't want an add on, I want browser support for it.





</blockquote>

</blockquote>

</blockquote>

</blockquote>

</blockquote>


<h2>KeyChain?</h2>
<h3><a href="/user/Matts/">Matts</a> on 2003-11-26T21:03:30</h3>
You should be able to do this with KeyChain, should you not?



<blockquote>

<h2>Re:KeyChain?</h2>
<h3><a href="/user/brian_d_foy/">brian_d_foy</a> on 2003-11-27T12:19:42</h3>
You mean the MacOS X thing? I don't know anything about it, but the Help docs only mention passwords and HTML forms auto-fill-in.  Additionally, I think the application has to be set up to use it.





</blockquote>


<h2>Been There, Did That</h2>
<h3><a href="/user/merlyn/">merlyn</a> on 2003-11-27T01:39:42</h3>
You mean you haven't carefully studied all my columns already?
<p>
I have a <a href="http://www.stonehenge.com/merlyn/WebTechniques/col32.html" title="stonehenge.com">CGI-based remote cookie jar solution</a stonehenge.com>, and you could trivially add a persistent cookie jar to <a href="http://www.stonehenge.com/merlyn/WebTechniques/col11.html" title="stonehenge.com">my proxy server</a stonehenge.com>.  Both would work nicely, with differing results.</p>



<blockquote>

<h2>Re:Been There, Did That</h2>
<h3><a href="/user/brian_d_foy/">brian_d_foy</a> on 2003-11-27T12:36:38</h3>
I still cannot manage stored cookies from the browser.<br> <br>I do not want a kludgey add-on---I want the browser to participate and to be able to see the cookies.  With a proxy I have to develop a lot of external applications to handle all the things I can do in the browser now.<br> <br>What I want for Christmas is the magical world where all this is built into the user-agents I already use, and it works on every platform,a nd LWP supports it.<br> <br>And that is pure fantasy.<nobr> <wbr></nobr>:)





</blockquote>


<h2>HTTP::Proxy</h2>
<h3><a href="/user/BooK/">BooK</a> on 2003-11-27T10:18:02</h3>
<p>If you're looking for a proxy that can
read and modify anything on both the requests
and the response that flow trough it, you can
have a look at <a href="http://search.cpan.org/dist/HTTP-Proxy/" title="cpan.org">HTTP::Proxy</a cpan.org>. It's just a matter of writing the appropriate filters to handle the cookie headers in both the requests and responses.</p>
<p>It's still in development, but I'm using it
as my home proxy on a daily basis. So it basically works.</p>
<p>Speaking of cookies, I'll soon publish a very simple script called <i>mergecookies</i>, that
reads all your cookie files, merges all the cookies they hold, and stores all those cookies in each file. If a cookie exist in several files, it just keeps the one that expires the later.</p>



<h2>Sharing cookies</h2>
<h3><a href="/user/BooK/">BooK</a> on 2003-12-02T08:57:50</h3>
<p>I know you know how to do this, but...</p>
<p> <a href="http://search.cpan.org/dist/mergecookies/" title="cpan.org">mergcookies</a cpan.org> is a little script that will
merge all the cookies from all your cookie files.
The only requirement is that the correct subclass
of HTTP::Cookies is available for each browser. You can share cookies between browsers, though
not as instantly as you would like.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

