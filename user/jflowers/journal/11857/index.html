<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jflowers: CGI Debugging made easy + more</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>CGI Debugging made easy + more</h1>
<h2><a href="/user/jflowers/">jflowers</a> on 2003-04-26T14:17:18</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I have always hated how difficult debugging CGI is, so I decided to do something about it.  I grabbed a copy of Perl Web Server form Source Forge and went to work.
After a coupla days a hack'n I had a web server that would eval my CGI scripts and CGI::Applications.  I could now set a break point in my CGI script and start the web server in the debugger.  Then open a browser to port the web server is listening.  This allowed me to interact with my CGI script through the browser.  I find this easier than setting every thing up on the command line, especially for queries with 20 or more name value pairs.
After getting the debugging down I saw that was just the tip of the ice burg for making CGI development and debugging easier.
I modified CGI and CGI::Carp to provide the option to save all state and request information from a fatal error with Storable to a file.  I added a new page to my CGI script so I could view the detailed information in the error files.  As well as the ability to execute the offending request.  You say why would I want to execute the falling request again?  You would want to do that from the debugging web site, in the Perl Web Server debugger.  Then you can quickly track down where the error is and fix it. 
No more sifting through logs, or having to guess what the user did to get the error they are reporting.  Get right to it, and fix it.
I have plans to add a test harness to it so in development you can create the same files the CGI::Carp creates for fatal errors and use them as the test case input.  Then save and associate the output from those successful for future tests.  When an error occurs on your production system you can grab the error file that CGI::Carp generated and fix the problem.  After fixing the problem you make a new output file and associate it with the error file generated by CGI::Carp and run the test harness with the old and new test case to see if you broke anything while fixing the bug.<br/><br/>So I have some questions for anyone that is reading this.  Is this so specialized a solution to my needs that others would not find much use in it?  If not how do I give this to the Perl community, is it a tool, a set of libs, a hack or some combination of those choices?  Do I need to contact the authors of the modules I needed to modify before I submit it to the Perl community?  I just don't know what etiquette is in this situation.
</p>


<hr/>



<h2>How to give it back</h2>
<h3><a href="/user/samtregar/">samtregar</a> on 2003-04-26T17:41:13</h3>
<blockquote><div>So I have some questions for anyone that is reading this. Is this so specialized a solution to my needs that others would not find much use in it?</div></blockquote>
<p>
It sounds pretty useful to me.  I spend 50% of my time writing CGI::Application modules and I'd love an easier way to debug them.  Also, I know other people are working on the same problem.  Someone emailed me with information about how to setup Apache to debug CGI::App modules from Komodo.  I haven't had a chance to try it yet but it sounds similar to what you've done.
</p><p><blockquote><div>
If not how do I give this to the Perl community, is it a tool, a set of libs, a hack or some combination of those choices?
</div></blockquote>
<p>
The most successful Perl projects are modules on CPAN.  If you can figure out a way to make it a module then you should.  Keep in mind that modules are allowed to distribute scripts too (ex. Mail::SpamAssassin includes spamd and spamc).
</p><p><blockquote><div>
Do I need to contact the authors of the modules I needed to modify before I submit it to the Perl community? I just don't know what etiquette is in this situation.</div></blockquote>
<p>
It's not a bad idea, but hardly required.  I think you should at least post about it to the CGI::App mailing-list since I bet you'll find most of your users there.
</p><p>
Still have more questions about open-sourcing Perl code?  Why not <a href="http://www.amazon.com/exec/obidos/ASIN/159059018X/qid%3D1027575924/sr%3D8-7/ref%3Dsr_8_7/002-3170710-0521605" title="amazon.com">buy my book</a amazon.com>?
</p><p>
-sam</p>



<blockquote>

<h2>Re:How to give it back</h2>
<h3><a href="/user/jflowers/">jflowers</a> on 2003-04-26T18:56:40</h3>
That other person is me, I emailed you.<nobr> <wbr></nobr>:)<br>Thanks for your help.





</blockquote>


<h2>Good book</h2>
<h3><a href="/user/jdavidboyd/">jdavidboyd</a> on 2003-04-28T16:14:25</h3>
Already bought it, and enjoyed it immensely.  Good job!





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

