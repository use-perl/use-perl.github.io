<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jj: Easy thumbnail images from Catalyst</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Easy thumbnail images from Catalyst</h1>
<h2><a href="/user/jj/">jj</a> on 2009-09-09T11:54:36</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>
A couple of days ago I released <a href="http://perl.jonallen.info/projects/catalyst-view-thumbnail">Catalyst::View::Thumbnail</a>, which provides an easy way to serve thumbnail images. It should work with any model that can put raw image data onto the stash (you don't need the MIME type, it's automatically detected), so a controller to produce thumbnails 100px high would look like this:
</p>
<code>
 sub thumbnail :Local :Args(1) {<br>
  &nbsp;&nbsp; my ($self, $c, $filename) = @_;<br>
   <br>
  &nbsp;&nbsp; $c-&gt;stash-&gt;{image} = $c-&gt;model('Images')-&gt;slurp($filename);<br>
  &nbsp;&nbsp; $c-&gt;stash-&gt;{y}   &nbsp;&nbsp;&nbsp;  = 100;<br>
<br>
  &nbsp;&nbsp; $c-&gt;forward('View::Thumbnail');<br>
 }</code>
<p>
Have a read of the tutorial, <a href="http://perl.jonallen.info/writing/articles/creating-thumbnails-with-catalyst">Creating thumbnails with Catalyst</a>, and please let me know of any fearure requests or bug reports.
</p>
<p>
The source code is on GitHub at <a href="http://github.com/jonallen/Catalyst-View-Thumbnail/tree/master">http://github.com/jonallen/Catalyst-View-Thumbnail/tree/master</a>, and on CPAN at <a href="http://search.cpan.org/dist/Catalyst-View-Thumbnail">http://search.cpan.org/dist/Catalyst-View-Thumbnail</a>.
</p>
<p>
Cheers,
</p>
<p>
JJ
</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

