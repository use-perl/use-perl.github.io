<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of rjbs: addex entry data: for when a lousy hack is too good</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>addex entry data: for when a lousy hack is too good</h1>
<h2><a href="/user/rjbs/">rjbs</a> on 2008-02-19T03:47:03</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>A lot of Addex features rely on your ability to put extra information onto
address book entries.  A really simple example is its generation of procmail
rules.  If it's going to filter mail from Mom into the "family/mom" folder, I
need to be able to tell it that I want that kind of filtering.  Address book
programs, though, are not usually designed to store all the information Addex
wants.</p>

<p>An address book entry in Addex only has a few attributes:</p>

<ul>
<li>a name</li>
<li>a nickname (maybe)</li>
<li>a list of email addresses</li>
<li>a bunch of other attributes</li>
</ul>

<p>The other attributes could all be set up with some kind of attribute
declaration blah blah whatever.  Instead, they use
<a href="http://search.cpan.org/dist/Mixin-ExtraFields-Param">Mixin::ExtraFields::Param</a>.  It's about one line of code and it just goes.</p>

<p>The first three data are pretty easy to get out of most address books.  After
all, they're some of the data that address books are meant to hold.  The "bunch
of other attributes" data are a little iffier.  These attributes are called the
entry's "fields."  Here are some things that you can use fields for:</p>

<ul>
<li>specifying the folder used for an contact's mail</li>
<li>specifying an alternate sig file to use when mailing someone</li>
<li>indicating which email address to use as default</li>
</ul>

<p>Using the Apple address book plugin, fields are gathered by looking at the
"notes" section of the entry, which would be really useful for keeping actual
notes about contacts, if the editing UI wasn't so awful.  Addex looks for lines
that look like this:</p>

<pre>field: value
</pre>

<p>For example, the entry for my brother in law has this in its notes:</p>

<pre>folder: family
default_email: /noaa/
</pre>

<p>Using the abook plugin, there are even fewer ways to add arbirary data, so you
have to configure plugin to relate the limit number of extra abook fields with
Addex "fields."</p>

<p>What I like about fields is that they're just so stupid.  I can add arbirary
snippets of data to an entry for any plugin to consume.  By avoiding all the
problems that won't really come up (like namespaces, datatypes, escaping) I've
made it really easy for myself to add new features.</p>

<p>I may write one more little piece about the (current) Addex workflow, if I
decide it's worth the time.  Then I'll be done talking about Addex for a while,
at least until I write some fun new plugins.</p>

    </p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

