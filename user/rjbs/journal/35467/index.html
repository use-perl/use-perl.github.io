<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of rjbs: upgrading my macbook's hard drive fails to be as easy as pie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>upgrading my macbook's hard drive fails to be as easy as pie</h1>
<h2><a href="/user/rjbs/">rjbs</a> on 2008-01-23T14:40:53</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><html><p>Before the semiannual Big Mac Announcements, I was thinking that I might buy a
new laptop.  I was half suspecting that we&#39;d see a subnotebook -- something
like a Duo or even more like the 12&#34; PowerBook.  I wanted something narrower
than the MacBook, as that would make it a bit easier to use on the bus, if
someone sits beside me.  Unfortunately, the new MacBook Air isn&#39;t any narrower,
but is a good bit more expensive, so I skipped replacing my MacBook.  Instead,
I spent about .5% its original purchase price on nearly tripling its storage,
which is the only limitation that I bump into much.</p><p><a href="http://manuals.info.apple.com/en/MacBook_13inch_HardDrive_DIY.pdf">Apple&#39;s instructions
(PDF)</a> made
it seem like swapping out the hard drive would be as easy as eating pie.  Some
friends confirmed this belief.  I&#39;d replaced the hard drive in my 12&#34;
PowerBook, and before that in my <a href="http://automagically.de/images/c_slippy_01.jpg">Compaq Contura
Aero</a>, so I figured this
couldn&#39;t be so bad.</p><p>Well, it wouldn&#39;t have been, if the people at Apple weren&#39;t liars and jerks.</p><p>Yeah, I&#39;m still in a cooling-off period since last night.</p><p>First of all, they say that you&#39;ll need a #1 Phillips head screwdriver.  This is
not true.  The L-shaped bracket inside requires a #0 driver.  That&#39;s fine,
because I have a few.  It&#39;s just a filthy lie... but it does matter.  You see,
the last person to work on this computer -- the Apple tech who <em>finally</em> caused
its video to stop flipping out -- either had the power of ten men or a tiny
power screwdriver.  The third screw on the bracket was so tightened so fast
that I was nearly unable to break it.  I thought I&#39;d try to unscrew it with my
drill, but of course I had no Phillips head bits smaller than #1.  If their
DIY instructions had been true, I would&#39;ve been all set.  In the end, Gloria
braced the computer in place with both hands.  I used my strong hand to press
the tiny #0 driver into the screw as hard as I could, while I used a wrench to
turn it.</p><p>Once that was out, the drive sled came out easily.  If the screw had been easy
to remove, I probably would&#39;ve been grinning like an idiot at this point --
rarely are laptop drive replacements so easy.  What I saw next would&#39;ve only
caused me to roll my eyes.  Instead, I believe I may have lost a few years from
my life, suppressing the urge to scream and throw things.</p><p>The drive was secured to the sled with four of the tiniest TORX screws I&#39;ve
ever seen.  Actually, maybe they were triple squares.  It doesn&#39;t matter
because I couldn&#39;t turn it with a triple square head, an Allen head, or a TORX
head.  Finally, I unscrewed them all with a pair of pliers.  I had two Phillips
on hand, and used them to re-secure it -- but it still wasn&#39;t secure enough, so
I ended up screwing two of those devil screws back into it with my pliers.</p><p>If the screws had all been sanely tightened and of normal types, this would&#39;ve
been an incredibly painless process.  As it was, I think replacing my 12&#34;
PowerBook&#39;s drive was easier.</p><p>I took it upstairs and booted from my SuperDuper backup.  Ugh.  Leopard and
SuperDuper aren&#39;t a great match, yet.  That&#39;s fine, and not a big deal.  I
booted from my 10.5 media and restored my latest Time Machine backup.</p><p>Things booted, I started a new backup, checked in on my
<a href="http://travian.us/">Travian</a> village, and went to bed.</p><p>Well, the joke was on me.  It turns out that <a href="http://discussions.apple.com/thread.jspa?messageID=6367763">Time Machine is a partial
backup</a>.  It
doesn&#39;t back up things in <code>/var/spool</code> or <code>/var/log</code>.  I don&#39;t really mind
losing my old logs, although it&#39;s pretty obnoxious that I do.  I actually
wouldn&#39;t even mind if I ended up with mail in my Postfix queue getting
delivered twice, after a restore.  The problem is that it creates <code>/var/spool</code>,
but not <code>/var/spool/postfix</code>, meaning that Postfix then fails to start or run
properly.  At least <code>sudo mkdir /var/spool/postfix</code> is easy to type, and seemed
to fix the problem.</p><p>I think everything is now back to normal, although I suspect something will
explode a little later today.  At least, now, I have a whole lot of free space.</p></html>
</p>


<hr/>



<h2>Ubuntu and dd backup</h2>
<h3><a href="/user/gmccreight/">gmccreight</a> on 2008-01-23T18:26:24</h3>
<p>I've got a rather complicated setup on my MacBook, including multiple partitions (BootCamp Windows).  In addition to standard backups, I will occasionally reboot with an Ubuntu Live CD, plug in a large USB2 disk, and issue the following command:</p>

<code>sudo dd if=/dev/sda of=/media/usbdisk/macbook_2008_01_23.img</code>

<p>It creates a perfect bit-by-bit copy of the entire disk into an image file.  The image file is, of course, huge, but you can compress it afterwards with gzip of bzip2.  It compresses any empty space on the disk nicely.  The USB2 disk should be *really* big if you want to hold multiple backups.  The imaging speeds along at about 2GB/min, so it usually takes less than an hour to complete on my system.</p>

<p>This approach saved me when I had a physical disk failure and had to replace my MacBook's drive.</p>



<blockquote>

<h2>Re:Ubuntu and dd backup</h2>
<h3><a href="/user/rjbs/">rjbs</a> on 2008-01-23T18:35:54</h3>
Once SuperDuper finally releases their Leopard-compat version, I think I'll be fine still using that.  It was wonderful before 10.5<br><br>Really, if I have now found the two things that get hosed by Time Machine, that's fine.  I just need to remember.<br><br>Doing a dd-based backup seems like it will take too much time for me to rely on myself doing it.<nobr> <wbr></nobr>:)





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

