<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of rjbs: reinstalling leopard: not so bad</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>reinstalling leopard: not so bad</h1>
<h2><a href="/user/rjbs/">rjbs</a> on 2008-01-25T03:05:36</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>So, I don't use Apple's Mail.app very much.  Actually, I detest it.  Still, you
know, I'm an email geek.  Every once in a while, I get a bug that says
something like, "Apple Mail is doing something totally insane, and only you can
help us, Rik!"  Well, that's how I like to read the bug reports, anyway.  It
makes me feel like more of a superhero, even while doing my secret identity
thing behind a terminal.</p>

<p>I had my main email accounts set up in Mail, but no matter what, Mail wouldn't
save my password in the keychain.  I tried nearly everything I could think of,
and finally resorted to asking our <a href="http://dclick.com/">local Apple retail/repair
place</a> if they had any ideas.  (They had ideas.  It didn't
help.)</p>

<p>Lots of other things were using the keychain without incident, but Mail kept
failing.  Actually, iTunes failed at remembering (at least) my Audible account.
Here's my guess:  a few months ago, I was running low on space, and I was
getting really tired of constantly shuffling things onto and off of my laptop.
I took a drastic step: I used
<a href="http://monolingual.sourceforge.net/">Monolingual</a> to effectively
<a href="http://developer.apple.com/documentation/Darwin/Reference/ManPages/man1/lipo.1.html">lipo</a>
my whole system.  It removed most of the non-English localizations and all of
the PowerPC binaries.  This didn't really cause my any problems, except that
Safari complained that its signature was no longer valid.  I replaced Safari
with a fresh copy, and life was good.</p>

<p>My guess was that somehow Mail was not getting access to the keychain.  Since I
just replaced my hard drive, I figured that I could make a fresh install and
not lipo anything.  That went pretty well.  Here's what I did (mostly for my
own future reference):</p>

<ol>
<li>backed up everything with Time Machine</li>
<li>shrank my installed Leopard partition</li>

<li>made a second partition</li>
<li>installed Tiger (via the MacBook restore disks) to the second part</li>
<li>upgraded to Leopard</li>
<li>re-installed the apps that I use the most, using the old /Applications as a guide</li>
<li>used the Migration Assistant to move my user data from the old to the new system</li>
<li>ran a lot of system updates</li>
<li>reapplied my <a href="http://rjbs.manxome.org/rubric/entry/1297">postfix configuration</a>, using <a href="http://lingon.sourceforge.net/">Lingon</a> for the launchd stuff</li>

<li>installed <a href="http://www.macports.org/">MacPorts</a></li>
<li>found out that MacPorts' <code>mutt</code> sucked and rolled my own</li>
<li>reinstalled <code>perl</code> 5.10 and a bunch of my most-needed modules (note to self: make a Bundle)</li>
<li>backed up with Time Machine</li>
<li>booted to Leopard install DVD</li>

<li>used Disk Utility to remove old crufy system</li>
<li>used Disk Utility to duplicate second partition to first partition</li>
<li>rebooted to first partition and verified that it was okay</li>
<li>booted to Leopard install DVD</li>
<li>used Disk Utility to delete second partition and grow the first (took forever!)</li>
<li>got back to work</li>
</ol>

<p>This all took a long time.  I was at it from about 19:00 to 01:00 last night,
and then another hour or so, today.  Knowing what I know now, I'm sure I will
be able to do it faster, if I need to do it again.  Still, given the fact that
I really did <em>reinstall</em> everything I needed, it really wasn't so bad.</p>

<p>It turns out that, yes, now I can save passwords for Mail.app in the keychain.
My Audible passwords are still getting ignored, though.  Ugh.</p>
</p>


<hr/>



<h2>MacPorts mutt</h2>
<h3><a href="/user/RasterBurn/">RasterBurn</a> on 2008-01-25T15:06:13</h3>
Why do you think the MacPorts mutt sucks?



<blockquote>

<h2>Re:MacPorts mutt</h2>
<h3><a href="/user/rjbs/">rjbs</a> on 2008-01-25T15:35:44</h3>
Because I didn't bother searching and finding that the mutt-devel package installs a tolerable version, rather than the Ancient In Internet Time mutt package, which gets a 1.4.x<br><br>Thanks for making me look.  Maybe I'll try switching back to the macports version sometime -- but not today.  I already have my mutt working, without the ideological impurity of built-in SMTP support.<nobr> <wbr></nobr>;)



<blockquote>

<h2>Re:MacPorts mutt</h2>
<h3><a href="/user/rjbs/">rjbs</a> on 2008-01-31T15:05:02</h3>
After my recent hard drive fiasco, I had to reinstall anyway.  Now I'm using this happily:  mutt-devel @1.5.17_0+db4+headercache+imap+pop+ssl





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

