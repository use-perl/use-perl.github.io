<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of rjbs: perl is too slow</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>perl is too slow</h1>
<h2><a href="/user/rjbs/">rjbs</a> on 2004-09-03T02:04:34</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>...but first: an updated on my Apple Care.<br/><br/>I called back, ready to be bold and tell them, "A ha!  It IS within warranty, because the product line is less than a year old!"  I got cut off, "We don't offer phone support for that product, sir."<br/><br/>"I don't need phone support!  I need an RMA number.  It's mechanically broken."<br/><br/>"Use the web."<br/><br/>"You redid your support directory yesterday.  There is no generic repair request page."<br/><br/>"Use an Apple Store."<br/><br/>"They're far away."<br/><br/>"Use your local repair place."<br/><br/>"It's not convenient!  Just give me an RMA number.  It will take less time than arguing!"<br/><br/>So, he puts me on hold for twenty minutes or so, and finally says, "Well, sir, I can get you a case number, but I'll have to charge you $50.  When it's determined to be a hardware problem, though, we'll mark that non-billable and you won't get billed."<br/><br/>Right... well, buh-bye.  The mouse goes to Double-Click this weekend, and I demand satisfaction.<br/><br/>Now, back to the topic at hand!<br/><br/>Someone on the LVLUG[1] mailing list asked for a simple way to randomly play a bunch of ogg files.  His GUI players weren't working well.  Another guy volunteered a shell script which was, imho, pretty primitive.  I took the opportunity to show off Perl in its role as "better scripting" and produced this:<br/><br/>	http://rjbs.manxome.org/hacks/perl/#mprand<br/><br/>To defend his honor, the shell script author produced a program to randomize its arguments and reprint them to eliminate the need for a playlist file.  It was written in C, 35 lines long, and... well, you know.  It was C!  I replied that this would do, in Perl:  print sort{rand()<=>.5}<>   [2]<br/><br/>Sure, it's lousy, but it works and took two seconds to think of and one more to write down.<br/><br/>"But Perl is too SLOW!" came the reply.  A little benchmarking showed one iteration of Perl to be .004 seconds slower than C.  Assuming it took ten minutes to code in C, it will only take 150,000 iterations for the author to regain his time.  When will people learn?  In almost all cases, to make shell scripts more cost-effective, reduce human time, not machine time.<br/><br/>[1] Lehigh Valley Linux Users Group<br/><br/>[2] Yes, that sorts input, not args.  When I switched to @ARGV, I was surprised that it was faster to join with "\n" than to change the value of $, -- I am not interested enough to research, but maybe someone out there wants to tell me... </p>


<hr/>



<h2>Slow</h2>
<h3><a href="/user/petdance/">petdance</a> on 2004-09-03T13:03:06</h3>
In cases like that, before measuring the speed difference, ask him how fast it has to be.  If it's fast enough, it's fast enough.  It doesn't matter if Perl is twice, if the Perl code takes<nobr> <wbr></nobr>.5 seconds, and the C takes<nobr> <wbr></nobr>.25 and it needs to respond in 1.0.



<h2>Perspective.</h2>
<h3><a href="/user/schwern/">schwern</a> on 2004-09-05T03:04:58</h3>
In a program to play 2 to 4 minute songs, its a wonder anyone's caring about a few milliseconds of program execution time between them.



<blockquote>

<h2>Re:Perspective.</h2>
<h3><a href="/user/jplindstrom/">jplindstrom</a> on 2004-09-05T09:59:46</h3>
It's a mind set fairly common among people who never looked beyond C/C++ in my experience.<br> <br>And even though they have a compiled language to play with, they still feel the need to micro-optimize as a matter of habit.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

