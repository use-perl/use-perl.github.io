<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chaoticset: &quot;Sort this, insert that.  I'll make 'em all pay.&quot;</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>&quot;Sort this, insert that.  I'll make 'em all pay.&quot;</h1>
<h2><a href="/user/chaoticset/">chaoticset</a> on 2001-10-07T13:40:52</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>sub insert_cards {<P><br/><br/>foreach $_ (@newcards) {<BR>
($newname, $newstock, $newshown) = split(/:/);<BR>
 foreach $card (@cards) {<BR>
 ($name, $stock, $shown) = split(/:/, $card);<BR>
 if ($newname eq $name) {<BR>
 $stock = $newstock + $stock;<BR>
 $card = "$name:$stock:$shown";<BR>
 }
 @cards = (@cards, $newcard);<BR>
}<BR>
}<P><br/><br/>}<BR>
<P>
Now, admittedly, this isn't a great improvement (hell, it doesn't *work*, and that would be manna from Heaven right now) but I thought it reads a little better.
<P>
The only problem with it is that using the $card variable allows me to see what was in the array, but I don't think it lets me *change* what was in the array.  When I assign back:
<P>
$card = "$name:$stock:$shown"
<P>
I don't think it's going to work.  I think it'll just assign that variable (scalar(@newcards) * scalar(@cards)) times, and that variable won't change the array.
<P>
"So push."
<P>
Can't.  That leaves a duplicate.
<P>
It occurs to me that I could use the shift statment until it was at the end of the array and then change the number of elements in the array, but that seems inelegant.
<P>
Gotta be a better way to do this...
<P>
Could set up a counter.  Count, count, count, and then
<P>
$cards[$i] = "$name:$stock:$shown";
<P>
but that really makes using the $card variable pointless, since I can only do half of what I need to with it.  I'm sure there's a way to do it.
<P>
I guess for now I'll implement the counter solution, remove the $card variable, and stick to the rest of it the way it is.  If I can figure out how to use $card for this, I'll try it again.
<P>
I'm nothing if not a code mess.
<P>
(Oh, and I never really thought anybody would actually *look* at my journal...imagine my surprise when someone actually said something to me in his!  If you see this, chromatic, I'll check out Perl Monks, but I won't post there until the program's hurt me a little more.  Thank you for the advice.  :-) )</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

