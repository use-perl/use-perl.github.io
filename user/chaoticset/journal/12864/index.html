<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chaoticset: Left point, Center point, Right point</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Left point, Center point, Right point</h1>
<h2><a href="/user/chaoticset/">chaoticset</a> on 2003-06-15T18:47:41</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Triangles triangles triangles.  I am 100% sick of triangles now.
<P>
Lucky me, then, that I'm nearly to the end of the fuzzy module.  (I still haven't the faintest what I should name it for CPAN, or anything like that, but I'll get that figured out later.)  Right now, it's returning all the points it needs to, Cartesian-grid-style, and I just need to
<P>
<OL>
<LI>Calculate the area inside the points.
<LI>Locate the "average" point in the "curve".
<LI>Add the normalizing value so that it means something compared to the original data.
<LI>Go stark raving mad.
<LI>Refactor, refactor, refactor.
</OL>
<P>
I am aware that any piece of code I write these days will be an embarrassment to me in six months, but this code is an embarrassment <EM>now</EM>.  It's so, so awful.  I was desperately trying to figure half my math model out while coding, so there's lots of things that are essentially code doodles, places where I figured something out step by tedious step to produce a value that should have been calculated in one line, and then discovered I didn't need the value.  There's lots of that, plus lots of places where I got Dumper-happy trying to figure out why radically incorrect values were resulting from my flawed work.  Next time, it's <A HREF="">Acme::Handwave</A> all the way.
<P>
So I've got to go through the whole thing (not much, maybe a hundred lines or so) and refactor the living crap out of it so that I can show it to other people and not want to hide.
<P>
That plus I'm doing the whole thing the stupid way.  I'm not bright enough to come up with a general way of handling every case of overlap, so I've gone and written two special cases that should cover 80% of the situation and given up at that point.  (Although it's worth noting that, should I be able to write a 3 and 4 triangle case in the future, I suspect highly that the system will be at 95% of cases.)
<P>
Eventually I'll figure some sort of general method out (probably separating the code for the calculation of points and averaging of the curve will do it) and will replace the current implementation.  (Emphasis on the eventually.)
<P>
I'm pretty sick, and I won't detail the ucky details here.  I'm feeling lots better than yesterday, and hopefully have weathered the worst.
<P>
More code to go...</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

