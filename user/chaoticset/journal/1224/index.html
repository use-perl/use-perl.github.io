<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of chaoticset: Many Hours Later...</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Many Hours Later...</h1>
<h2><a href="/user/chaoticset/">chaoticset</a> on 2001-11-10T05:41:48</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>...and it seems like nothing's done.
<P>
Scratch that, nothing *has* been done yet.
<P>
Okay, that's not exactly true.
<P>
I set up Apache again and made sure it worked.  (Weirdness:  saving the whole mess to CDROM apparently left it write-protected somehow, because when I copied the whole Apache Group directory back to the hard drive, that was the error I got:  '...file "error.log" is read-only...' or somesuch.  cleared it, cleared the other log, ran Apache, it worked.)
<P>
What else?
<P>
I wrote this function in my Works database:
<P>
<CODE>
#This is the rounding function.  Where int would have had a 
<BR>
#big part of this program had Landry merely said, "Round 
<BR>
#down to whole dollars, and I won't want it any other way", 
<BR>
#instead, there is this.  Rounding is what it does; to what 
<BR>
#values can be determined arbitrarily.  For now, it's to 
<BR>
#the *nearest* dollar.
<BR>
sub rounded {
<BR>
if ($_[0] < 1) { return 1 }
<BR>
if ( ($_[0] < int $_[0]) && (".5" <= ($_[0] - int $_[0]))){ 
<BR>
return int ($_[0] + 1);
<BR>
} else {
<BR>
return int $_[0]; }
<BR>
}
</CODE>
<P>
This function is going to have to be updated eventually, into a similar function that rounds to the nearest .25 cent value.  (That is, 2.68 becomes 2.75, and 2.67 becomes 2.50.)  No, it isn't a perfect system, but there's actually a reason for doing it instead of just rounding before storing these values in the STOCK file...
<P>
Eventually, the client wants to be able to decrement specific cards a specific value every time he updates the inventory.  (That way, he can have card values going down every few days, or even several times over a single day, if he wants...but he doesn't *have* to.)
<P>
In the controls file, that behavior would be controlled by another value, tacked onto the end of the regular lines.  A value from 0 to 1, expressing the percentage that specific card should go down.
<P>
During the transaction, there's no way for that value to change; but over the space of a few hours, customers might notice a significant change in the prices, or over a week or so.  My client is convinced (as am I) that hits require a certain amount of variety; of believing you might catch a good deal; of believing that maybe it's still going down, maybe you can catch it before someone else, etc.
<P>
Oh, I know.  Evil.  Well, he's hoping to sell ad space on this thing eventually, so I get where he's coming from.  (Desperation for money.)
<P>
Anyway, that's the function, why it's like that, and where it's going in the future.
<P>
I did a few other things, like pick up a FedEx package without knowing what building I was supposed to be at and driving aimlessly when I forgot I was going somewhere, but those are the things that I'll have documented evidence of tomorrow.  I want to do a little more function stuff before I go to sleep, and then it's pillow time.  Tomorrow is busy; gotta get SO to work, gotta get to the church bazaar my parents are involved in; gotta get Little Debbies.
<P>
I mean, I have Dew, but I don't have any Double Chocolate Swiss Rolls...no wonder I haven't been cranking any decent code out.  :) </p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

