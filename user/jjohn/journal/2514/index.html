<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jjohn: CSS, XML and Browsers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>CSS, XML and Browsers</h1>
<h2><a href="/user/jjohn/">jjohn</a> on 2002-01-30T01:51:09</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Don't <b>panic</b> -- I'm not trying to sell you anything despite the acronyms in the subject line. 

<p>In my quest to bring docbook XML into 1990's, when users could easily change the fonts of their documents at the slightest whim, I ran across an interesting chapter in <a href="http://www.ora.com/catalog/xmlnut">XML in a Nutshell</a>. It mentions that many modern browsers can actually render XML documents that reference a CSS stylesheet. Ok. I knew this was clearly going to be an exercise in pain, but I had to see how painful. Remember, I want to turn docbook into PDF with <em>my</em> choice of fonts, not Fop's.
<p>So I cruise over to the <a href="http://docbook.sourceforge.net">docbook project site</a> and pick up a few of the contributed CSS files. I create a very simple docbook file and reference one of these CSS files. I used Opera on both Linux and Windows, I used IE 5.5, I used Mozilla. I got nothing but the XML file back without formating. 
<p>mmm.
<p>Upon closer inspection, it was clear that these CSS files were meant for <em>HTML</em> files, not raw XML. So, I hacked up this lame CSS file:
<blockquote>
/* jjohn's CSS hack for docbook -- <br>
   This is to get BROWSERS to render XML.<br>
   There is *NO* transformational step */<br>
<br>
para {<br>
   display: block;<br>
   font-family: courier;<br>
   font-size: 12pt;<br>
}<br>
<br>
title {<br>
   display: block;<br>
   font-family: verdana;<br>
   font-size: 14pt;<br>
   font-weight: bold;<br>
}<br>
</blockquote>
<p>Ah-HA! Progress! I got the XML to render (weakly) in Galeon but as a proof-of-concept test, it worked as expected. Now, how to get this into PDF. Well, Galeon can print PS to a file, which I did. Unfortunately the funky fonts I had picked didn't get into the PS, so I didn't even bother running ps2pdf. I think that's weird because the fonts do show up on screen. But then, I don't really understand the implementation of rendering fonts. 
<p>Still, this seems like a promising line of research. Does anyone here know if the Mozilla project has a command line CSS processor that will vomit forth Postscript? That would be super-fantastic. Heck if I had that, I could go docbook->HTML->CSS->PS->PDF and hopefully get formatting AND fonts. Excellent. </p>


<hr/>



<h2>Oh my God: CSS is compiled to JavaScript!</h2>
<h3><a href="/user/jjohn/">jjohn</a> on 2002-01-30T02:06:02</h3>
I was just reading the netscape.public.mozilla.layout newsgroup and was horrified to learn that CSS was implemented with JavaScript in Netscape browsers. Yow! That'll make my CSS command line process even more unlikely (besides the fact that it would need to parse and render HTML too. Sigh. Life isn't fair.



<blockquote>

<h2>Re:Oh my God: CSS is compiled to JavaScript!</h2>
<h3><a href="/user/pudge/">pudge</a> on 2002-01-31T15:03:25</h3>
In Mozilla, MANY things are implemented with JavaScript.  Kinda pretty scary.





</blockquote>


<h2>JavaScript</h2>
<h3><a href="/user/TorgoX/">TorgoX</a> on 2002-01-30T03:19:48</h3>
And isn't JavaScript still implemented in Java?



<blockquote>

<h2>Re:JavaScript</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2002-01-30T04:57:05</h3>
Assuming you don't know better, it's always been an entirely different kind of pain.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

