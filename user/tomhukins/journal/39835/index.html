<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of tomhukins: Using CPAN's Toolchain to Improve Your Code</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Using CPAN's Toolchain to Improve Your Code</h1>
<h2><a href="/user/tomhukins/">tomhukins</a> on 2009-11-03T20:27:07</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I've given a talk on using the techniques as CPAN authors use in their public code in your private code twice this year:  originally at <a href="http://miltonkeynes.pm.org">Milton Keynes Perl Mongers</a> in April, then at <a href="http://yapceurope2009.org/ye2009/">YAPC Europe</a> in August.</p>

<p>And finally I have put <a href="http://miltonkeynes.pm.org/talks/2009/04/tom_hukins_cpan_toolchain.pdf">my slides</a> online!</p>

<p>I have noticed that most companies arrange their code in an unstructured way, and contrasted this to how CPAN arranges code as small distributions packaged with documentation and tests.  I advocated the idea of taking this approach with other Perl code, even if it will never live on CPAN.</p>

<p>I got some useful feedback after my talk and had several interesing discussions about it at the conference.  So I thought I would write up various extra ideas here.</p>

<p>I mentioned CPAN::Mini::Inject, but didn't know about CPAN::Inject, which works with a full CPAN mirror instead of a CPAN::Mini mirror.  I also didn't know about CPAN::Site which does much the same.  I don't know which circumstances each works best in.</p>

<p>I mainly focused on ExtUtils::MakeMaker and Module::Install for packaging modules together.  I deliberately ignored Module::Build and didn't know about ExtUtils::ModuleMaker.</p>

<p>The DPAN project on CPAN looks like an ambitious approach to solving the issues I covered and much more too.  I probably won't look at it until it has more documentation (I'm a bit of a late adopter), but I should keep an eye on it.</p>

<p>I was grateful for the advice of others who have tried the approaches that I mentioned, sometimes following more thoroughly than I have done.  If you're breaking out your code base into lots of small CPAN-style modules, you might find judging the appropriate level of granularity awkward.  Talk to your colleagues and don't rush to break things apart too early.</p></p>


<hr/>



<h2>dpan</h2>
<h3><a href="/user/elliot/">elliot</a> on 2009-11-04T00:15:42</h3>
<p>Check out <a href="http://search.cpan.org/dist/MyCPAN-App-DPAN/" title="cpan.org">http://search.cpan.org/dist/MyCPAN-App-DPAN/</a cpan.org>, which allows you to start from nothing, rather than having to have some existing setup. This allows you to curate what modules are in your local repository, in particular meaning that you can easily dictate which version of a distribution you have.</p>



<h2>Another plus for following standards</h2>
<h3><a href="/user/grantm/">grantm</a> on 2009-11-05T19:59:25</h3>
Another advantage of using CPAN packagaing standards for code that's not going to CPAN is that it's really easy to create packages for deploying the code on Debian/Ubuntu (and presumably RPM-based distros' too - I don't know).  The dh-make-perl utility takes a CPAN tarball and creates a<nobr> <wbr></nobr>.deb package.



<blockquote>

<h2>Re:Another plus for following standards</h2>
<h3><a href="/user/tomhukins/">tomhukins</a> on 2009-11-09T09:24:09</h3>
<p>Thanks, that's a good point. I discussed this idea during my talk and like it a lot, but unfortunately you wouldn't know that from the slides alone.</p><p>I dislike posting slides because they don't capture everything mentioned during a talk, but I post them anyway because I figure they're better than nothing.</p>





</blockquote>


<h2>ExtUtils::ModuleMaker</h2>
<h3><a href="/user/DiamondInTheRough/">DiamondInTheRough</a> on 2009-11-06T20:10:10</h3>
ExtUtils::ModuleMaker isn't the same type of thing as ExtUtils::MakeMaker/Module::Install/Module::Build.  Instead, it's analogous to Module::Starter and h2xs - it gives you the framework to write your module in.  Looked like that needed clarified.



<blockquote>

<h2>Re:ExtUtils::ModuleMaker</h2>
<h3><a href="/user/tomhukins/">tomhukins</a> on 2009-11-09T09:20:59</h3>
<p>Thanks for the clarification:  I should have investigated before mentioning it.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

