<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of drhyde: I don't like spam</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>I don't like spam</h1>
<h2><a href="/user/drhyde/">drhyde</a> on 2004-04-13T11:43:52</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Not even when served with spam spam spam spam spam spam spam spam eggs and spam.<br/><br/><P>So as well as using spamassassin, I now use a bunch of custom rules for weeding out spam from anti-virus authors and from various countries; I block something like 60 domains before procmail and spamassassin even get to see them (but only if the spamming host has rDNS); and just recently I started blocking hosts which lie in their HELO.<br/><br/><P>That last one is technically breaches some RFCs but fuck it, I don't care any more.  It *works*.<br/><br/><P>What I really want to do is refuse connections based on the sender's netblock, populating my blocklist with ASes, cos then when a spamsource like comcast gets a new range, they'll remain blocked.  Unfortunately, I don't run a fancy enough network to be speaking BGP, so does anyone have any clues how to do this?  It would simplify matters no end.</p>


<hr/>



<h2>eek</h2>
<h3><a href="/user/jhorwitz/">jhorwitz</a> on 2004-04-13T14:27:43</h3>
Blocking entire netblocks can actually do more harm than good if it's not done correctly.  If I have a small<nobr> <wbr></nobr>/28 network in one of my ISP's larger blocks, and some idiot with another  network in the same block decides to start spamming, you have to make sure you block the idiot's network, and not the ISP's larger block.  Otherwise, you could block me and plenty of other legitimate mail servers.  As you said, you just might not care at this point, and I don't blame you.
<p>
Of course for things like cable modem blocks this is the way to go -- I'm really sick of spam from DHCP clients.</p>



<blockquote>

<h2>Re:eek</h2>
<h3><a href="/user/drhyde/">drhyde</a> on 2004-04-13T14:47:29</h3>
I'd only do that for netblocks which are repetitive egregious spammers.  In those cases, I consider the collateral damage to be a feature, not a bug.  In any case, what I'd like to do is not refuse to accept mail, but refuse to even start talking SMTP with hosts in such blocks.  Spamware and winfestations generally don't seem to be clever enough to handle that and so go on to their next victim.  Real mail software on the other hand - even MS mail software - should interpret that as my server being down, and so fall back to using my secondary MX.  Which will, of course, gladly forward their mail on to me.

<p>For mail that does come via my secondary MX, it still has to get past spamassassin.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

