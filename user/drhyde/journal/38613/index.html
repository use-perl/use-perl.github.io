<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of drhyde: Converting to git</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Converting to git</h1>
<h2><a href="/user/drhyde/">drhyde</a> on 2009-03-07T20:40:10</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>I wanted to be abe to commit to my CVS repository while I was offline - eg while using my laptop on a train.  But CVS doesn't support that, and to make it pretend to support it would involve some quite monstrous hacks.  Of the commonly used VCSes, only git supports offline commits, so I decided to try that instead.  There are some excellent instructions <a href=http://kernel.org/pub/software/scm/git/docs/v1.4.4.4/cvs-migration.html>here</a> which mostly Just Work.

<p>Mostly.

<p>There are two small flaws.  First, it died importing <a href=http://drhyde.cvs.sourceforge.net/viewvc/drhyde/perlmodules/Number-Phone/lib/Number/Phone/UK/Data.pm?view=log>this file</a>.  I couldn't be bothered to analyse why, and just deleted it and its history from the local copy I'd made of the repository (I used rsync to suck it down from Sourceforge).  Contrary to the documentation, 'git cvsimport' does <em>not</em> carry on where it left off if it gets interrupted half way through, so once I'd deleted the offending file I had to also delete the broken git repo and start again.  Once it had finished I then added the most recent version of the file to the git repo in the usual way.  So I lost the history of that file.  Thankfully it doesn't matter in this case.

<p>The second flaw is a minor one.  It tells you to delete the repo's contents leaving just the .git directory, thus making it a "bare" repository.  But it doesn't tell you that you have to edit .git/config and set the "bare" variable to true.  If you don't do that, you'll get spurious warnings when you do a 'git push'.

<p>First impressions of using git as "CVS with offline commits" are good.  It works very well for a single user editing code in various different places throughout the day.  I have yet to experiment with multiple concurrent edits.  While I'm sure it works well if you use git in a distributed fashion, I still don't <em>quite</em> trust it to work in a similar fashion to CVS, with multiple users pushing changes to a central repository.  But if I have any problems, you can be sure I'll grumble here about them.</p>


<hr/>



<h2>Git is not the only game in town...</h2>
<h3><a href="/user/revdiablo/">revdiablo</a> on 2009-03-08T18:24:56</h3>
<p>I guess it hinges on what you consider "commonly used", but there are quite a few VCSes that do offline commits.  There's a whole bunch of 'em, in fact.  It's a pretty exciting new branch (excuse the pun) in the VCS world, so I'm happy to see new people trying any of them, but Git is certainly not the only one.</p><p>My personal favorite is Mercurial, you can see a big list of them on Wikipedia: <a href="http://en.wikipedia.org/wiki/List_of_revision_control_software#Distributed_model" title="wikipedia.org">http://en.wikipedia.org/wiki/List_of_revision_control_software#Distributed_mode<nobr>l<wbr></nobr> </a wikipedia.org></p>



<blockquote>

<h2>Re:Git is not the only game in town...</h2>
<h3><a href="/user/perigrin/">perigrin</a> on 2009-03-10T19:30:43</h3>
<p>In fact one could argue that SVK allows Subversion to do offline commits<nobr> <wbr></nobr>... and Subversion has to be in any list of "commonly used VCSes".</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

