<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of grantm: Mason + Tex fun</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Mason + Tex fun</h1>
<h2><a href="/user/grantm/">grantm</a> on 2006-02-16T03:52:28</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>A number of our reports are produced in PDF format using pdflatex.  We used to do it using docbook but the Java toolchain for converting to PDF was too slow and consumed more memory than we had available (our server 'only' has 4GB of memory).  We used to generate the docbook XML files using HTML::Mason so when we switched to using LaTeX we continued to use Mason to generate the .tex files.</p>

<p>I'm not a TeX guy but apparently \\ is TeX for newline.  Unfortunately if it's at the end of the line, Mason trims the last slash and the newline character, leaving us with \whatever_was_at_the_start_of_the_next_line.</p>

<p>Apparently the 'fix' that was used when the problem was encountered was to use \\\ at the end of the lines.</p>

<p>This week we upgraded some servers from debian woody to sarge (the 'new' stable release) and in doing so went from Mason 1.05 to 1.26.  Apparently, this brought a subtle change in the handling of multiple slashes at the end of a line.<p>

<p>I've now replaced all occurrences of \\\ with \newline and now everything's happy again.</p></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

