<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of grantm: Database Naming Conventions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Database Naming Conventions</h1>
<h2><a href="/user/grantm/">grantm</a> on 2008-04-22T09:19:52</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>A $cow_orker recently sparked a debate about conventions for naming database objects.  Obviously this is a bit of a religious issue for many and we certainly uncovered a variety of opinions.  One very basic question which many feel strongly about is the pluralisation of table names.  I have a <i>preference</i> for singular but am happy to run with plural if that's the convention in an existing project.</p>

<p>Early in my development career I saw a colleague ridiculed for creating a database table with a pluralised name.  His justification was (quite reasonably) "I called it 'widgets' because I want to store multiple widget records in it".  The DBA's response was "Of course you want to store multiple records in it.  If you didn't have multiple records you'd hardly go to the bother of creating a table, would you?".  From this logic it comes down to a simple choice: make every table name plural; or, don't bother.  I've standardised on "Don't bother".</p>

<p>The thing I don't get is the vast number of people who subscribe to this inseparable pair of rules:</p>

<ul>
<li>Database table names should always be plural</li>
<li>Object class names should always be singular</li>
</ul>

<p>It seems obvious to me that if you agree with the first statement then using the same logic you should <b>disagree</b> with the second.  Apparently other people don't see it the same way.</p>

<p>It seems to me that a 'widget' table defines the characteristics of a widget record and serves as a container for such records.  Similarly a 'Widget' class describes the characteristics of a widget object and serves as a template for such objects.  I just don't get why so many people see these two issues in black and white as obvious opposites.</p>
</p>


<hr/>



<h2>__</h2>
<h3><a href="/user/Abigail/">Abigail</a> on 2008-04-22T12:58:31</h3>
I don't get the connection between table names and class names. I don't care whether a table uses a singular or a plural name, but I don't follow that if you use plural table names, you should use plural class names as well. A table is a collection - a class is a type. I think one should apply the same rules for naming tables as one should use naming arrays. If you use some reasoning that table names should always be plural (or singular), then the same reasoning should give you all plural (singular) array names.<br/><br/>I go either way for tables and arrays. But my class names are usually singular, unless their instances contain a collection, and there's no good collective noun.



<blockquote>

<h2>Tables vs Classes</h2>
<h3><a href="/user/grantm/">grantm</a> on 2008-04-22T21:28:00</h3>
<p><div class="quote">I don't get the connection between table names and class names.</div>  <p>The english word class (in its generic non-CS use) derives from the same root as 'classification'.  Dictionary definitions for class use words like 'a collection of things sharing a common attribute', 'A group of individuals ranked together as possessing common characteristics'.  In this respect, a class <i>is</i> a collection in the same way that a table is.</p>

<p>I agree 100% that class names should usually be singular.  It seems obvious to me that the same logic behind that decision applies in exactly the same way to database tables.  But clearly I have failed to articulate this obviousness<nobr> <wbr></nobr>:-(</p>





</blockquote>


<h2>foot vs. feet</h2>
<h3><a href="/user/janus/">janus</a> on 2008-04-22T13:06:45</h3>
I'm also in favor of singularity, mainly because pluralization is not generally and uniformly possible:<br><br>head vs. heads: simple<br>foot vs. feet: not as simple<br><br>Here, no generalized form is possible, thus it can't be done without explicit naming.<br>That of course costs time as you need to think about it every time you encounter it, especially if your mother tongue isn't english.



<h2>but common use cases differ...</h2>
<h3><a href="/user/rjbs/">rjbs</a> on 2008-04-22T13:27:27</h3>
In SQL, the minimum likely use case is:<p><blockquote> <div><tt>SELECT id, name, alignment FROM characters;</tt></div> </blockquote> With a class, the minimum likely use case is:<p><blockquote> <div><tt>object = Class.new;</tt></div> </blockquote> I don't think anyone who uses other than the pluralization that I use deserves a painful death, but I also don't see that the number of tables and classes needs to be tied.



<blockquote>

<h2>Re:but common use cases differ...</h2>
<h3><a href="/user/grantm/">grantm</a> on 2008-04-22T21:41:45</h3>
<p><div class="quote">In SQL, the minimum likely use case is:<p><blockquote> <div> <tt>SELECT id, name, alignment FROM characters;</tt> </div> </blockquote> </div>  <p>And each row you get back is made up of those attributes of a 'character'.  Sure you get multiple rows, but I don't get how that's different from defining a class in order to instantiate multiple objects.</p> <p><div class="quote">With a class, the minimum likely use case is:<p><blockquote> <div> <tt>object = Class.new;</tt> </div> </blockquote> </div>  <p>A common case in Rails is:</p> <p><blockquote> <div><tt>@character_list = Character.find(:all)</tt></div> </blockquote>  <p>Which ultimately generates SQL along the lines of:</p> <p><blockquote> <div><tt>SELECT * FROM CHARACTERS</tt></div> </blockquote>  <p>And the application will then instantiate one Character object for each row retrieved from the table.  In this case there is a clear and deliberate one-to-one mapping between an instance of the class and a row in the table and yet different rules are used for deriving a name for the container.  That's the bit I don't get.</p>

<p>And yeah - I'm not planning to burn anyone at the stake for plural table names.  The point of my post was  to question why people apply different rules to what appear to be analogous situations (at least to my eyes).</p>





</blockquote>


<h2>one more thing</h2>
<h3><a href="/user/mattk/">mattk</a> on 2008-04-22T14:20:55</h3>
Plurals seem more natural to me, though I don't really care one way or the other. I do hate CamelCase names though, especially when it comes to ones like AccountPlanOptionLinkSeq...



<h2>Plural bad!</h2>
<h3><a href="/user/autarch/">autarch</a> on 2008-04-22T14:56:37</h3>
I really hate plural table names. There are two common problems plural table names have. First, as janus mentioned, plurals in English can be irregular. A common real-world example is "people" and "person". If I have a table named "People" I'll probably end up referring to "person_id" as well, which just irritates me.<br><br>Another problem is that it degrades badly when you have "linking" tables. Say I have Accounts and Users, then I might have an AccountsUsers table. Yuck! If I have Accounts, Users, and Roles, then I could have AccountsUsersRoles. Double yuck! And if that table needs it's own surrogate key, is it accounts_users_roles_id? Pure madness.<br>



<blockquote>

<h2>Re:Plural bad!</h2>
<h3><a href="/user/grantm/">grantm</a> on 2008-04-22T22:21:27</h3>
<p>The proposed standard naming convention from $cow_orker also mandated the use of CamelCase.  With the added wrinkle of a short suffix on every table name.  E.g.: Account_act or ProductCommissionGroup_pcg.  Any advance on Triple-Yuck ?</p>



<blockquote>

<h2>Re:Plural bad!</h2>
<h3><a href="/user/sigzero/">sigzero</a> on 2008-04-23T02:07:58</h3>
I just barfed on my keyboard...thanks.



<h2>Re:Plural bad!</h2>
<h3><a href="/user/autarch/">autarch</a> on 2008-04-23T04:11:20</h3>
I do like camel case for table names, as a way to distinguish them from column names. This is very similar to the the Perl standard of camel case for package names.<br><br>That suffix thing is truly awful, though. What possible purpose could it serve? It's like naming everything twice.<br>



<blockquote>

<h2>Re:Plural bad!</h2>
<h3><a href="/user/grantm/">grantm</a> on 2008-04-23T06:59:25</h3>
The aforementioned proposed standard justified camel case for table names in the same way - to distinguish them from column names.  I found that argument a bit spurious since a) I don't recall ever confusing column names for table names and b) the table names are easy to identify already - they're the words following the FROM and JOIN keywords<nobr> <wbr></nobr>:-)



<h2>Re:Plural bad!</h2>
<h3><a href="/user/btilly/">btilly</a> on 2008-04-23T11:21:35</h3>
It seems that most databases make table names case insensitive unless you go out of your way to use " everywhere.  So using camelCase becomes an unenforced convention that is then not maintained.  You also have the potential problem that a given name could be broken into English words in multiple ways, making capitalization ambiguous.<br><br>This is why I prefer using _ instead.<br><br>For the record, note that my job involves a lot of reporting.  I spend more time writing SQL than Perl.



<blockquote>

<h2>Re:Plural bad!</h2>
<h3><a href="/user/Abigail/">Abigail</a> on 2008-04-24T12:40:47</h3>
<em>It seems that most databases make table names case insensitive</em>
<p>
Yeah, except for a particular free-of-charge database that seems to be quite popular. Tables are files on the underlaying filesystem, and if the underlaying filesystem is case sensitive, your tables are as well. Columns, OTOH, aren't case-sensitive.</p>



<blockquote>

<h2>Re:Plural bad!</h2>
<h3><a href="/user/runrig/">runrig</a> on 2008-04-24T15:12:36</h3>
<p><blockquote> <div><em>Yeah, except for a particular free-of-charge database...</em></div> </blockquote>
<p>...and a certain well-known commercial database (*cough* Sybase *cough*). There is a global switch you (i.e. the DBA) can flip to change that, but then all havok breaks loose...</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

