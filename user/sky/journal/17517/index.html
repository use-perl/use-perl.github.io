<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of sky: Poniedate #33</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Poniedate #33</h1>
<h2><a href="/user/sky/">sky</a> on 2004-02-20T13:32:48</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Things are starting to move again, I am now focusing hard on making my Array as PMC experiments working for real. After a hectic last month that included various non perl activities including a trip to Minneapolis, moving things form Sweden, settling in a new house and trying to hit a meaningless deadline at work, I am now back on ponie development again and should be so more actively over the next month.<p>
<p>
Essentially I have a solution for using PMCs for arrays simply by hiding the XPVAV behind an interface, and have all the macros return pointers into the structure. Now this allows the perl internals only to function with perl5array pmcs and not general pmcs, but for the the time being there is not much to do about it. Most parts of the perl internals assume total access to the internals of an array, this includes pad and stack handling code, the correct solution is for them to use the official API and not hack things directly, the reason they are not doing so is of course 'speed' reasons (or in some cases, because they do really really evil things). So for the time being, you will only be able to use perl5array pmcs in there, further ahead we should be able to, at least for most operations, be able to use any Parrot PMC that works as a container. (The question on how much XS code depends on the internals of arrays/hashes need to be looked at too).
<p>
Hopefully, by end of next week, arrays should be working fully again with tie calls going through a PMC switch and using a perl5tie pmc instead.
<p>
<i>sky</i></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

