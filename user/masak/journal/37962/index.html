<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of masak: November 27, 2008 -- it's just a fleshwound</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>November 27, 2008 -- it's just a fleshwound</h1>
<h2><a href="/user/masak/">masak</a> on 2008-11-27T22:55:31</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>74 years ago today, Lester Joseph Gillis aka <a href="http://en.wikipedia.org/wiki/Baby_Face_Nelson">Baby Face Nelson</a> had a little running machine gun shootout with the FBI, and died from 17 bullets. <a href="http://en.wikipedia.org/wiki/Baby_Face_Nelson#The_Battle_of_Barrington">Wikipedia</a>:</p>

<blockquote>The battle began when Nelson, Helen Gillis, and John Paul Chase were driving down a road and saw a police car driving the opposite direction. Nelson hated police and federal agents and used a list of license plates he had compiled to actively hunt them at every opportunity. He apparently recognized the car and decided to chase them. Once they both stopped, the shootout started. Nelson's wife and Chase used their car for cover. Nelson, however, simply walked towards the agents, reportedly shouting, "I'm gonna kill you sons of bitches!". After the fight was over, Nelson nearly collapsed on the ground from his wounds; he'd been shot 17 times. Gillis and Chase helped Nelson into the car of the two FBI agents, and with Nelson giving directions, Chase drove away from the scene.</blockquote>

<blockquote>The next morning, another team of FBI agents was dispatched to the scene to investigate the situation. They found the bodies of the two agents who had been killed in the skirmish the day before. The new team scouted the area for any possible signs of Nelson. Following an anonymous telephone tip, Nelson's body was discovered in a ditch, wrapped in a blanket. The ditch was in front of St. Peter Catholic Cemetery in Skokie, which still exists today. His wife later stated that he had died of his wounds at exactly 8 p.m. She had placed the blanket around his body because, as she said, "Lester always hated to be cold..."</blockquote>

<p>&#10086;</p>

<p>I fixed the first of the two remaining errors from yesterday, namely <code>is_deeply</code> in <code>Test.pm</code>. Turns out the failures were actually very reasonable, and had either always been there, or were the consequence of improvements to Rakudo.</p>

<p>Two of the failures concerned hashes and arrays (respectively) of unequal size. The <code>is_deeply</code> sub traversed these using <a href="http://perlcabal.org/syn/S03.html#line_1555">the <code>Z</code> operator</a>, and as we all know, the <code>Z</code> operator goes no further than the shortest list when zipping things together.</p>

<p>Actually, "as we all know" is likely a great exaggeration. I, for one, had to ask on #perl6:</p>

<pre>
<masak> so the correct behaviour of @a Z @b is to stop as soon as one of the arrays run out, yah?
<wayland76> masak: re: @a Z @b -- yes, documented in S29
<wayland76> (as "zip")
</pre>

<p>The third failure happened because two <code>undef</code>s tested as unequal to each other. This is actually not that unreasonable in some situations, but for now I made them test equal instead. Partly because I think that's what's expected in this particular situation; partly because the test said so.</p>

<p>All tests now pass in the master branch. Yay!</a></p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

