<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of masak: November 11 2009 -- nobody said it was going to be easy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>November 11 2009 -- nobody said it was going to be easy</h1>
<h2><a href="/user/masak/">masak</a> on 2009-11-11T22:34:58</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>129 years ago today, an Australian outlaw, was <a href='http://en.wikipedia.org/wiki/Ned_Kelly'>hanged for murder</a>.</p>

<p><quote>Kelly was born in Victoria to an Irish convict father, and as a young man he clashed with the police. Following an incident at his home in 1878, police parties searched for him in the bush. After he murdered three policemen, the colony proclaimed Kelly and his gang wanted outlaws. A final violent confrontation with police took place at Glenrowan. Kelly, dressed in home-made plate metal armour and helmet, was captured and sent to jail. He was hanged for murder at Old Melbourne Gaol in 1880. His daring and notoriety made him an iconic figure in Australian history, folk lore, literature, art and film.</quote></p>

<p>He died aged 25 or 26 years old.</p>

<p>&#10086;</p>

<p>I fixed a bug today. Without knowing what caused it.</p>

<p>A week ago, I tried to fix the <a href='http://use.perl.org/user/masak/journal/39843'>login problem</a>, but I only ran into a gigantic question mark.</p>

<p>Today I donned a lance, jumped on a horse and assaulted the question mark. It stood firm. In fact, it seemed to grow bigger and more scary.</p>

<p>Finally, <a href='http://irclog.perlgeek.de/perl6/2009-11-11#i_1717952'>an improbable suggestion</a> by jnthn <a href='http://irclog.perlgeek.de/perl6/2009-11-11#i_1717992'>solved</a> the whole issue. But didn't quite explain it.</p>

<p><code>
&lt;masak&gt; it seems the bug is only triggered by something occurring within November.<br>
&lt;masak&gt; the strings containing user name and password look as they should, but they produce the wrong digest.<br>
&lt;masak&gt; this could presumably be because they are in a strange encoding [on the Parrot level].<br>
&lt;masak&gt; I'm not sure of this. it could be some other non-obvious difference.<br>
&lt;masak&gt; anyway, re-building the strings with join '', split '', $string did the trick.
</code></p>

<p><a href='http://gist.github.com/232360'>Here's</a> the smallest version of the bug that I've managed to produce so far.</p></p>


<hr/>



<h2>History Lesson</h2>
<h3><a href="/user/colomon/">colomon</a> on 2009-11-12T03:26:42</h3>
Oooo, one of those putting the pieces together history notes.  I've long known the song <a href="http://sniff.numachi.com/pages/tiNEDKELLY.html" title="numachi.com">Kelly's Farewell</a numachi.com> -- now I know who it is about.



<h2>Half an hour later, things are fixed...</h2>
<h3><a href="/user/masak/">masak</a> on 2009-11-12T13:03:53</h3>
<p>This story ended happily. I managed to produce a small test case, <a href="http://rt.perl.org/rt3/Ticket/Display.html?id=70415" title="perl.org">file a bug</a perl.org>, and then jnthn++ fixed it in less than half an hour. The turnaround is amazing sometimes.</p><p>If I may go into prognosis mode, I suspect the strange effects we're seeing -- with Parrot Strings not being the same as Rakudo Strs -- is a foretaste of how excruciatingly painful HLL interop will be on Parrot. I hope I'm wrong, of course.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

