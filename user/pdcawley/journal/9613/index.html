<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of pdcawley: Glark!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Glark!</h1>
<h2><a href="/user/pdcawley/">pdcawley</a> on 2002-12-24T06:16:14</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Pixie, the Object persistence system I've been working on for the past few months just got picked for the <a href="http://www.perladvent.org/2002/24th/">Perl Advent Calendar</a>. Which means I should really pester James, who is Pixie's CPAN owner into releasing the latest code which fixes some DBI locking issues and finally adds Garbage Collection. <br/><br/>I note too that one of the classes that Mark uses as an example of a class that will Just Work with Pixie is 'URI', which doesn't quite work out of the box -- it uses a blessed scalar ref as its representation, which Pixie assumes is unstorable as it stands -- blessed scalars are the commonest placeholder for objects that store their state elsewhere via XS so Pixie assumes they're unstorable. In the case of URI, which <em>doesn't</em> store any extra data anywhere, the fix is simple, just do <code>sub URI::px_is_storable { 1 }</code> somewhere and your problem is solved. I wonder if there's a case for keeping a list of 'known good' classes like URI so people don't have to jump through even that small hoop...</p>


<hr/>



<h2>Example Changed</h2>
<h3><a href="/user/2shortplanks/">2shortplanks</a> on 2002-12-24T12:39:41</h3>
I changed the example to use a Math::BigInt instead.
<p>
I was thinking about all of this.  What Pixie really needs is big collection of Complicity code that can be loaded as and when needed.
I was thinking maybe a coderef in @INC to check what modulss are being loaded and to load the associated complicty code at the same time for anything it knows about.
</p><p>
What do you think?
</p><p>
At very least, we could do with a web page that has known good, known bad, and known solutions pulished to it.</p>



<blockquote>

<h2>Re:Example Changed</h2>
<h3><a href="/user/pdcawley/">pdcawley</a> on 2002-12-24T16:22:58</h3>
I've not really thought about it that hard to be honest. I'm considering adding a Pixie::Memento helper class to the distribution which would at least make the pattern involved explicit.<br> <br>Of course, if Pixie became ubiquitous it'd be easy -- module authors would simply provide an 'official' px_freeze and px_thaw. Well, a chap can dream can't he?



<blockquote>

<h2>Re:Example Changed</h2>
<h3><a href="/user/darobin/">darobin</a> on 2003-01-02T13:35:14</h3>
<p>
  How about a global flag that turns off the checks on storing a scalar to make it storable? Users that know what they're doing might be happier with that smaller hoop to jump through. Alternatively, you could look to see if the class that the blessed scalar belongs to has made friends with Dynaloader or Inline::*.
</p>





</blockquote>

</blockquote>


<h2>Consider me Pestered :-)</h2>
<h3><a href="/user/james/">james</a> on 2002-12-24T18:11:37</h3>
Once I get back into work on the 3rd I'll get going with another release.<br> <br>James.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

