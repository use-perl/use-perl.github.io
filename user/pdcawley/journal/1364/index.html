<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of pdcawley: Thinking about pre/post conditions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Thinking about pre/post conditions</h1>
<h2><a href="/user/pdcawley/">pdcawley</a> on 2001-11-25T19:29:25</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>So, I have Devel::Refactor doing extract_method, and I even have the beginnings of an emacs based browser (though for reasons that I still don't understand, it only works once per  package per emacs session, time to go digging into EPL methinks) and I'm starting to think about what it needs to assume as before and after conditions.<br/><br/>At the very least, the code must compile cleanly both before and after any refactoring, and must allow for rolling back changes if the post conditions fail. Right now there's very little state kept in the refactoring engine, but I think that's going to change (or it'll be impossible to check that compilation succeeds after the refactoring.)<br/><br/>And it's got to deal with modules that contain multiple packages (I had hoped to use Schwern's Module::Info, but it doesn't do that part yet... shame.)<br/><br/>And...<br/><br/>And...</p>


<hr/>



<h2>I find it interesting</h2>
<h3><a href="/user/hfb/">hfb</a> on 2001-11-25T21:18:03</h3>
<p>That everyone is suddenly wanting to reinvent the module info/module tools wheel when Tom's <a href="http://history.perl.org/src/pmtools-1.00.tar.gz" title="perl.org">pmtools</a perl.org> were something Jarkko wanted to add to the core yet noone seemed interested in polishing up....</p>



<blockquote>

<h2>Re:I find it interesting</h2>
<h3><a href="/user/pdcawley/">pdcawley</a> on 2001-11-26T09:14:47</h3>
Well, having looked at pmtools that's mostly because what pmtools doesn't do anything that I need. At the very least I need object orientation. I want to be able to do:
<br>
<br>
&nbsp; &nbsp; <tt>$module-&gt;insert_method($method_object)</tt>
<br>
<br>Or maybe:
<br>
<br>
&nbsp; &nbsp; <tt>$class-&gt;insert_method($method_object)</tt>
<br>
<br>Where <tt>$class</tt> is one of the classes defined in a module. Tom's stuff is okay as far as it goes, but it doesn't go nearly far enough.





</blockquote>


<h2>packages_inside</h2>
<h3><a href="/user/rafael/">rafael</a> on 2001-11-26T10:29:04</h3>
Module::Info 0.06 now has a packages_inside() method, implemented with a compiler backend module.



<blockquote>

<h2>Re:packages_inside</h2>
<h3><a href="/user/pdcawley/">pdcawley</a> on 2001-11-26T16:41:15</h3>
Ooh, coolness. I spy at the very least a parent class...





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

