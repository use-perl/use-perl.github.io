<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of pdcawley: More Perl Proverbs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>More Perl Proverbs</h1>
<h2><a href="/user/pdcawley/">pdcawley</a> on 2001-06-06T13:41:21</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Okay, time for a few more proverbial explanations or something.
<p>
<ul>

<li> Use `map' instead of `foreach'
<p>
If you've got a `foreach' loop that's going pushing the results of each iteration onto a list, or maybe appending a string another, then consider redoing things using <tt>map</tt>, or <tt>join '', map ...</tt>
<li> Use `grep', not `map'.
<p>
If you only want a list of stuff where a given condition is true, then use `grep'.
<li> Use `foreach', not `grep'
<p>
Sadly, Perl isn't quite lazy enough. If you're only concerned that at least one element of a list matches and you don't care which one it is, or you just want the first match, then don't use 'grep' (especially if your list is really big...). Do
<p>
<tt>
foreach (@list) {$first_match = $_, last if match_func($_)}
</tt>
<p>
I admit that this is an optimization, and possibly a premature one at that, but it makes it explicit to the reader that you're really only concerned about whether <em>something</em> matches.
<li>You're never too good to type <tt>#!perl -w</tt>
<p>
It may be ages since you wrote something that triggered a warning. You may be concerned about some minute possible slowdown. But still set the warning flag. And do it, even if your code has gone into production or is running on the website. If you start seeing warnings in your logfiles then <em>act</em> on them. Fix the code that threw the warning and try to work out how you didn't trip over it before.
<li>Use source control, and check in often.
<p>
"But source control is just for teams!" Um... no. Source code control is for anyone who ever realised that they'd been barking up the wrong tree. Source code control is about having the power to roll back mistakes. Having code in a CVS repository has saved my bacon on several occasions, and made my life easier on more. I'd not be without it now.
<li>Optimize for Readability
<p>
Code spends most of its lifetime being maintained. You may know exactly what that arcane lump of impenetrable syntax does right now. But will you know what it does and how it does it in a couple of months time. How long will you have to waste working out what's going on?
<p>
And if it is an optimization for speed, does it have a measurable effect? Before you start looking to rewrite code for speed, run a profiler over it, see if the bit you're about to optimize is responsible for system slowness.
</ul>
I know (I hope) that some of this is blindingly obvious. I really do. But the idea behind Perl Proverbs is not necessarily to tell you something you didn't know. It's to package up wisdom in memorable packets. Please let me know if it's succeeding.
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

