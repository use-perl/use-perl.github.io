<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of bart: More CPAN.pm silliness</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>More CPAN.pm silliness</h1>
<h2><a href="/user/bart/">bart</a> on 2008-03-06T16:56:12</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>The author used the regex snippet <code>/(?!\n)\Z/</code> 17 times in the main source, instead of the simpler and equivalent <code>/\z/</code>.
<p>From <a href="http://perldoc.perl.org/perlre.html">perlre</a>:
<blockquote>
<dl>
<dt>\Z<dd>Match only at end of string, or before newline at the end
<dt>\z<dd>Match only at end of string
</dl>
</blockquote>
<p>Duh? In a core module? Doesn't anybody but the maintainers ever <em>check</em> what goes into a core module?</p>


<hr/>



<h2>yes</h2>
<h3><a href="/user/rjbs/">rjbs</a> on 2008-03-06T17:31:47</h3>
A lot of people review the code, and bugs still get by.  This doesn't look like a bug, it looks like someone chose to use an atom that is, here, equivalent, and that could've been replaced with another one that might've been clearer for some people to skim.<br><br>Because it's open sourced software, you were able to find this code that you don't like and complain about it.  You're also able to produce and send in a patch, which I'm sure you did.  You're also able to watch p5 changesets and notice changes or checkins that you don't like to help them get caught.



<h2>5.004</h2>
<h3><a href="/user/srezic/">srezic</a> on 2008-03-06T17:48:46</h3>
You probably read CPAN.pm's documentation as well and found<p><blockquote><div>CPAN.pm is regularly tested to run under 5.004, 5.005, and assorted
newer versions.</div> </blockquote>
<p>
And you looked into perl5005delta:</p><p><blockquote><div>New regular expression constructs<br>
The following new syntax elements are supported:<br><nobr> <wbr></nobr>...<br>
        \z<br></div>
</blockquote>



<h2>Young whipper snapper!</h2>
<h3><a href="/user/schwern/">schwern</a> on 2008-03-06T17:49:47</h3>
CPAN.pm was written before \z existed.  It came in <a href="http://public.activestate.com/cgi-bin/perlbrowse/p/1250" title="activestate.com">this patch</a activestate.com> back in 1998 which is 5.005ish.<br><br>Even now CPAN.pm attempts to maintain 5.004 compatibility, so no \z.<br><br>Think about things in context a bit, that code is over 12 years old.  <a href="http://history.cpan.org/backpan/authors/id/A/AN/ANDK/" title="cpan.org">See for yourself</a cpan.org>.



<h2>Check what?</h2>
<h3><a href="/user/petdance/">petdance</a> on 2008-03-06T19:03:46</h3>
<i>Doesn't anybody but the maintainers ever check what goes into a core module?</i>
<p>
Check what?  What exactly would you like these notional code-checkers to check for?  Do you have some sort of list of coding standards that all core modules should adhere to?  Where can we find it?  Where did the list of coding standards come from?</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

