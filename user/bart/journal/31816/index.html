<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of bart: A pleasant surprise in CPAN.pm</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>A pleasant surprise in CPAN.pm</h1>
<h2><a href="/user/bart/">bart</a> on 2006-12-05T22:09:17</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Yesterday, I was trying out a perl of shady origin on my work PC, and while I was dabbling in the CPAN shell, suddenly, to my suprise, when I tried installing a module, it me showed the following message:
<blockquote><tt>
The required 'nmake' executable not found, fetching it...<br>
Fetching 'Nmake15.exe' from download.microsoft.com... done!
</tt></blockquote>
<p>I was baffled. I never had expected that. This is so cool!
<p>It made me start dreaming again of a completely autonomously selfconfiguring installation system. Searching for a proper list of CPAN mirrors, without any help from the user, for example.
<p>I know there have been a few attempts on creating an automated tool, but I don't think any ever came out of the beta stage. 
<p>There are basically two ways to achieve this goal: <ol>
<li>Figuring out where in the world you are. But that requires either use of a not-really-free database, like the one from <a href="http://search.cpan.org/perldoc?Geo::IP">Geo::IP</a>, or the cooperation of a website that can tell your system where you are. I thought <a href="http://perl.com">perl.com</a> used to do this a long time ago, on the URL <URL:http://www.perl.com/CPAN-local>, which still does something, though I have no idea what. It'd be nice if <a href="http://perl.org">perl.org</a> or <a href="http://cpan.org">cpan.org</a> would do that.
<li>Alternatively, try using <tt>ping</tt>, <tt>tracert</tt>/<tt>traceroute</tt> and related tools, to find a few nearby and responsive CPAN mirrors.
</ol>
Neither of these look like the complete solution to me.
<p>I do think that it would be helpful if the list of mirrors that CPAN.pm retrieves from CPAN, was to contain a rating for the mirrors, based on responsiveness, speed, available bandwidth, and last but not least: up-to-date-ness.
<p><b>Update:</b> Half of my time on CPAN, I'm on <a href="http://search.cpan.org/">search.cpan.org</a>. That always made me wonder: does <a href="http://search.cpan.org/">search.cpan.org</a> make use worldwide mirroring, too?</p>


<hr/>



<h2>You use a different search.cpan.org....</h2>
<h3><a href="/user/speters/">speters</a> on 2006-12-06T01:52:21</h3>
..than I do in the U.S.  There are multiple search.cpan.org sites, and the one you use depends on the the country that your IP address suggests you are in.



<h2>Glad you like it. :-)</h2>
<h3><a href="/user/audreyt/">audreyt</a> on 2006-12-06T04:41:35</h3>
I'm happy that you like my little nmake-fetching trick -- the magic is in Module::Install, not in CPAN.pm.<nobr> <wbr></nobr>:-)



<blockquote>

<h2>Re:Glad you like it. :-)</h2>
<h3><a href="/user/bart/">bart</a> on 2006-12-06T21:35:31</h3>
Yes do I like it... I love it.<br><br>But, Module::Install? Wasn't that module supposed to bypass the need for <tt>make</tt>?



<blockquote>

<h2>Re:Glad you like it. :-)</h2>
<h3><a href="/user/audreyt/">audreyt</a> on 2006-12-06T23:14:04</h3>
No, that was Module::Build.<nobr> <wbr></nobr>:-)





</blockquote>

</blockquote>


<h2>There are two search sites</h2>
<h3><a href="/user/essuu/">essuu</a> on 2006-12-06T10:00:47</h3>
<blockquote><div>Half of my time on CPAN, I'm on search.cpan.org. That always made me wonder: does search.cpan.org make use worldwide mirroring, too?</div></blockquote>

<p>search.cpan uses Ask's geoDNS to route traffic to one of two sites, the main perl.org racks in the US or to our mirror in London. It would work with more if anyone wanted to host one in, say, Asia or Australia.</p>



<blockquote>

<h2>Re:There are two search sites</h2>
<h3><a href="/user/bart/">bart</a> on 2006-12-06T21:38:55</h3>
So there are two <a href="http://search.cpan.org/" title="cpan.org">search.cpan.org</a cpan.org> sites. Urm... for half of everything everybody does in CPAN in the world? While there are 280 CPAN mirrors?<br><br>Something looks to be very much out of proportion.



<blockquote>

<h2>Re:There are two search sites</h2>
<h3><a href="/user/essuu/">essuu</a> on 2006-12-07T09:47:59</h3>
<p>Yep, there are probably far more CPAN mirrors than are actually required !</p>
<p>Seriously, search.cpan.org is well down our list of busy sites so it doesn't really need many more mirrors. I understand an Asian/Pacific mirror would be welcomed but the existing servers seem to be coping just fine with the load.</p>
<p>S.</p>





</blockquote>

</blockquote>


<h2>Meh</h2>
<h3><a href="/user/djberg96/">djberg96</a> on 2006-12-06T15:19:27</h3>
Of course, one can only wonder why Perl has insisted on an external make program for pure Perl modules for the last 15 years, but nevermind that.<br/><br/>Where's pmake?!



<blockquote>

<h2>Make Meh</h2>
<h3><a href="/user/DAxelrod/">DAxelrod</a> on 2006-12-06T17:08:52</h3>
<p><div class="quote">Of course, one can only wonder why Perl has insisted on an external make program for pure Perl modules for the last 15 years</div>  <p>Bad interface design. Seriously.</p>
<p>The canonical way to install a CPAN module is
<code> <br>
perl Makefile.pl<br>
make<br>
make test<br>
make install<br>
</code>
and the problem is all those invocations of <tt>make</tt>.</p>
<p>In most cases, those make targets end up running perl one-liners anyway; there's been a lot of heroic effort to take out dependencies on other programs and design other build systems.</p>
<p>(I'm not saying the bad interface design is anybody's fault. Lots of things sort of happen by convention and aren't really designed, or at least are designed with certain assumptions that turn out to not hold true.)</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

