<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of bart: use.perl.org, on a slow server? Mmm, not exactly...</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>use.perl.org, on a slow server? Mmm, not exactly...</h1>
<h2><a href="/user/bart/">bart</a> on 2007-02-09T21:43:43</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>When I looked at the Javascript used by this site, copy/pasted it from Firefox' Web Developer info page into a text editor window, I found it had a staggering 13500 lines of Javascript code, and saves down to a file of well over 400k. 400k of Javascript! For a site that is relatively sparsely sprinkled with Javascript. That is... Well, that is nuts, no other word for it. I'm thinking that, if you'd just open the stock library (which is one from Yahoo), extract the functions you use, and put them in a new file, you'd probably get along with a library file of maybe 10k to 20k, I think.
<p>The site occasionally takes a long time to load, load times of 10 to 20 seconds are no exception, on a broadband connection. Most of the loading time is spent on images.use.perl.org, which is the domain where the Javascript library resides. I see this happen at least once every few days, so the amount of bandwidth I must be spending on this site each month, must be a bit on the high size. 
<p>And I do feel sorry for the people with a slow internet connection.</p>


<hr/>



<h2>And that's just use.perl...</h2>
<h3><a href="/user/Dom2/">Dom2</a> on 2007-02-10T10:12:04</h3>
<p>Slashdot has exactly the same code base.  Think how much bandwidth they're using up!  Even better, I don't think that they're using gzip compression...</p>

<p>BTW, the best way to check out this stuff is to install <a href="http://getfirebug.com/" title="getfirebug.com">firebug</a getfirebug.com>.  It has a view that lets you see all the items on a page, and how long they took to load.</p>

<p>The Yahopo UI team did a good investigation: <a href="http://yuiblog.com/blog/2006/11/28/performance-research-part-1/" title="yuiblog.com">part one</a yuiblog.com>, <a href="http://yuiblog.com/blog/2007/01/04/performance-research-part-2/" title="yuiblog.com">part two</a yuiblog.com>.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

