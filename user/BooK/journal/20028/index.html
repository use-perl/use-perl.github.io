<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of BooK: Pod::POM and Perl::Tidy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Pod::POM and Perl::Tidy</h1>
<h2><a href="/user/BooK/">BooK</a> on 2004-07-24T00:41:20</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>Thanks to Pod::POM and Perl::Tidy, all the Perl
<a href="http://articles.mongueurs.net/">articles</a> written by Les Mongueurs de Perl</a> and
published by <a href="http://www.linuxmag-france.org/">GNU/Linux Magazine France</a> now contain colored code examples.</p>
<p>The trickiest part was to prevent Perl::Tidy
from choking on a verbatim, indented piece of
code containing a here-document:</p>
<pre>
=begin tidy

    print << 'EOT';
    foo bar
    baz
    EOT
    $A++;

=end tidy
</pre>
<p>The text string passed to Perl::Tidy has to be
munged so that line 4 is '<code>EOT</code>' and
not '<code>&lt;SP&gt;&lt;SP&gt;&lt;SP&gt;&lt;SP&gt;EOT</code>'.</p>
<p>This was achieved by writing <code>=begin tidy EOT</code> and having the view remove all blanks at the begining of the lines matching the heredoc boundary, stacking them in an array (in case several heredocs in the code snippet used the same string) and putting them back after. A rather clumsy solution.</p>
<p>Luckily, while writing this entry I thought to myself: "Mmm, maybe another option would have been
too simply unindent the whole code based on the first
line and reindent it after Perl::Tidy's finished working on it." It really sounds much better and general this way.</p>
<p>Anyway, just have a look
<a href="http://articles.mongueurs.net/magazines/linuxmag56.html">all</a>
<a href="http://articles.mongueurs.net/magazines/linuxmag55.html">these</a>
<a href="http://articles.mongueurs.net/magazines/linuxmag59.html">colorful</a>
<a href="http://articles.mongueurs.net/magazines/perles/perles-04.html">Perl</a>
<a href="http://articles.mongueurs.net/magazines/linuxmag48.html">articles</a>!</p></p>


<hr/>



<h2>Another option</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2004-12-15T11:09:45</h3>
Personally I like <a href="http://search.cpan.org/dist/Text-VimColor/" title="cpan.org">Text::VimColor</a cpan.org>, if only for the simple reason that it can highlight a huge variety of input formats besides Perl.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

