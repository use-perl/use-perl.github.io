<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of stephen: Status Update, and Question for the Community Minds</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Status Update, and Question for the Community Minds</h1>
<h2><a href="/user/stephen/">stephen</a> on 2005-03-19T22:43:04</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>So Playback Machine, the TV station in a box, is essentially ready to rock and roll. Basic functionality includes:<br/><br/><UL>
<LI>It plays things back at the right times.
<LI>Whenever it isn't doing anything else, it plays some kind of filler-- either a short film or music with slides.
<LI>It provides a usable (if plain) web interface, so that we can change the schedule on the fly.
<LI>It restarts itself every four hours, between playing things, so that any memory leak in the player gets cleaned up.
</UL>
<P>(The last one really shouldn't be necessary, but I've found memory leaks in Xine which only become apparent after you play for about eight hours straight. I'd imagine that other players may have similar problems, and I don't want to be at the mercy of others' memory leaks.)
<P>In theory I should be able to walk into the BCTV room, hook up the computer, start playback, head for the bar, and come back at the end of the weekend when the Con is over. (Yeah, right.)
<P>Except... one thing I'd really like to do is have onscreen schedules. I'd like to be able to generate a PNG which shows the next five shows and their start times, then display it onscreen as a slide.
<P>My options are:
<OL>
<LI>SVGs. Nearly custom-designed for the purpose. I can define nice bounding boxes. I tried this last year and got incredibly ugly results. Try again?
<LI>Image::Magick. Common, easy to install, available as an RPM. However, its interface assumes that you're writing a simple annotation, and so I can't really do the kind of cell-based word wrapping I need.
<LI>Image::Imlib2. I'm already using Imlib2's C interface to load and display slides, so there's some dependency efficiency. There's no RPM, though (I'd like to distribute this eventually as an RPM, so I'm watching my dependencies closely) and I'd need to implement my own word-wrapping code. Possible, though.
<LI>GD. Looks like there's already a CPAN class out there for the kind of aligned text I'd like to produce. It'd add yet another C library dependency, but I should be able to live with that.
</OL>
<P>So it looks like I'll try SVGs again, then try GD to see if I can get it running quickly.
<P>So my questions: Are there any easy ways of creating the kind of formatted-text-in-graphics that I'm looking for? I'm happy to have the system call a non-Perl command line utility, or even do a little XS work. The requirements: I need to be able to format tabular text against a background.
<P>Second question: anyone have any suggestions for a better name? "The Playback Machine" sounds like a Xine-type movie player. "TV Station In A Box" lacks coolness. "The Twonky" is cool, appropriate, and taken by the Twonky Media Server.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

