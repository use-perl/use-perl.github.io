<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of nik: SVN::Web, remote repos redux, and syntax highlighting</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>SVN::Web, remote repos redux, and syntax highlighting</h1>
<h2><a href="/user/nik/">nik</a> on 2006-10-15T09:50:57</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><p>On 8th September I wrote about adding support to SVN::Web for browsing repositories hosted remotely.</p>

<p>As I said at the <a href="http://use.perl.org/user/nik/journal/30930">time</a>,</p>

<blockquote>Also, it only seems to work for file:/// and svn:// URIs at the moment.</blockquote>

<p><a href="http://use.perl.org/user/jk2addict/">j2kaddict</a> suggested that I look at using SVN::Client rather than SVN::Ra, so I've been doing that off and in my spare time.</p>

<p>I've finally tracked down the last of the memory allocation errors (SVN::*'s integration with Subversion's memory allocation routines requires more thought than is typically required with Perl) and now have something that's nearer release, on the <a href="http://jc.ngo.org.uk/svnweb/jc/browse/nik/CPAN/SVN-Web/branches/svn-client/">svn-client branch</a>.</p>

<p>This has slowed down some operations, but sped up others.  For example, carrying out diffs (and viewing everything that's changed in a particular revision) is now much faster, as the diffing is carried out by the Subversion libs, instead of using Text::Diff.</p>

<p>The tradeoff is that some features have currently fallen by the wayside.  For example, the diff output is currently raw, and not nicely highlighted.</p>

<p>Which brings me on to my next investigation -- I need to find a decent mechanism for doing syntax highlighting with Perl.</p>

<p>I've looked at Syntax::Highlight::Engine::Kate, but it looks as though if I 
want to change the look of the highlighting I need to subclass a bunch of 
modules, which is effort I'd like to avoid if possible.</p>

<p>Syntax::Highlight::Universal looks interesting, but doesn't build on my 
local FreeBSD box.  That doesn't bode well for it being easy to install for 
people who are going to be using my code that depends on it.  It also looks 
like it introduces a dependency on Java, which is a bit heavier than I 
really want.</p>

</p>


<hr/>



<h2>Text::VimColor?</h2>
<h3><a href="/user/Aristotle/">Aristotle</a> on 2006-10-15T16:11:56</h3>
<p>Not sure how feasible its use is in your case, but I always use that and never had a complaint.</p>



<h2>try the patch from rt</h2>
<h3><a href="/user/mpeters/">mpeters</a> on 2006-11-01T14:40:19</h3>
I tried out Syntax::Highlight::Universal and had build problems as well. There's a patch on RT that fixes it - <a href="http://rt.cpan.org/Public/Bug/Display.html?id=13662" title="cpan.org">http://rt.cpan.org/Public/Bug/Display.html?id=13662</a cpan.org><br><br>The colorer library seems to be pretty nice and cover a lot of ground. It would be nice if the Perl interface were better maintained.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

