<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Matts: SpamAssassin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>SpamAssassin</h1>
<h2><a href="/user/Matts/">Matts</a> on 2002-10-04T15:29:43</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>At the moment I'm busy re-writing the core of SpamAssassin for work. I haven't yet confirmed if I can do this or not with $boss, but that's OK because if he says no then I'll just have to rename some classes to be internal to our company.<br/><br/>The big thing is that SpamAssassin has started to show problems in its flexibility. We at work need to be able to mess about with what rules get called and in what order, and handle the results our own way. Right now that's not possible, so I've had to undertake a bit of a major rewrite project so that it can do the things we need it to. If that goes back into the core code then great. If not I'll be sad, but that's corporate life for you.<br/><br/>Refactoring like this is good for the project I think. It's fairly obvious where the big problems are - the design has become a bit of a hodgepodge, with one class doing the job of holding compiled rules, holding eval rules, parsing MIME, parsing headers, getting headers from a message, and holding the results of whether something was spam or not. That's a really bad design. So I'm trying to break it down. It's certainly hard going, as I'm kindof a lone warrior in it all - the spamassassin developers don't spend much time on IRC (even though rhizo now has a #spamassassin channel), and the one developer who does is in California and so we barely get chance to discuss things with eachother. I certainly think that if they did spend time on IRC then we'd get a lot more done (and at the same time a lot less done!).<br/><br/>One of the major things I'm doing as well in the re-write is comprehensive unit testing of all the components. This is *hard* work, but I suspect it might pay off in the long run. Maybe some day I'll understand what people see in Test::More (I've always used Test.pm and don't feel like I'm missing anything)...<br/><br/>This week has been a bit manic at work. We were the first AV company to stop the Bugbear virus by the looks of things, and so we managed to get an enormous amount of press off the back of that. Sadly because I work in spam detection it means that I'm trying to work while everyone else is answering the phone being media darlings ;-) So I've come to the kitchen area to work. I've got wireless working and the iBook means I can work for quite some time without going back for my power cable. I'm down to 17m left on the battery, so I may just have to go back to my desk now, but I've been very productive in the short time I've been away in the quiet.<br/><br/>So this weekend I want to relax and recoupe. But I can't really as I have a railing to paint on the front of our house, which needs done before the winter sets in. Ah well, no rest for the wicked ;-)</p>


<hr/>



<h2>Test::More</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2002-10-04T17:20:33</h3>
<p>
Since Test::More is built on Test::Builder, it's phenomenally easy to add any other test suite also built on Test::Builder (Test::Class, Test::Exception, Test::MockObject).  That's saved me boatloads of time reimplementing wheels.
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

