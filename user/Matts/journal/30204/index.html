<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Matts: The fun of a dumb implementation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>The fun of a dumb implementation</h1>
<h2><a href="/user/Matts/">Matts</a> on 2006-07-07T14:04:55</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Last night I was helping pudge fix his Mac::* modules to work on OSX/Intel. One of the tests he got me to do was to create a calendar entry next week and switch focus to iCal.<br/><br/>Only the bug was in endian conversion of a number, so instead of getting a date (as epoch seconds) next week, we got one back as epoch seconds in about 10,000 years from now.<br/><br/>iCal kindly obliged, only it did so dumbly - seemingly creating memory space for all the dates from now until 10,000 years in the future. Used up all my ram. Crashed iCal, knocked me off the net, had to restart Mail.app and Safari too to recover some memory.<br/><br/>What fun. (I see the bug is now fixed and on CPAN).</p>


<hr/>



<h2>wow</h2>
<h3><a href="/user/da/">da</a> on 2006-07-07T16:47:57</h3>
that's quite the crash.<br><br>Wait, does that mean there's a DoS attack built into iCal, if you import somebody's badly formatted<nobr> <wbr></nobr>.ics file?  (I say this with minimal knowlege, not having used ical much).



<blockquote>

<h2>Re:wow</h2>
<h3><a href="/user/Matts/">Matts</a> on 2006-07-07T16:57:20</h3>
Probably.



<blockquote>

<h2>Re:wow</h2>
<h3><a href="/user/pudge/">pudge</a> on 2006-07-08T16:56:51</h3>
Maybe, I don't know.  I did some more testing on this (trying to put a little-endian date into my big-endian iCal), and I observed the same behavior, except it was a bit inconsistent in how it failed.<br><br>However, I was wrong about it being tens of thousands of years.  It was probably more like tens of billions.  With a b.  What I was misremembering is that the new 64-bit time can go to about 500 billion years, but the OS is at present designed to go out to only 30,000.<br>





</blockquote>

</blockquote>


<h2>groan</h2>
<h3><a href="/user/fishbot/">fishbot</a> on 2006-07-11T12:30:00</h3>
Sounds like you fixed the bug, so at least the story has a happy endian.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

