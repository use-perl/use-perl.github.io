<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Matts: Upgrade</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Upgrade</h1>
<h2><a href="/user/Matts/">Matts</a> on 2002-03-19T07:57:18</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I've finally decided I need to upgrade <tt>ted</tt>, the server that runs axkit.org and a bunch of other sites. It's running Mandrake Linux 7.0, but with a whole bunch of personally installed software. Sadly there are no longer any security updates for 7.0. I'm not entirely sure what my upgrade strategy should be. I sort of wish there was something like apt, where I could just upgrade automatically. I tried changing my version number in /etc/mandrake-release, and re-ran redcarpet. Strangley that worked, and I was prompted for all sorts of Mandrake 7.2 updates (that's what I changed my version number to). I didn't think it was a good idea to just let it rip though - could be very bad for my health.<br/><br/>So what I think I need to do is recommission an old server (all my other machines are laptops, and in-use or useless), and get that setup with all the sites, email, dns, etc, and swap them over. Then do the upgrade offline, then get all those services back in place, then switch back again. Needless to say I'm extremely nervous about all of this. Any suggestions or war stories most welcome.</p>


<hr/>



<h2>just do it.</h2>
<h3><a href="/user/ask/">ask</a> on 2002-03-19T08:02:16</h3>
... or not. <br> <br>Two good alternatives:<br> <br>1) Do the swap thing as you said; if you do it right then swapping back will just be copying over a bunch of files.  I like to make installations of projects as self contained as possibly for that reason.  On FreeBSD I usually make a perl/apache+mod_perl installation in<nobr> <wbr></nobr>/home/perl (a script installs Perl and the CPAN modules). Each project then run as their own user, with their own httpd.conf, apachectl and all.  Moving a project is just a matter of rsyncing<nobr> <wbr></nobr>/home/foo.<br> <br>2) Your other alternative is to just do it.  Keep a backup of everything on a spare drive or another box. Then either use your distributions upgrade system and hope for the best, or start from scratch and copy stuff over from your mirror.  Life will go on even if the sites are down for a few hours or 5.  Really, it will.<nobr> <wbr></nobr>:-)



<blockquote>

<h2>Re:just do it.</h2>
<h3><a href="/user/Matts/">Matts</a> on 2002-03-19T10:31:40</h3>
I'm tempted to JDI. I'd need to reserve a weekend or an evening for it, but I guess it could be done. What scares me most is knowing what I'll miss in the backup - My MP3's take up most of the space, so I'd have to figure out a way to store those temporarily. Perhaps I'll just buy a new computer - that's always the easiest way<nobr> <wbr></nobr>;-) I bet I could just about afford a 600 or 700 Mhz pentium second hand.



<blockquote>

<h2>Re:just do it.</h2>
<h3><a href="/user/mirod/">mirod</a> on 2002-03-19T11:59:16</h3>
<p>Maybe you could just buy an extra disk. 80G go for really cheap this days, even in France. They also tend to fill-up just as fast as 40M used to a couple of years ago, darn MP3s and AVIs (not to mention people would crank up modules by the dozen)!</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

