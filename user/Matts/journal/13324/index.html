<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Matts: Paginating - page links algorithms</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Paginating - page links algorithms</h1>
<h2><a href="/user/Matts/">Matts</a> on 2003-07-08T13:21:55</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I'm displaying a series of pages of results from a search query. Data::Page rocks for doing the nitty gritty details. But what Data::Page doesn't do for you is give you a simple algorithm for links to multiple pages where you don't want to overflow the page with links.<br/><br/>I'm probably not being clear, so an example will help.<br/><br/>You might have 100 pages of results. I don't want to show links for 1..100 at the bottom of my page. I want something more like what google does - shows you a limit around the current page you're on. So if you're on page 33, you get links for pages 30..40 (with 33 highlighted) and the rest you can see by moving through the list.<br/><br/>Has anyone created a simple algorithm for something like that? Am I missing a key module from CPAN?</p>


<hr/>



<h2>How about...</h2>
<h3><a href="/user/dlc/">dlc</a> on 2003-07-08T13:37:16</h3>
<p>You should be able to do something like:</p> <blockquote><div> <tt>&nbsp; my $pages_to_display = 10; # or whatever<br>&nbsp; my $current = 1; # The current page (3rd arg<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # to Data::Page::new)<br>&nbsp; my ($start, $end);<br>&nbsp; $start = $current - ($pages_to_display / 2);<br>&nbsp; $end = $current + ($pages_to_display / 2);<br> <br>&nbsp; for ($start<nobr> <wbr></nobr>.. $end) {<br>&nbsp; &nbsp; &nbsp; # make start and end links</tt> </div></blockquote> <p>(adding checks for boundary conditions is left as an exercise<nobr> <wbr></nobr>;)</p>
<p>You end up with $pages_to_display + 1 links
(counting the current page) in the row of pages
links.</p>



<h2>Data::Pageset</h2>
<h3><a href="/user/davorg/">davorg</a> on 2003-07-08T13:38:55</h3>
Isn't that what <a href="http://search.cpan.org/author/LLAP/Data-Pageset-0.04/Pageset.pm" title="cpan.org">Data::Pageset</a cpan.org> does?



<h2>Maybe you want something flavored like this?</h2>
<h3><a href="/user/wickline/">wickline</a> on 2003-07-09T03:54:55</h3>
Well, I tried to post it here, but slashcode got in my way. Instead, <a href="http://use.perl.org/user/wickline/journal/13340" title="perl.org">look over here</a perl.org>.<br> <br>-matt





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

