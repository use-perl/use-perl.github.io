<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Matts: Win 2k Printing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Win 2k Printing</h1>
<h2><a href="/user/Matts/">Matts</a> on 2001-10-19T20:51:27</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>At home, of course I use Linux, but my wife is a reasonably happy windows user. So recently we had to get a her setup to be able to print to my printer. Now before now we'd used Samba to do this quite happily. Worked well, and was easy to setup via SWAT. Well, reasonably easy...<br/><br/>But I was never happy with that solution. It always seemed a bit flaky to me.<br/><br/>So this time I decided to play with <a href="http://www.cups.org/">CUPS</a>'s IPP support. I'd heard that Win2K supported IPP quite well, and I knew CUPS implemented it, but I had no idea why :-)<br/><br/>So, when Windows prompted for the URL for the printer, I carefully had my wife type in "ipp://ted.sergeant.org:631/printers/lp".<br/><br/>"Permission Denied"<br/><br/>Bah!<br/><br/>So I tried a few different variations on that theme. No joy. In the end I got her to just use SMB again.<br/><br/>While I went off to fiddle.<br/><br/>in /etc/cups/cupsd.conf, I found:
<tt>
  &lt;Location />
  Order Deny,Allow
  Deny From All
  Allow From 127.0.0.1
  &lt;/Location></tt><br/><br/>(Pudge, this should work like POD - indent == source code! :-)<br/><br/>So, I added in "Allow From 192.168.0.*", restarted cupsd, and went to pry Heather away from Kazaa.<br/><br/>Entered the URL (which is "http://server:631/printers/lp", by the way). BAM! It worked (well, it still prompts you for a printer driver, which apparently IPP from a Win2K server won't do, but it's still neat). So damn cool! IPP rocks.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

