<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Matts: Improving parsing speed</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Improving parsing speed</h1>
<h2><a href="/user/Matts/">Matts</a> on 2002-01-31T11:00:57</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I've been hacking yesterday on trying to up the performance of XML::SAX::PurePerl (an XML parser written just in perl). It's a hand-built recursive descent parser, and it's reasonably fast, but orders of magnitude slower than any C parser (and probably will always be that way).<br/><br/>Most of the time is spent in the matcher and backtracking routines (for obvious reasons), which simply say "Does the current token (which is just a character) match this character, or this regexp" I guess most of the time is spent there since it's called a zillion times, so I'm not entirely sure if I can reasonably expect to make it that much faster.<br/><br/>My current problem is that I'm working from home today (err, ok so I'm really just avoiding working) waiting for DynaRod to come and clean my drains. But here I've only got 5.00503, and for some reason Devel::DProf is segfaulting for me when trying to test the parser, so right now I'm installing bleadperl to run it under that instead. I could use one of my laptops, but I want to get bleadperl running here anyway. Once I've got DProf running I can be a bit more categoric about where the slow stuff is.<br/><br/>Oh, also did you know that / [range1] | [range2] | [range3] .../ is much slower than / [range1range2range3...] /. Strange that. The major downside though is that character classes can't have spaces in them even under /x without the space being treated as an actual space. This makes the XML Char regexp awful, because it contains a massive number of different character classes. Ah well.<br/><br/>I also emailed my dad about the electrics, but got no reply so far, so I guess I'm going to have to call an electrician. Damn :-(</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

