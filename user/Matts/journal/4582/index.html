<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Matts: Devel::DProf</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Devel::DProf</h1>
<h2><a href="/user/Matts/">Matts</a> on 2002-05-01T20:12:10</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Devel::DProf and dprofpp are perhaps one of the nicer things about developing performance critical applications in Perl. Other languages really don't seem to come close to the ease with which I can use this tool to locate performance bottlenecks and kill them. I often find myself seeing a particular test that runs slowly, but I know I can just type:<br/><br/>$ perl -Mblib -d:DProf t/slowtest.t
$ dprofpp -O 50<br/><br/>and soon all will be revealed. Kudos to the author (I believe it was Ilya, but it's not in the man pages).</p>


<hr/>



<h2>And Apache::DProf</h2>
<h3><a href="/user/rafael/">rafael</a> on 2002-05-02T07:48:50</h3>
I think it was Ilya; but the format of <tt>tmon.out</tt> is unfortunately not documented. May I point you at my journal entry on <a href="http://use.perl.org/user/rafael/journal/4143" title="perl.org">Apache::DProf?</a perl.org>



<blockquote>

<h2>Re:And Apache::DProf</h2>
<h3><a href="/user/Dom2/">Dom2</a> on 2002-05-02T09:15:02</h3>
Apache::DProf is ok, but it's not really a very good tool for the simple reason that you can't pin down individual handlers.  Everything gets lumped into one big tmon.out per child.<br> <br>This means that you have to conduct large scale tests to get an average out of it instead, which is annoying when all you want to do is profile one run.<br> <br>The other problem (for me) is that Apache::DProf made my apache dump core on the page I was really interested in.  Lacking the debugging skills needed, I left it at that.<nobr> <wbr></nobr>:-(<br> <br>Overall, I found that the simplest solution was to write my code so that it didn't depend upon apache at all.  And the bonus is that I now have a script to access the web based functionality from the command line.  And because it's using the same modules I know its doing the same thing.<br> <br>BTW, after writing the script, I immediately profiled it and spotted my performance problem straight away: 4100 RPC calls per request to the back end!  Needless to say, that got optimized out sharpish!<br> <br>-Dom



<blockquote>

<h2>Re:And Apache::DProf</h2>
<h3><a href="/user/Matts/">Matts</a> on 2002-05-02T09:57:09</h3>
Devel::DProf is a bit core dump happy anyway, so I'm not surprised it did that within Apache. It got a lot better in 5.6.1, and I think it'll get better still for 5.8. Lets hope so anyway.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

