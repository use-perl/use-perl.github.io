<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of petdance: What's wrong with Class::DBI and other ORM packages</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>What's wrong with Class::DBI and other ORM packages</h1>
<h2><a href="/user/petdance/">petdance</a> on 2006-03-23T23:27:03</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Dave Cross has plenty of good points in here: 
<a href="http://dave.org.uk/talks/lpm/2006/orm">http://dave.org.uk/talks/lpm/2006/orm</a></p>


<hr/>



<h2>Great slides!</h2>
<h3><a href="/user/Ovid/">Ovid</a> on 2006-03-24T00:06:54</h3>
<p>Great set of slides.  David (theory) and I were dealing with something similar except we create the db metadata from our classes rather than the other way around.</p>



<blockquote>

<h2>Db may be a good source but...</h2>
<h3><a href="/user/lilstevey/">lilstevey</a> on 2006-03-27T13:12:12</h3>
I found that whilst the database can be
a very good source for a lot of metadata and relationship stuff, it can be advantageous to extract this information, into say XML, which can then have further hints applied to it, and the output of this can be used as the source for objects, database code and such.
<br> <br>
Just because some of your data is in a database at the moment doesn't mean it always will be, and your objects may outlive the implementation of a store.





</blockquote>


<h2>ORM</h2>
<h3><a href="/user/sigzero/">sigzero</a> on 2006-03-24T02:08:57</h3>
So is there a "good" ORM module for Perl? I see Rose::DB and the ones mentioned in the talk.



<h2>What's wrong with ORM</h2>
<h3><a href="/user/davorg/">davorg</a> on 2006-03-24T11:10:45</h3>
I should point out that the only reason I concentrated on Class::DBI was because it's the ORM system that I know best. All ORM systems that I've looked at suffer from at least some of the same shortcomings.<br><br>The idea first came to me when I first saw the amount of repetition needed to set up classes in ActiveRecord. And, of course, they get round the DRY issues by not defining anything clever in the database. Which is just wrong.



<blockquote>

<h2>Re:What's wrong with ORM</h2>
<h3><a href="/user/sigzero/">sigzero</a> on 2006-03-24T13:36:21</h3>
<p>Dave::ORM?  : )</p>

<p>I am <b>joking</b>!</p>

<p>I enjoyed the presentation as well.</p>



<h2>Re:What's wrong with ORM</h2>
<h3><a href="/user/petdance/">petdance</a> on 2006-03-24T14:27:03</h3>
I only put Class::DBI in the title because I figured that it was more recognizable to people than ORM.



<h2>Re:What's wrong with ORM</h2>
<h3><a href="/user/perrin/">perrin</a> on 2006-03-27T16:47:26</h3>
You really need to look at Rose::DB::Object.  It can do this for you, either from actual database relationships or from conventions (like ActiveRecord does), and if you don't like the way it does it, there's an API for changing it.





</blockquote>


<h2>I disagree</h2>
<h3><a href="/user/Alias/">Alias</a> on 2006-03-25T13:24:15</h3>
While it sounds like an interesting idea, I disagree quite strongly.<br><br>What he's suggesting is that we automagically change the code and API based on the structure of the database.<br><br>This is just ASKING for weird bugs to crop up.<br><br>You really DO need to have BOTH halves of the application (code and database) independant for anything but the most trivial application.<br><br>What IS necesary though, is that your application knows whether or not it is compatible with the database.<br><br>For example, there could be extra fields in the database the application doesn't know of care about. As long as the application can be sure they aren't needed (for example, all the extra fields are nullable, or the application won't have to write to the table.<br><br>This means that the application is properly compatible with the database, and it is TESTABLE, and you won't but bugs cropping up because some DBA added a column called "store" what clashes with a non-data method you are using in your class.





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

