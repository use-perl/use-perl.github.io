<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of petdance: My first batch of Perl::Critic extensions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>My first batch of Perl::Critic extensions</h1>
<h2><a href="/user/petdance/">petdance</a> on 2006-07-15T04:33:56</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>I put out my first batch of extensions to Perl::Critic, in the distro <A HREF="http://search.cpan.org/dist/Perl-Critic-Bangs">Perl-Critic-Bangs</A>.  (You'll want version 0.20, not the 0.01 that's there as I write this)
<P>
The rules come from my <A HREF="http://search.cpan.org/dist/fluff">fluff</A> distribution, which I guess is still useful, but Perl::Critic handles more nicely.  Thanks to <A HREF="http://use.perl.org/user/amoore">Andy Moore</A> for doing most of the leg work and letting me take it from him.

<P>
<p>The rules included with the Perl::Critic::Bangs group include:</p>
<p>
</p>
<ul>
<li><a name="prohibitcommentedoutcode">ProhibitCommentedOutCode</a></h2>
<p>Commented-out code is usually noise.  It should be removed.</p>
<p>
</p>
<li><a name="prohibitflagcomments">ProhibitFlagComments</a></h2>
<p>Watch for comments like ``XXX'', ``TODO'', etc.</p>
<p>
</p>
<li><a name="prohibitnoplan">ProhibitNoPlan</a></h2>
<p>Tests should have a plan.</p>
<p>
</p>
<li><a name="prohibitnumberednames">ProhibitNumberedNames</a></h2>
<p>Variables like <code>$user</code> and <code>$user2</code> are insufficiently distinguished.</p>
<p>
</p>
<li><a name="prohibitrefprotoorproto">ProhibitRefProtoOrProto</a></h2>
<p>Determining the class in a constructor by using <code>ref($proto) || $proto</code> is usually
a cut-n-paste that is incorrect.</p>
<p>
</p>
<li><a name="prohibitvaguenames">ProhibitVagueNames</a></h2>
<p>Vague variables like <code>$data</code> or <code>$info</code> are not descriptive enough.</p>
</ul></p>


<hr/>



<h2>Flag comments?</h2>
<h3><a href="/user/sigzero/">sigzero</a> on 2006-07-15T11:07:51</h3>
Why would you prohibit those? I think there would be more valid reasons to have flag comments than not. But I could just not have been explanation that proves otherwise.



<blockquote>

<h2>Re:Flag comments?</h2>
<h3><a href="/user/sigzero/">sigzero</a> on 2006-07-15T11:11:36</h3>
I should say *not* in production code though.





</blockquote>


<h2>ProhibitRefProtoOrProto</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2006-07-15T12:16:18</h3>
<p> <i>Determining the class in a constructor by using ref($proto) || $proto is usually a cut-n-paste that is incorrect.</i> </p>

<p>Could you please elaborate?  I've been using </p><blockquote> <div><tt>my $class = ref $self || $self</tt></div> </blockquote> for years.  The purpose seems to be so that a method can be called as either a class method or an instance method, but I've got to admit I'm not really sure why that's so important; it has never affected me.



<blockquote>

<h2>Re:ProhibitRefProtoOrProto</h2>
<h3><a href="/user/petdance/">petdance</a> on 2006-07-15T12:58:09</h3>
Not exactly.  Read here:<br/><br/><a href="http://search.cpan.org/dist/Perl-Critic-Bangs/ProhibitRefProtoOrProto.pm" title="cpan.org">http://search.cpan.org/dist/Perl-Critic-Bangs/ProhibitRefProtoOrProto.pm</a cpan.org>



<blockquote>

<h2>Re:ProhibitRefProtoOrProto</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2006-07-16T00:40:10</h3>
<p>Thank you.  I hereby renounce my cargo-cultish ways.<nobr> <wbr></nobr>:)  Thanks also for the link to Randal's column which mentioned this.</p>

<p>It's good to have some perspective.  I've actually always thought it was a bit odd to want an instance to be useful for generating additional objects of the same class.  But perltoot was the first work that taught me OO (yes, I learned OO with Perl before I ever saw Java or C++<nobr> <wbr></nobr>:) ), and so I accepted it as Gospel truth at the time.<nobr> <wbr></nobr>:)</p>





</blockquote>


<h2>Re:ProhibitRefProtoOrProto</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2006-07-15T18:41:07</h3>
<p>You've touched on part of the problem; if you don't know why a piece of code or an idiom is important, why use it?</p>



<blockquote>

<h2>Re:ProhibitRefProtoOrProto</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2006-07-16T00:41:21</h3>
<p>Can't argue with that.  Except in this case the Perl documentation told me it was important.  So I sit there with cognative dissonance: my several years of experience on the subject tell me that you'd never want to do what this idiom is for.  But the very work that taught me OO in the first place said to do it.  Thus, I've never really said, "Why not get rid of this?"</p>



<blockquote>

<h2>Re:ProhibitRefProtoOrProto</h2>
<h3><a href="/user/petdance/">petdance</a> on 2006-07-16T00:47:33</h3>
Yeah, it's been in perltoot forever.  But it's no longer there.  Randal or I (not sure who) have yanked it.



<blockquote>

<h2>Re:ProhibitRefProtoOrProto</h2>
<h3><a href="/user/jdavidb/">jdavidb</a> on 2006-07-16T05:13:13</h3>
<p>Good.  That should solve the problem for future budding Perl programmers.</p>

<p>Heh; my children will probably learn object-oriented programming from Perl's documentation.<nobr> <wbr></nobr>:)</p>





</blockquote>


<h2>Re:ProhibitRefProtoOrProto</h2>
<h3><a href="/user/chromatic/">chromatic</a> on 2006-07-16T07:07:42</h3>
<p>Yeah, that's a longstanding frustration I share.  I've slowly, secretly submitted documentation patches for some of the more egregious fibs of the documentation over the years.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

