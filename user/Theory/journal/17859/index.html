<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of Theory: activitymail 1.19</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>activitymail 1.19</h1>
<h2><a href="/user/Theory/">Theory</a> on 2004-03-11T17:54:26</h2>
</div> <!-- /span4 -->


<div class="span8">
<p><a href="Now&nbsp;with&nbsp;file&nbsp;includes&nbsp;and&nbsp;excludes."></a>

<p>I'm pleased to announce the release of <a href="http://search.cpan.org/dist/activitymail/">activitymail</a> 1.19, currently finding its way to a CPAN mirror near you. This release has a new feature I've been wanted to add for a long time, ever since <a href="http://www.askbjoernhansen.com/">Ask</a> mentioned it to me a couple of years ago. A patch from Gary Meyer ported <code>log_accume</code>'s <code>-I</code> and <code>-E</code> options, which specify files with a list of regular expressions that can be used to exclude certain files from being processed via a commit. Now, this was the feature I wanted, but wasn't exactly how I wanted to do it.</p>

<p>So starting with Gary's patch, I've modified the <code>-I</code> and <code>-E</code> options to instead take one or more regular expressions right on the command line. These regular expressions are then compared to each file processed during the CVS activity, and then either include the file (in the case of a <code>-I</code> regular expression) or exclude the file (in the case of a <code>-E</code> regular expression). Needless to say, both <code>-I</code> and <code>-E</code> cannot be included in a single invocation of activitymail. You can even pass multiple regular expressions to a single <code>-I</code> or <code>-E</code> option, delimited by an empty space. This means you can't use spaces in your regular expressions, though; use <code>\s</code>, instead.</p>

<p>The expected use for these new options is in combination with the regular expressions in the CVS <code>loginfo</code> file. You can specify that activitymail be executed for a particular directory, and then use <code>-I</code> or <code>-E</code> to include or exclude specific files in that directory.</p>

<p>One other new feature of activitymail 1.19 is the new <code>-q</code> and <code>-Q</code> options. Both options enable a quiet mode for activitymail, eliminating the status messages typically printed out during a commit (such as &quot;Collecting file lists...&quot; and &quot;Sending email&quot;). The  <code>-q</code> option can be used for most cases; the <code>-Q</code> option is exactly the same, except that it also silences the status message output when an email is larger than the size specified by the  <code>-M</code> option.</p>

<p>Enjoy!</p>

<p>David</p>
</p>


<hr/>



<h2>perhaps useful together</h2>
<h3><a href="/user/jmm/">jmm</a> on 2004-03-11T18:15:58</h3>
<i>Needless to say, both -I and -E cannot be included in a single invocation of activitymail.</i> <p>
I don't see why it is "needless to say".  Surely it could be useful to allow multiple -I and -E options in a single invokation to specify subtle patterns of selection.  Just process them in order and use the selected result whenever a match is foud, or reverse the final option if its pattern fails to match.  So: "-I normal -E no*" would exclude most files beginning with "no", but still include "normal" as well as files that do not begin with "no".  (I would be tempted to process them in right-to-left order, the reverse of the order that they were typed, since people normally think of the larger cases and then proceed to the exceptions.)</p>



<blockquote>

<h2>Re:perhaps useful together</h2>
<h3><a href="/user/smew/">smew</a> on 2004-03-11T19:13:27</h3>
Perhaps a better sentence to use would have been:
It is ambiguous at best to specify both -I and -E, thus it is not allowed.  Your suggested algorithm is neither the one that I came up with, nor the one that David originally implemented, thus we decided not to allow it to avoid such confusion.  Gary Meyer.



<h2>Re:perhaps useful together</h2>
<h3><a href="/user/Theory/">Theory</a> on 2004-03-11T21:19:02</h3>
I kinda like this idea, but I'm not sure how I'd divide it up if either or both -E and -I specified multiple regular expressions. How to decide which go first?<br> <br>David





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

