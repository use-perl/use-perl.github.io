<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jplindstrom: You can get there from here - but it's the long way around</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>You can get there from here - but it's the long way around</h1>
<h2><a href="/user/jplindstrom/">jplindstrom</a> on 2008-09-10T00:24:15</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>Last week I spent some time refactoring the code base at work, moving configuration into the domain layer. Lots of editing, lots of moving around the code base. And waaay too much time spent chasing down specific files when moving things from <tt>DBIC/Mapper/Episode.pm</tt> to <tt>Domain/Episode.pm,</tt> adding tests to <tt>domain/episode-general.t</tt>. You get the picture.<br/><br/>So that's a pattern. A 2d matrix of things in the code base. One dimension is the entities in the domain: <tt>Book</tt>, <tt>Person</tt>, <tt>Account</tt>. The other is the technical aspects they need to deal with: <i>database tables</i>, <i>business logic</i>, <i>web request dispatch</i>, <i>templates</i>, <i>tests</i>.<br/><br/>A project with an MVC structure usually ends up with the technical dimension (<i>Model</i>, <i>View</i>, <i>Controller</i>) at the top level in the directory tree, and then each of the <i>M</i>, <i>V</i>, <i>C</i> contain all of the the "things". There isn't always a 1:1:1 match between all of them, but often enough there is.<br/><br/>The project at work has even more technical aspects of most domain entities, because we support multiple input formats (and soon multiple output formats). Add tests to that and you have a big pile of files.<br/><br/>So how annoying was it to navigate up and down this directory tree all day long? A lot annoying is what it was.<br/><br/>But at least it's a structured pile of files. Certain files are next to each other, in the same directory. Other files have the same name, but are in different directories.<br/><br/>I ended up taking shortcuts, like switching to a file in the neighbourhood of where I was going and opening the file from there, so the cwd would be the correct one. But still very annoying.<br/><br/>So over the weekend I wrote <tt><a href="http://search.cpan.org/dist/File-Corresponding/lib/File/Corresponding.pm">File::Corresponding</a></tt>, to help me find related files. Basically an aid to navigate sideways in the directory tree, solving the problem described above.<br/><br/>A config file and a command line script you can shell out to from your editor of choise. And if your editor of choise is Emacs, I just made a release of <a href="http://search.cpan.org/dist/Devel-PerlySense/lib/Devel/PerlySense.pm">Devel::PerlySense</a> which incorporates this.<br/><br/>Since I just implemented the Emacs thing I haven't actually tried it out much yet, so it'll be interesting to see if it's actually useful :) If you decide to give it a spin, feel free to share your experience in the comments.
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

