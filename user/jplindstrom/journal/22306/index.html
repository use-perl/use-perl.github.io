<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jplindstrom: Template Toolkit: Alternating row colors</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>Template Toolkit: Alternating row colors</h1>
<h2><a href="/user/jplindstrom/">jplindstrom</a> on 2004-12-14T14:49:39</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>For future reference:<br/><br/>This is how to make every third row off-color in a table listing when using Template Toolkit.<br/><br/><pre>
[% FOREACH object = domain.raObject %]
  <tr [% IF not ((loop.index + 1) % 3) %]bgcolor="#EEEEEE"[% END %]>
</pre>
</p>


<hr/>



<h2>Re: Template Toolkit: Alternating row colors</h2>
<h3><a href="/user/davorg/">davorg</a> on 2004-12-14T15:32:14</h3>
<p>Using loop.count instead of loop.index makes that code a little simpler (loop.count is always loop.index + 1).</p>

<code>
[% FOREACH object = domain.raObject %]
  &lt;tr [% IF not (loop.count % 3) %]bgcolor="#EEEEEE"[% END %]&gt;
</code>

<p>Also, I'd tend to do something like this with classes and stylesheets as it makes it easier to change in the future.</p>

<code>
[% FOREACH object = domain.raObject %]
  &lt;tr class="row_style_[% loop.count % 3 %]"&gt;
</code>

<p>You can then define three (or less) styles called "row_style_0", "row_style_1" and "row_style_2".</p>



<blockquote>

<h2>Re: Template Toolkit: Alternating row colors</h2>
<h3><a href="/user/Dom2/">Dom2</a> on 2004-12-14T16:09:48</h3>
I prefer to do that sort of fiddling in JavaScript, all though it's all much of a muchness.  There's a good <a href="http://www.alistapart.com/articles/zebratables/" title="alistapart.com">article</a alistapart.com> on how to do stripey tables.  Again, I prefer class names to the technique described, but it's a small change.

<p>-Dom</p>



<blockquote>

<h2>Re: Template Toolkit: Alternating row colors</h2>
<h3><a href="/user/merlyn/">merlyn</a> on 2004-12-14T19:27:09</h3>
Javascript?  If Javascript is the answer, you asked the wrong question!



<blockquote>

<h2>Re: Template Toolkit: Alternating row colors</h2>
<h3><a href="/user/Dom2/">Dom2</a> on 2004-12-14T21:45:48</h3>
I beg to differ.  JavaScript shares a lot in common with Perl, not least the fact that it has a very bad reputation due to people writing very bad things with it.<nobr> <wbr></nobr>:-)

<p>JavaScript is a pleasant language, fairly small with a regular syntax and quite object oriented.  It's got closures and objects and garbage collection and exceptions and all the things that you expect from a modern dynamic language.  It's worth a second look if all you've ever done is bitch at badly written sites that use it...

</p><p>-Dom</p>



<blockquote>

<h2>Re: Template Toolkit: Alternating row colors</h2>
<h3><a href="/user/malte/">malte</a> on 2004-12-14T22:35:07</h3>
<p>I second that! JavaScript is a really nice language (especially if you keep IE 5 for Macintosh out of the game). What Do you guys think about <a href="http://lottospielen-nds.test.avantaxx.de/nonreplay/keno/main_spielen_keno.html" title="avantaxx.de">this?</a avantaxx.de> </p>

<p>The other good thing about JavaScript is: If you know it your an instant expert on ActionScript (Macromedia Flash programming language)<nobr> <wbr></nobr>:). At work, we seem to hav found at least a couple uses for Flash that are not annoying<nobr> <wbr></nobr>:)</p>



<h2>Re: Template Toolkit: Alternating row colors</h2>
<h3><a href="/user/merlyn/">merlyn</a> on 2004-12-15T03:09:30</h3>
That may all be fine, but you forget that more people have Javascript turned off today than ever before (including turned off by corporate mandate), and that javascript has variant behaviors on different browsers, and that some people don't even have the option of turning javascript <i>on</i> because their corporate or school gateway filters it out.
<p>
You <i>must</i> design your website so that it can function without Javascript (although possibly degraded).</p>



<blockquote>

<h2>Re: Template Toolkit: Alternating row colors</h2>
<h3><a href="/user/petdance/">petdance</a> on 2004-12-15T05:35:53</h3>
<i>
You must design your website so that it can function without Javascript
</i>
<p>
"Must" is such a heavy word.  I usually reply "or what?"
</p><p>
Design tradeoffs are tradeoffs.</p>



<blockquote>

<h2>He already said or what</h2>
<h3><a href="/user/btilly/">btilly</a> on 2004-12-16T01:27:12</h3>
Or you unavoidably lose some fraction of your potential user base.  I agree with him but I'd be curious to see what that fraction is.





</blockquote>


<h2>Re: Template Toolkit: Alternating row colors</h2>
<h3><a href="/user/Dom2/">Dom2</a> on 2004-12-15T08:03:00</h3>
I agree entirely with you.  JavaScript should (where  possible) be an addon to the design, which must be fully functional without it.

<p>But the point I was trying to make was that the <em>language itself</em> is worthy of closer inspection.

</p><p>-Dom</p>



<blockquote>

<h2>Re: Template Toolkit: Alternating row colors</h2>
<h3><a href="/user/lachoy/">lachoy</a> on 2004-12-15T15:25:57</h3>
I agree, it's a nice little language. I used the pure-Java <a href="http://www.mozilla.org/rhino" title="mozilla.org">Rhino interpreter</a mozilla.org> for an internal web testing product I built in Java. There are some weird API contortions to perform certain actions (like putting classes/objects in context and translating JS to Java obects), but overall it's quite useful. The <a href="http://weblog.infoworld.com/udell/2004/09/29.html" title="infoworld.com">E4X</a infoworld.com> stuff recently added (to 1.6R1) looks pretty interesting as well.





</blockquote>

</blockquote>

</blockquote>

</blockquote>


<h2>Re: Template Toolkit: Alternating row colors</h2>
<h3><a href="/user/zatoichi/">zatoichi</a> on 2004-12-15T01:54:47</h3>
<p>Why would you want to include yet another js script when you can do the same thing in TT in a few lines of Perl? That is just crazy.</p>

<p>Then again I am retentive about controlling my code as much as possible.<nobr> <wbr></nobr>:-)</p>





</blockquote>


<h2>Re: Template Toolkit: Alternating row colors</h2>
<h3><a href="/user/jplindstrom/">jplindstrom</a> on 2004-12-14T20:27:25</h3>
Thanks!<br> <br>Being new to Template Toolkit I had to google just to find that little piece of code.





</blockquote>


<h2>Tie::Cycle</h2>
<h3><a href="/user/petdance/">petdance</a> on 2004-12-14T16:13:10</h3>
brian d foy's Tie::Cycle is ideal for this, although I'm not sure how it'll fit into TT.  Maybe I'll write a plugin wrapper for it.



<blockquote>

<h2>Re:Tie::Cycle</h2>
<h3><a href="/user/petdance/">petdance</a> on 2004-12-14T16:51:28</h3>
Oh look, it seems to already exist:<br/><br/><a href="http://search.cpan.org/dist/Template-Plugin-Cycle/" title="cpan.org">Template::Plugin::Cycle</a cpan.org>



<blockquote>

<h2>Re:Tie::Cycle</h2>
<h3><a href="/user/davorg/">davorg</a> on 2004-12-14T17:32:48</h3>
<p>That isn't actually based on Tie::Cycle, it's a complete new reimplementation of the functionality.</p>

<p>Also it's not a properly written TT plugin. It doesn't inherit from Template::Plugin so you can't use it from a template like this:</p> <blockquote><div> <tt>[% USE Cycle('foo', 'bar') -%]<br>[% Cycle %]<br>[% Cycle %]<br>[% Cycle %]</tt> </div></blockquote> <p>If you replace Cycle.pm with the version that you'll find at http://dave.org.uk/template/ then it will work as expected.</p> <blockquote><div> <tt>$ tpage test.tt<br>foo<br>bar<br>foo</tt> </div></blockquote> <p>I'll submit the patch to the author tonight.</p>



<blockquote>

<h2>Re:Tie::Cycle</h2>
<h3><a href="/user/petdance/">petdance</a> on 2004-12-14T17:42:33</h3>
I don't mind if it's based on Tie::Cycle or not.  I just want the functionality.
<p>
Thanks for the patch.  I hope Adam can crank it out soon.  I wasn't too keen on having to pass in an iterator in the <tt>process()</tt> call.</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

