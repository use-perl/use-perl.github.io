<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>use.perl.org journal of jplindstrom: C -&amp;gt; Perl</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the
bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script
src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/static/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse"
data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/"><img src="/static/img/slashhead.png"/></a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/journals/">Journals</a></li>
              <li><a href="/stories/">Stories</a></li>
            </ul>
            <p class="navbar-text">All the Perl that's Practical to Extract and Report</p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



<div class="container">

<div class="row">

<div class="span4">
<h1>C -&amp;gt; Perl</h1>
<h2><a href="/user/jplindstrom/">jplindstrom</a> on 2003-01-15T01:46:47</h2>
</div> <!-- /span4 -->


<div class="span8">
<p>This afternoon, in order to add a little functionality, I re-implemented a small server program (basically just extracting and serving log files), written in C.<br/><br/>Before: 750 lines, 25K
After: 150 lines, 6K<br/><br/>Had I not been forced to follow a home grown protocol it would have been smaller and gone quicker (HTTP::Daemon and all). <br/><br/>Why do people keep writing their own protocols when there are existing protocols with existing implementations that work just as fine? This protocol was stateful when it didn't need to be, so HTTP would have worked nicely.<br/><br/>One thing I noticed and appreciated is that Perl's old inheritance from C with identical networking commands got the IPC code real easy to port from C.<br/><br/>A 5:1 code size ratio seems a bit large even for C vs Perl, and admittedly it wasn't the tightest C code I've seen.<br/><br/>In another C-program I re-wrote in Perl (the original never got stable, so we got tired of cleaning up the mess it left behind) the lines-of-code ratio was something like 3:1, with a bit more functionality and a lot more stability in the Perl version. That, and unit tests.
</p>





</div> <!-- /span8 -->

</div> <!-- row -->
</div> <!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

  </body>
</html>

